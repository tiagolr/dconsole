if(function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r||{},mo(Ms,r,!1),d(r);var i=r.value;"string"==typeof i&&(i=new ra(i,r.mode)),this.doc=i;var o=this.display=new t(n,i);o.wrapper.CodeMirror=this,u(this),l(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!us&&Tn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new lo},Jo&&11>es&&setTimeout(vo(Sn,this,!0),20),In(this),Ao();var s=this;cn(this,function(){s.curOp.forceUpdate=!0,Ii(s,i),r.autofocus&&!us||So()==o.input?setTimeout(vo(qn,s),20):Jn(s);for(var e in Bs)Bs.hasOwnProperty(e)&&Bs[e](s,r[e],Os);x(s);for(var t=0;t<Hs.length;++t)Hs[t](s)})}function t(e,t){var n=this,r=n.input=bo("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");ts?r.style.width="1000px":r.setAttribute("wrap","off"),cs&&(r.style.border="1px solid black"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck","false"),n.inputDiv=bo("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=bo("div",[bo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=bo("div",[bo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=bo("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=bo("div",null,"CodeMirror-gutter-filler"),n.lineDiv=bo("div",null,"CodeMirror-code"),n.selectionDiv=bo("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=bo("div",null,"CodeMirror-cursors"),n.measure=bo("div",null,"CodeMirror-measure"),n.lineMeasure=bo("div",null,"CodeMirror-measure"),n.lineSpace=bo("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=bo("div",[bo("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=bo("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=bo("div",null,null,"position: absolute; height: "+fa+"px; width: 1px;"),n.gutters=bo("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=bo("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=bo("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Jo&&8>es&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),cs&&(r.style.width="0px"),ts||(n.scroller.draggable=!0),ss&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),Jo&&8>es&&(n.scrollbarH.style.minHeight=n.scrollbarV.style.minWidth="18px"),e.appendChild?e.appendChild(n.wrapper):e(n.wrapper),n.viewFrom=n.viewTo=t.first,n.view=[],n.externalMeasured=null,n.viewOffset=0,n.lastSizeC=0,n.updateLineNumbers=null,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new lo,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,wt(e,100),e.state.modeGen++,e.curOp&&gn(e)}function i(e){e.options.lineWrapping?(Fo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth=""):(Eo(e.display.wrapper,"CodeMirror-wrap"),f(e)),s(e),gn(e),jt(e),setTimeout(function(){v(e)},100)}function o(e){var t=Xt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/qt(e.display)-3);return function(i){if(ni(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function s(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&Mi(e,t)})}function a(e){var t=Us[e.options.keyMap],n=t.style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:"")}function l(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),jt(e)}function c(e){u(e),gn(e),setTimeout(function(){_(e)},20)}function u(e){var t=e.display.gutters,n=e.options.gutters;wo(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(bo("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",h(e)}function h(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px",e.display.scrollbarH.style.left=e.options.fixedGutter?t+"px":0}function p(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Qr(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Zr(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function f(e){var t=e.display,n=e.doc;t.maxLine=Di(n,n.first),t.maxLineLength=p(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=p(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function d(e){var t=po(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function g(e){return e.display.scroller.clientHeight-e.display.wrapper.clientHeight<fa-3}function m(e){var t=e.display.scroller;return{clientHeight:t.clientHeight,barHeight:e.display.scrollbarV.clientHeight,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,hScrollbarTakesSpace:g(e),barWidth:e.display.scrollbarH.clientWidth,docHeight:Math.round(e.doc.height+Et(e.display))}}function v(e,t){t||(t=m(e));var n=e.display,r=Mo(n.measure),i=t.docHeight+fa,o=t.scrollWidth>t.clientWidth;o&&t.scrollWidth<=t.clientWidth+1&&r>0&&!t.hScrollbarTakesSpace&&(o=!1);var s=i>t.clientHeight;if(s?(n.scrollbarV.style.display="block",n.scrollbarV.style.bottom=o?r+"px":"0",n.scrollbarV.firstChild.style.height=Math.max(0,i-t.clientHeight+(t.barHeight||n.scrollbarV.clientHeight))+"px"):(n.scrollbarV.style.display="",n.scrollbarV.firstChild.style.height="0"),o?(n.scrollbarH.style.display="block",n.scrollbarH.style.right=s?r+"px":"0",n.scrollbarH.firstChild.style.width=t.scrollWidth-t.clientWidth+(t.barWidth||n.scrollbarH.clientWidth)+"px"):(n.scrollbarH.style.display="",n.scrollbarH.firstChild.style.width="0"),o&&s?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=n.scrollbarFiller.style.width=r+"px"):n.scrollbarFiller.style.display="",o&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r+"px",n.gutterFiller.style.width=n.gutters.offsetWidth+"px"):n.gutterFiller.style.display="",!e.state.checkedOverlayScrollbar&&t.clientHeight>0){if(0===r){var a=hs&&!as?"12px":"18px";n.scrollbarV.style.minWidth=n.scrollbarH.style.minHeight=a;var l=function(t){eo(t)!=n.scrollbarV&&eo(t)!=n.scrollbarH&&un(e,Mn)(t)};ca(n.scrollbarV,"mousedown",l),ca(n.scrollbarH,"mousedown",l)}e.state.checkedOverlayScrollbar=!0}}function y(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Tt(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Oi(t,r),s=Oi(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;if(o>a)return{from:a,to:Oi(t,Ni(Di(t,a))+e.wrapper.clientHeight)};if(Math.min(l,t.lastLine())>=s)return{from:Oi(t,Ni(Di(t,l))-e.wrapper.clientHeight),to:l}}return{from:o,to:Math.max(s,o+1)}}function _(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=w(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function x(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=b(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(bo("div",[bo("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s),r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",h(e),!0}return!1}function b(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function w(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function C(e,t,n){var r=e.display;this.viewport=t,this.visible=y(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.oldViewFrom=r.viewFrom,this.oldViewTo=r.viewTo,this.oldScrollerWidth=r.scroller.clientWidth,this.force=n,this.dims=A(e)}function k(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return vn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&0==bn(e))return!1;x(e)&&(vn(e),t.dims=A(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),vs&&(o=ei(e.doc,o),s=ti(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastSizeC!=t.wrapperHeight;xn(e,o,s),n.viewOffset=Ni(Di(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=bn(e);if(!a&&0==l&&!t.force&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=So();return l>4&&(n.lineDiv.style.display="none"),L(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),c&&So()!=c&&c.offsetHeight&&c.focus(),wo(n.cursorDiv),wo(n.selectionDiv),a&&(n.lastSizeC=t.wrapperHeight,wt(e,400)),n.updateLineNumbers=null,!0}function S(e,t){for(var n=t.force,r=t.viewport,i=!0;;i=!1){if(i&&e.options.lineWrapping&&t.oldScrollerWidth!=e.display.scroller.clientWidth)n=!0;else if(n=!1,r&&null!=r.top&&(r={top:Math.min(e.doc.height+Et(e.display)-fa-e.display.scroller.clientHeight,r.top)}),t.visible=y(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!k(e,t))break;I(e);var o=m(e);yt(e),E(e,o),v(e,o)}no(e,"update",e),(e.display.viewFrom!=t.oldViewFrom||e.display.viewTo!=t.oldViewTo)&&no(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo)}function T(e,t){var n=new C(e,t);if(k(e,n)){I(e),S(e,n);var r=m(e);yt(e),E(e,r),v(e,r)}}function E(e,t){e.display.sizer.style.minHeight=e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=Math.max(t.docHeight,t.clientHeight-fa)+"px"}function F(e,t){e.display.sizer.offsetWidth+e.display.gutters.offsetWidth<e.display.scroller.clientWidth-1&&(e.display.sizer.style.minHeight=e.display.heightForcer.style.top="0px",e.display.gutters.style.height=t.docHeight+"px")}function I(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,o=t.view[r];if(!o.hidden){if(Jo&&8>es){var s=o.node.offsetTop+o.node.offsetHeight;i=s-n,n=s}else{var a=o.node.getBoundingClientRect();i=a.bottom-a.top}var l=o.line.height-i;if(2>i&&(i=Xt(t)),(l>.001||-.001>l)&&(Mi(o.line,i),D(o.line),o.rest))for(var c=0;c<o.rest.length;c++)D(o.rest[c])}}}function D(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function A(e){for(var t=e.display,n={},r={},i=t.gutters.firstChild,o=0;i;i=i.nextSibling,++o)n[e.options.gutters[o]]=i.offsetLeft,r[e.options.gutters[o]]=i.offsetWidth;return{fixedPos:w(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function L(e,t,n){function r(t){var n=t.nextSibling;return ts&&hs&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,o=e.options.lineNumbers,s=i.lineDiv,a=s.firstChild,l=i.view,c=i.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node){for(;a!=h.node;)a=r(a);var p=o&&null!=t&&c>=t&&h.lineNumber;h.changes&&(po(h.changes,"gutter")>-1&&(p=!1),M(e,h,c,n)),p&&(wo(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(b(e.options,c)))),a=h.node.nextSibling}else{var f=R(e,h,c,n);s.insertBefore(f,a)}c+=h.size}for(;a;)a=r(a)}function M(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?$(e,t):"gutter"==o?H(e,t,n,r):"class"==o?P(t):"widget"==o&&j(t,r)}t.changes=null}function B(e){return e.node==e.text&&(e.node=bo("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Jo&&8>es&&(e.node.style.zIndex=2)),e.node}function O(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=B(e);e.background=n.insertBefore(bo("div",null,t),n.firstChild)}}function N(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):vi(e,t)}function $(e,t){var n=t.text.className,r=N(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,P(t)):n&&(t.text.className=n)}function P(e){O(e),e.line.wrapClass?B(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function H(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var o=B(t),s=t.gutter=o.insertBefore(bo("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px"),t.text);if(!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(bo("div",b(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=i.hasOwnProperty(l)&&i[l];c&&s.appendChild(bo("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function j(e,t){e.alignable&&(e.alignable=null);for(var n,r=e.node.firstChild;r;r=n){var n=r.nextSibling;"CodeMirror-linewidget"==r.className&&e.node.removeChild(r)}W(e,t)}function R(e,t,n,r){var i=N(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),P(t),H(e,t,n,r),W(t,r),t.node}function W(e,t){if(V(e.line,e,t,!0),e.rest)for(var n=0;n<e.rest.length;n++)V(e.rest[n],e,t,!1)}function V(e,t,n,r){if(e.widgets)for(var i=B(t),o=0,s=e.widgets;o<s.length;++o){var a=s[o],l=bo("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||(l.ignoreEvents=!0),U(a,l,t,n),r&&a.above?i.insertBefore(l,t.gutter||t.text):i.appendChild(l),no(a,"redraw")}}function U(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function z(e){return ys(e.line,e.ch)}function G(e,t){return _s(e,t)<0?t:e}function K(e,t){return _s(e,t)<0?e:t}function Y(e,t){this.ranges=e,this.primIndex=t}function Q(e,t){this.anchor=e,this.head=t}function Z(e,t){var n=e[t];e.sort(function(e,t){return _s(e.from(),t.from())}),t=po(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(_s(o.to(),i.from())>=0){var s=K(o.from(),i.from()),a=G(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;t>=r&&--t,e.splice(--r,2,new Q(l?a:s,l?s:a))}}return new Y(e,t)}function X(e,t){return new Y([new Q(e,t||e)],0)}function q(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function J(e,t){if(t.line<e.first)return ys(e.first,0);var n=e.first+e.size-1;return t.line>n?ys(n,Di(e,n).text.length):et(t,Di(e,t.line).text.length)}function et(e,t){var n=e.ch;return null==n||n>t?ys(e.line,t):0>n?ys(e.line,0):e}function tt(e,t){return t>=e.first&&t<e.first+e.size}function nt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=J(e,t[r]);return n}function rt(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=_s(n,i)<0;o!=_s(r,i)<0?(i=n,n=r):o!=_s(n,r)<0&&(n=r)}return new Q(i,n)}return new Q(r||n,n)}function it(e,t,n,r){ut(e,new Y([rt(e,e.sel.primary(),t,n)],0),r)}function ot(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=rt(e,e.sel.ranges[i],t[i],null);var o=Z(r,e.sel.primIndex);ut(e,o,n)}function st(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,ut(e,Z(i,e.sel.primIndex),r)}function at(e,t,n,r){ut(e,X(t,n),r)}function lt(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Q(J(e,t[n].anchor),J(e,t[n].head))}};return ha(e,"beforeSelectionChange",e,n),e.cm&&ha(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Z(n.ranges,n.ranges.length-1):t}function ct(e,t,n){var r=e.history.done,i=ho(r);i&&i.ranges?(r[r.length-1]=t,ht(e,t,n)):ut(e,t,n)}function ut(e,t,n){ht(e,t,n),Ui(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function ht(e,t,n){(so(e,"beforeSelectionChange")||e.cm&&so(e.cm,"beforeSelectionChange"))&&(t=lt(e,t));var r=n&&n.bias||(_s(t.primary().head,e.sel.primary().head)<0?-1:1);pt(e,dt(e,t,r,!0)),n&&n.scroll===!1||!e.cm||_r(e.cm)}function pt(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,oo(e.cm)),no(e,"cursorActivity",e))}function ft(e){pt(e,dt(e,e.sel,null,!1),ga)}function dt(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=gt(e,s.anchor,n,r),l=gt(e,s.head,n,r);(i||a!=s.anchor||l!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Q(a,l))}return i?Z(i,t.primIndex):t}function gt(e,t,n,r){var i=!1,o=t,s=n||1;e.cantEdit=!1;e:for(;;){var a=Di(e,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var c=a.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(r&&(ha(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!u.atomic)continue;var h=u.find(0>s?-1:1);if(0==_s(h,o)&&(h.ch+=s,h.ch<0?h=h.line>e.first?J(e,ys(h.line-1)):null:h.ch>a.text.length&&(h=h.line<e.first+e.size-1?ys(h.line+1,0):null),!h)){if(i)return r?(e.cantEdit=!0,ys(e.first,0)):gt(e,t,n,!0);i=!0,h=t,s=-s}o=h;continue e}}return o}}function mt(e){for(var t=e.display,n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++){var a=n.sel.ranges[s],l=a.empty();(l||e.options.showCursorWhenSelecting)&&_t(e,a,i),l||xt(e,a,o)}if(e.options.moveInputWithCursor){var c=Gt(e,n.sel.primary().head,"div"),u=t.wrapper.getBoundingClientRect(),h=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,c.top+h.top-u.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,c.left+h.left-u.left))}return r}function vt(e,t){Co(e.display.cursorDiv,t.cursors),Co(e.display.selectionDiv,t.selection),null!=t.teTop&&(e.display.inputDiv.style.top=t.teTop+"px",e.display.inputDiv.style.left=t.teLeft+"px")}function yt(e){vt(e,mt(e))}function _t(e,t,n){var r=Gt(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(bo("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(bo("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function xt(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),a.appendChild(bo("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function o(n,r){return zt(e,ys(t,n),"div",h,r)}var a,l,h=Di(s,t),p=h.text.length;return $o($i(h),n||0,null==i?p:i,function(e,t,s){var h,f,d,g=o(e,"left");if(e==t)h=g,f=d=g.left;else{if(h=o(t-1,"right"),"rtl"==s){var m=g;g=h,h=m}f=g.left,d=h.right}null==n&&0==e&&(f=c),h.top-g.top>3&&(r(f,g.top,null,g.bottom),f=c,g.bottom<h.top&&r(f,g.bottom,null,h.top)),null==i&&t==p&&(d=u),(!a||g.top<a.top||g.top==a.top&&g.left<a.left)&&(a=g),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),c+1>f&&(f=c),r(f,h.top,d-f,h.bottom)}),{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=Ft(e.display),c=l.left,u=o.lineSpace.offsetWidth-l.right,h=t.from(),p=t.to();if(h.line==p.line)i(h.line,h.ch,p.ch);else{var f=Di(s,h.line),d=Di(s,p.line),g=qr(f)==qr(d),m=i(h.line,h.ch,g?f.text.length+1:null).end,v=i(p.line,g?0:null,p.ch).start;g&&(m.top<v.top-2?(r(m.right,m.top,null,m.bottom),r(c,v.top,v.left,v.bottom)):r(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&r(c,m.bottom,null,v.top)}n.appendChild(a)}function bt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function wt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,vo(Ct,e))}function Ct(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Rs(t.mode,St(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=fi(e,o,r,!0);o.styles=a.styles;var l=o.styleClasses,c=a.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var u=!s||s.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),h=0;!u&&h<s.length;++h)u=s[h]!=o.styles[h];u&&i.push(t.frontier),o.stateAfter=Rs(t.mode,r)}else gi(e,o.text,r),o.stateAfter=t.frontier%5==0?Rs(t.mode,r):null;return++t.frontier,+new Date>n?(wt(e,e.options.workDelay),!0):void 0}),i.length&&cn(e,function(){for(var t=0;t<i.length;t++)mn(e,i[t],"text")})}}function kt(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Di(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=ya(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=a-1,r=c)}return i}function St(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=kt(e,t,n),s=o>r.first&&Di(r,o-1).stateAfter;return s=s?Rs(r.mode,s):Ws(r.mode),r.iter(o,t,function(n){gi(e,n.text,s);var a=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=a?Rs(r.mode,s):null,++o}),n&&(r.frontier=o),s}function Tt(e){return e.lineSpace.offsetTop}function Et(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ft(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Co(e.measure,bo("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function It(e,t,n){var r=e.options.lineWrapping,i=r&&e.display.scroller.clientWidth;if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Dt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(Bi(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function At(e,t){t=qr(t);var n=Bi(t),r=e.display.externalMeasured=new fn(e.doc,t,n);r.lineN=n;var i=r.built=vi(e,r);return r.text=i.pre,Co(e.display.lineMeasure,i.pre),r}function Lt(e,t,n,r){return Ot(e,Bt(e,t),n,r)}function Mt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[yn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Bt(e,t){var n=Bi(t),r=Mt(e,n);r&&!r.text?r=null:r&&r.changes&&M(e,r,n,A(e)),r||(r=At(e,t));var i=Dt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Ot(e,t,n,r,i){t.before&&(n=-1);var o,s=n+(r||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(It(e,t.view,t.rect),t.hasHeights=!0),o=Nt(e,t,n,r),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Nt(e,t,n,r){for(var i,o,s,a,l=t.map,c=0;c<l.length;c+=3){var u=l[c],h=l[c+1];if(u>n?(o=0,s=1,a="left"):h>n?(o=n-u,s=o+1):(c==l.length-3||n==h&&l[c+3]>n)&&(s=h-u,o=s-1,n>=h&&(a="right")),null!=o){if(i=l[c+2],u==h&&r==(i.insertLeft?"left":"right")&&(a=r),"left"==r&&0==o)for(;c&&l[c-2]==l[c-3]&&l[c-1].insertLeft;)i=l[(c-=3)+2],a="left";if("right"==r&&o==h-u)for(;c<l.length-3&&l[c+3]==l[c+4]&&!l[c+5].insertLeft;)i=l[(c+=3)+2],a="right";break}}var p;if(3==i.nodeType){for(var c=0;4>c;c++){for(;o&&xo(t.line.text.charAt(u+o));)--o;for(;h>u+s&&xo(t.line.text.charAt(u+s));)++s;if(Jo&&9>es&&0==o&&s==h-u)p=i.parentNode.getBoundingClientRect();else if(Jo&&e.options.lineWrapping){var f=ba(i,o,s).getClientRects();p=f.length?f["right"==r?f.length-1:0]:Cs}else p=ba(i,o,s).getBoundingClientRect()||Cs;if(p.left||p.right||0==o)break;s=o,o-=1,a="right"}Jo&&11>es&&(p=$t(e.display.measure,p))}else{o>0&&(a=r="right");var f;p=e.options.lineWrapping&&(f=i.getClientRects()).length>1?f["right"==r?f.length-1:0]:i.getBoundingClientRect()}if(Jo&&9>es&&!o&&(!p||!p.left&&!p.right)){var d=i.parentNode.getClientRects()[0];p=d?{left:d.left,right:d.left+qt(e.display),top:d.top,bottom:d.bottom}:Cs}for(var g=p.top-t.rect.top,m=p.bottom-t.rect.top,v=(g+m)/2,y=t.view.measure.heights,c=0;c<y.length-1&&!(v<y[c]);c++);var _=c?y[c-1]:0,x=y[c],b={left:("right"==a?p.right:p.left)-t.rect.left,right:("left"==a?p.left:p.right)-t.rect.left,top:_,bottom:x};return p.left||p.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=g,b.rbottom=m),b}function $t(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!No(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Pt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Ht(e){e.display.externalMeasure=null,wo(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Pt(e.display.view[t])}function jt(e){Ht(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Rt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Wt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Vt(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=oi(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=Ni(t);if("local"==r?s+=Tt(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:Wt());var l=a.left+("window"==r?0:Rt());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Ut(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Rt(),i-=Wt();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function zt(e,t,n,r,i){return r||(r=Di(e.doc,t.line)),Vt(e,r,Lt(e,r,t.ch,i),n)}function Gt(e,t,n,r,i,o){function s(t,s){var a=Ot(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Vt(e,r,a,n)}function a(e,t){var n=l[t],r=n.level%2;return e==Po(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=Ho(n)-(n.level%2?0:1),r=!0):e==Ho(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=Po(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?s(e-1):s(e,r)}r=r||Di(e.doc,t.line),i||(i=Bt(e,r));var l=$i(r),c=t.ch;if(!l)return s(c);var u=Go(l,c),h=a(c,u);return null!=Oa&&(h.other=a(c,Oa)),h}function Kt(e,t){var n=0,t=J(e.doc,t);e.options.lineWrapping||(n=qt(e.display)*t.ch);var r=Di(e.doc,t.line),i=Ni(r)+Tt(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Yt(e,t,n,r){var i=ys(e,t);return i.xRel=r,n&&(i.outside=!0),i}function Qt(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return Yt(r.first,0,!0,-1);var i=Oi(r,n),o=r.first+r.size-1;if(i>o)return Yt(r.first+r.size-1,Di(r,o).text.length,!0,1);0>t&&(t=0);for(var s=Di(r,i);;){var a=Zt(e,s,i,t,n),l=Zr(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;i=Bi(s=c.to.line)}}function Zt(e,t,n,r,i){function o(r){var i=Gt(e,ys(n,r),"line",t,c);return a=!0,s>i.bottom?i.left-l:s<i.top?i.left+l:(a=!1,i.left)}var s=i-Ni(t),a=!1,l=2*e.display.wrapper.clientWidth,c=Bt(e,t),u=$i(t),h=t.text.length,p=jo(t),f=Ro(t),d=o(p),g=a,m=o(f),v=a;if(r>m)return Yt(n,f,v,1);for(;;){if(u?f==p||f==Yo(t,p,1):1>=f-p){for(var y=d>r||m-r>=r-d?p:f,_=r-(y==p?d:m);xo(t.text.charAt(y));)++y;var x=Yt(n,y,y==p?g:v,-1>_?-1:_>1?1:0);return x}var b=Math.ceil(h/2),w=p+b;if(u){w=p;for(var C=0;b>C;++C)w=Yo(t,w,1)}var k=o(w);k>r?(f=w,m=k,(v=a)&&(m+=1e3),h=b):(p=w,d=k,g=a,h-=b)}}function Xt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==xs){xs=bo("pre");for(var t=0;49>t;++t)xs.appendChild(document.createTextNode("x")),xs.appendChild(bo("br"));xs.appendChild(document.createTextNode("x"))}Co(e.measure,xs);var n=xs.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),wo(e.measure),n||1}function qt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=bo("span","xxxxxxxxxx"),n=bo("pre",[t]);Co(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Jt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Ss},ks?ks.ops.push(e.curOp):e.curOp.ownsGroup=ks={ops:[e.curOp],delayedCallbacks:[]}}function en(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n]();for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++](i.cm)}}while(n<t.length)}function tn(e){var t=e.curOp,n=t.ownsGroup;if(n)try{en(n)}finally{ks=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;nn(n)}}function nn(e){for(var t=e.ops,n=0;n<t.length;n++)rn(t[n]);for(var n=0;n<t.length;n++)on(t[n]);for(var n=0;n<t.length;n++)sn(t[n]);for(var n=0;n<t.length;n++)an(t[n]);for(var n=0;n<t.length;n++)ln(t[n])}function rn(e){var t=e.cm,n=t.display;e.updateMaxLine&&f(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new C(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)
}function on(e){e.updatedDisplay=e.mustUpdate&&k(e.cm,e.update)}function sn(e){var t=e.cm,n=t.display;e.updatedDisplay&&I(t),e.barMeasure=m(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Lt(t,n.maxLine,n.maxLine.text.length).left+3,e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo+fa-n.scroller.clientWidth)),(e.updatedDisplay||e.selectionChanged)&&(e.newSelectionNodes=mt(t))}function an(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Wn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.newSelectionNodes&&vt(t,e.newSelectionNodes),e.updatedDisplay&&E(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&v(t,e.barMeasure),e.selectionChanged&&bt(t),t.state.focused&&e.updateInput&&Sn(t,e.typing)}function ln(e){var t=e.cm,n=t.display,r=t.doc;if(null!=e.adjustWidthTo&&Math.abs(e.barMeasure.scrollWidth-t.display.scroller.scrollWidth)>1&&v(t),e.updatedDisplay&&S(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&(n.scroller.scrollTop!=e.scrollTop||e.forceScroll)){var i=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop));n.scroller.scrollTop=n.scrollbarV.scrollTop=r.scrollTop=i}if(null!=e.scrollLeft&&(n.scroller.scrollLeft!=e.scrollLeft||e.forceScroll)){var o=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft));n.scroller.scrollLeft=n.scrollbarH.scrollLeft=r.scrollLeft=o,_(t)}if(e.scrollToPos){var s=gr(t,J(r,e.scrollToPos.from),J(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&dr(t,s)}var a=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(a)for(var c=0;c<a.length;++c)a[c].lines.length||ha(a[c],"hide");if(l)for(var c=0;c<l.length;++c)l[c].lines.length&&ha(l[c],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.updatedDisplay&&ts&&(t.options.lineWrapping&&F(t,e.barMeasure),e.barMeasure.scrollWidth>e.barMeasure.clientWidth&&e.barMeasure.scrollWidth<e.barMeasure.clientWidth+1&&!g(t)&&v(t)),e.changeObjs&&ha(t,"changes",t,e.changeObjs)}function cn(e,t){if(e.curOp)return t();Jt(e);try{return t()}finally{tn(e)}}function un(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Jt(e);try{return t.apply(e,arguments)}finally{tn(e)}}}function hn(e){return function(){if(this.curOp)return e.apply(this,arguments);Jt(this);try{return e.apply(this,arguments)}finally{tn(this)}}}function pn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Jt(t);try{return e.apply(this,arguments)}finally{tn(t)}}}function fn(e,t,n){this.line=t,this.rest=Jr(t),this.size=this.rest?Bi(ho(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ni(e,t)}function dn(e,t,n){for(var r,i=[],o=t;n>o;o=r){var s=new fn(e.doc,Di(e.doc,o),o);r=o+s.size,i.push(s)}return i}function gn(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)vs&&ei(e.doc,t)<i.viewTo&&vn(e);else if(n<=i.viewFrom)vs&&ti(e.doc,n+r)>i.viewFrom?vn(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)vn(e);else if(t<=i.viewFrom){var o=_n(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):vn(e)}else if(n>=i.viewTo){var o=_n(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):vn(e)}else{var s=_n(e,t,t,-1),a=_n(e,n,n+r,1);s&&a?(i.view=i.view.slice(0,s.index).concat(dn(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=r):vn(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function mn(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[yn(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==po(s,n)&&s.push(n)}}}function vn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function yn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function _n(e,t,n,r){var i,o=yn(e,t),s=e.display.view;if(!vs||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=t){if(r>0){if(o==s.length-1)return null;i=l+s[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;ei(e.doc,n)!=n;){if(o==(0>r?0:s.length-1))return null;n+=r*s[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function xn(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=dn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=dn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(yn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(dn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,yn(e,n)))),r.viewTo=n}function bn(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function wn(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){kn(e),e.state.focused&&wn(e)})}function Cn(e){function t(){var r=kn(e);r||n?(e.display.pollingFast=!1,wn(e)):(n=!0,e.display.poll.set(60,t))}var n=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function kn(e){var t=e.display.input,n=e.display.prevInput,r=e.doc;if(!e.state.focused||Aa(t)&&!n||Fn(e)||e.options.disableInput)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(Jo&&es>=9&&e.display.inputHasSelection===i||hs&&/[\uf700-\uf7ff]/.test(i))return Sn(e),!1;var o=!e.curOp;o&&Jt(e),e.display.shift=!1,8203!=i.charCodeAt(0)||r.sel!=e.display.selForContextMenu||n||(n="​");for(var s=0,a=Math.min(n.length,i.length);a>s&&n.charCodeAt(s)==i.charCodeAt(s);)++s;var l=i.slice(s),c=Da(l),u=null;e.state.pasteIncoming&&r.sel.ranges.length>1&&(Ts&&Ts.join("\n")==l?u=r.sel.ranges.length%Ts.length==0&&fo(Ts,Da):c.length==r.sel.ranges.length&&(u=fo(c,function(e){return[e]})));for(var h=r.sel.ranges.length-1;h>=0;h--){var p=r.sel.ranges[h],f=p.from(),d=p.to();s<n.length?f=ys(f.line,f.ch-(n.length-s)):e.state.overwrite&&p.empty()&&!e.state.pasteIncoming&&(d=ys(d.line,Math.min(Di(r,d.line).text.length,d.ch+ho(c).length)));var g=e.curOp.updateInput,m={from:f,to:d,text:u?u[h%u.length]:c,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(ar(e.doc,m),no(e,"inputRead",e,m),l&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&p.head.ch<100&&(!h||r.sel.ranges[h-1].head.line!=p.head.line)){var v=e.getModeAt(p.head),y=Ls(m);if(v.electricChars){for(var _=0;_<v.electricChars.length;_++)if(l.indexOf(v.electricChars.charAt(_))>-1){br(e,y.line,"smart");break}}else v.electricInput&&v.electricInput.test(Di(r,y.line).text.slice(0,y.ch))&&br(e,y.line,"smart")}}return _r(e),e.curOp.updateInput=g,e.curOp.typing=!0,i.length>1e3||i.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=i,o&&tn(e),e.state.pasteIncoming=e.state.cutIncoming=!1,!0}function Sn(e,t){var n,r,i=e.doc;if(e.somethingSelected()){e.display.prevInput="";var o=i.sel.primary();n=La&&(o.to().line-o.from().line>100||(r=e.getSelection()).length>1e3);var s=n?"-":r||e.getSelection();e.display.input.value=s,e.state.focused&&xa(e.display.input),Jo&&es>=9&&(e.display.inputHasSelection=s)}else t||(e.display.prevInput=e.display.input.value="",Jo&&es>=9&&(e.display.inputHasSelection=null));e.display.inaccurateSelection=n}function Tn(e){"nocursor"==e.options.readOnly||us&&So()==e.display.input||e.display.input.focus()}function En(e){e.state.focused||(Tn(e),qn(e))}function Fn(e){return e.options.readOnly||e.doc.cantEdit}function In(e){function t(){e.state.focused&&setTimeout(vo(Tn,e),0)}function n(t){io(e,t)||la(t)}function r(t){if(e.somethingSelected())Ts=e.getSelections(),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,i.input.value=Ts.join("\n"),xa(i.input));else{for(var n=[],r=[],o=0;o<e.doc.sel.ranges.length;o++){var s=e.doc.sel.ranges[o].head.line,a={anchor:ys(s,0),head:ys(s+1,0)};r.push(a),n.push(e.getRange(a.anchor,a.head))}"cut"==t.type?e.setSelections(r,null,ga):(i.prevInput="",i.input.value=n.join("\n"),xa(i.input)),Ts=n}"cut"==t.type&&(e.state.cutIncoming=!0)}var i=e.display;ca(i.scroller,"mousedown",un(e,Mn)),Jo&&11>es?ca(i.scroller,"dblclick",un(e,function(t){if(!io(e,t)){var n=Ln(e,t);if(n&&!Pn(e,t)&&!An(e.display,t)){sa(t);var r=e.findWordAt(n);it(e.doc,r.anchor,r.head)}}})):ca(i.scroller,"dblclick",function(t){io(e,t)||sa(t)}),ca(i.lineSpace,"selectstart",function(e){An(i,e)||sa(e)}),gs||ca(i.scroller,"contextmenu",function(t){er(e,t)}),ca(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Rn(e,i.scroller.scrollTop),Wn(e,i.scroller.scrollLeft,!0),ha(e,"scroll",e))}),ca(i.scrollbarV,"scroll",function(){i.scroller.clientHeight&&Rn(e,i.scrollbarV.scrollTop)}),ca(i.scrollbarH,"scroll",function(){i.scroller.clientHeight&&Wn(e,i.scrollbarH.scrollLeft)}),ca(i.scroller,"mousewheel",function(t){Vn(e,t)}),ca(i.scroller,"DOMMouseScroll",function(t){Vn(e,t)}),ca(i.scrollbarH,"mousedown",t),ca(i.scrollbarV,"mousedown",t),ca(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),ca(i.input,"keyup",function(t){Zn.call(e,t)}),ca(i.input,"input",function(){Jo&&es>=9&&e.display.inputHasSelection&&(e.display.inputHasSelection=null),Cn(e)}),ca(i.input,"keydown",un(e,Yn)),ca(i.input,"keypress",un(e,Xn)),ca(i.input,"focus",vo(qn,e)),ca(i.input,"blur",vo(Jn,e)),e.options.dragDrop&&(ca(i.scroller,"dragstart",function(t){jn(e,t)}),ca(i.scroller,"dragenter",n),ca(i.scroller,"dragover",n),ca(i.scroller,"drop",un(e,Hn))),ca(i.scroller,"paste",function(t){An(i,t)||(e.state.pasteIncoming=!0,Tn(e),Cn(e))}),ca(i.input,"paste",function(){if(ts&&!e.state.fakedLastChar&&!(new Date-e.state.lastMiddleDown<200)){var t=i.input.selectionStart,n=i.input.selectionEnd;i.input.value+="$",i.input.selectionEnd=n,i.input.selectionStart=t,e.state.fakedLastChar=!0}e.state.pasteIncoming=!0,Cn(e)}),ca(i.input,"cut",r),ca(i.input,"copy",r),ss&&ca(i.sizer,"mouseup",function(){So()==i.input&&i.input.blur(),Tn(e)})}function Dn(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,e.setSize()}function An(e,t){for(var n=eo(t);n!=e.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==e.sizer&&n!=e.mover)return!0}function Ln(e,t,n,r){var i=e.display;if(!n){var o=eo(t);if(o==i.scrollbarH||o==i.scrollbarV||o==i.scrollbarFiller||o==i.gutterFiller)return null}var s,a,l=i.lineSpace.getBoundingClientRect();try{s=t.clientX-l.left,a=t.clientY-l.top}catch(t){return null}var c,u=Qt(e,s,a);if(r&&1==u.xRel&&(c=Di(e.doc,u.line).text).length==u.ch){var h=ya(c,c.length,e.options.tabSize)-c.length;u=ys(u.line,Math.max(0,Math.round((s-Ft(e.display).left)/qt(e.display))-h))}return u}function Mn(e){if(!io(this,e)){var t=this,n=t.display;if(n.shift=e.shiftKey,An(n,e))return void(ts||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Pn(t,e)){var r=Ln(t,e);switch(window.focus(),to(e)){case 1:r?Bn(t,e,r):eo(e)==n.scroller&&sa(e);break;case 2:ts&&(t.state.lastMiddleDown=+new Date),r&&it(t.doc,r),setTimeout(vo(Tn,t),20),sa(e);break;case 3:gs&&er(t,e)}}}}function Bn(e,t,n){setTimeout(vo(En,e),0);var r,i=+new Date;ws&&ws.time>i-400&&0==_s(ws.pos,n)?r="triple":bs&&bs.time>i-400&&0==_s(bs.pos,n)?(r="double",ws={time:i,pos:n}):(r="single",bs={time:i,pos:n});var o=e.doc.sel,s=hs?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ia&&!Fn(e)&&"single"==r&&o.contains(n)>-1&&o.somethingSelected()?On(e,t,n,s):Nn(e,t,n,r,s)}function On(e,t,n,r){var i=e.display,o=un(e,function(s){ts&&(i.scroller.draggable=!1),e.state.draggingText=!1,ua(document,"mouseup",o),ua(i.scroller,"drop",o),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(sa(s),r||it(e.doc,n),Tn(e),Jo&&9==es&&setTimeout(function(){document.body.focus(),Tn(e)},20))});ts&&(i.scroller.draggable=!0),e.state.draggingText=o,i.scroller.dragDrop&&i.scroller.dragDrop(),ca(document,"mouseup",o),ca(i.scroller,"drop",o)}function Nn(e,t,n,r,i){function o(t){if(0!=_s(g,t))if(g=t,"rect"==r){for(var i=[],o=e.options.tabSize,s=ya(Di(c,n.line).text,n.ch,o),a=ya(Di(c,t.line).text,t.ch,o),l=Math.min(s,a),f=Math.max(s,a),d=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=d;d++){var v=Di(c,d).text,y=co(v,l,o);l==f?i.push(new Q(ys(d,y),ys(d,y))):v.length>y&&i.push(new Q(ys(d,y),ys(d,co(v,f,o))))}i.length||i.push(new Q(n,n)),ut(c,Z(p.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var _=u,x=_.anchor,b=t;if("single"!=r){if("double"==r)var w=e.findWordAt(t);else var w=new Q(ys(t.line,0),J(c,ys(t.line+1,0)));_s(w.anchor,x)>0?(b=w.head,x=K(_.from(),w.anchor)):(b=w.anchor,x=G(_.to(),w.head))}var i=p.ranges.slice(0);i[h]=new Q(J(c,x),b),ut(c,Z(i,h),ma)}}function s(t){var n=++v,i=Ln(e,t,!0,"rect"==r);if(i)if(0!=_s(i,g)){En(e),o(i);var a=y(l,c);(i.line>=a.to||i.line<a.from)&&setTimeout(un(e,function(){v==n&&s(t)}),150)}else{var u=t.clientY<m.top?-20:t.clientY>m.bottom?20:0;u&&setTimeout(un(e,function(){v==n&&(l.scroller.scrollTop+=u,s(t))}),50)}}function a(t){v=1/0,sa(t),Tn(e),ua(document,"mousemove",_),ua(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;sa(t);var u,h,p=c.sel;if(i&&!t.shiftKey?(h=c.sel.contains(n),u=h>-1?c.sel.ranges[h]:new Q(n,n)):u=c.sel.primary(),t.altKey)r="rect",i||(u=new Q(n,n)),n=Ln(e,t,!0,!0),h=-1;else if("double"==r){var f=e.findWordAt(n);u=e.display.shift||c.extend?rt(c,u,f.anchor,f.head):f}else if("triple"==r){var d=new Q(ys(n.line,0),J(c,ys(n.line+1,0)));u=e.display.shift||c.extend?rt(c,u,d.anchor,d.head):d}else u=rt(c,u,n);i?h>-1?st(c,h,u,ma):(h=c.sel.ranges.length,ut(c,Z(c.sel.ranges.concat([u]),h),{scroll:!1,origin:"*mouse"})):(h=0,ut(c,new Y([u],0),ma),p=c.sel);var g=n,m=l.wrapper.getBoundingClientRect(),v=0,_=un(e,function(e){to(e)?s(e):a(e)}),x=un(e,a);ca(document,"mousemove",_),ca(document,"mouseup",x)}function $n(e,t,n,r,i){try{var o=t.clientX,s=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&sa(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(s>l.bottom||!so(e,n))return Ji(t);s-=l.top-a.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var u=a.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=o){var h=Oi(e.doc,s),p=e.options.gutters[c];return i(e,n,e,h,p,t),Ji(t)}}}function Pn(e,t){return $n(e,t,"gutterClick",!0,no)}function Hn(e){var t=this;if(!io(t,e)&&!An(t.display,e)){sa(e),Jo&&(Es=+new Date);var n=Ln(t,e,!0),r=e.dataTransfer.files;if(n&&!Fn(t))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,a=function(e,r){var a=new FileReader;a.onload=un(t,function(){if(o[r]=a.result,++s==i){n=J(t.doc,n);var e={from:n,to:n,text:Da(o.join("\n")),origin:"paste"};ar(t.doc,e),ct(t.doc,X(n,Ls(e)))}}),a.readAsText(e)},l=0;i>l;++l)a(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(vo(Tn,t),20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(hs?e.metaKey:e.ctrlKey))var c=t.listSelections();if(ht(t.doc,X(n,n)),c)for(var l=0;l<c.length;++l)fr(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(o,"around","paste"),Tn(t)}}catch(e){}}}}function jn(e,t){if(Jo&&(!e.state.draggingText||+new Date-Es<100))return void la(t);if(!io(e,t)&&!An(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!os)){var n=bo("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",is&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),is&&n.parentNode.removeChild(n)}}function Rn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Zo||T(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),Zo&&T(e),wt(e,100))}function Wn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,_(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function Vn(e,t){var n=t.wheelDeltaX,r=t.wheelDeltaY;null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta);var i=e.display,o=i.scroller;if(n&&o.scrollWidth>o.clientWidth||r&&o.scrollHeight>o.clientHeight){if(r&&hs&&ts)e:for(var s=t.target,a=i.view;s!=o;s=s.parentNode)for(var l=0;l<a.length;l++)if(a[l].node==s){e.display.currentWheelTarget=s;break e}if(n&&!Zo&&!is&&null!=Is)return r&&Rn(e,Math.max(0,Math.min(o.scrollTop+r*Is,o.scrollHeight-o.clientHeight))),Wn(e,Math.max(0,Math.min(o.scrollLeft+n*Is,o.scrollWidth-o.clientWidth))),sa(t),void(i.wheelStartX=null);if(r&&null!=Is){var c=r*Is,u=e.doc.scrollTop,h=u+i.wrapper.clientHeight;0>c?u=Math.max(0,u+c-50):h=Math.min(e.doc.height,h+c+50),T(e,{top:u,bottom:h})}20>Fs&&(null==i.wheelStartX?(i.wheelStartX=o.scrollLeft,i.wheelStartY=o.scrollTop,i.wheelDX=n,i.wheelDY=r,setTimeout(function(){if(null!=i.wheelStartX){var e=o.scrollLeft-i.wheelStartX,t=o.scrollTop-i.wheelStartY,n=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(Is=(Is*Fs+n)/(Fs+1),++Fs)}},200)):(i.wheelDX+=n,i.wheelDY+=r))}}function Un(e,t,n){if("string"==typeof t&&(t=Vs[t],!t))return!1;e.display.pollingFast&&kn(e)&&(e.display.pollingFast=!1);var r=e.display.shift,i=!1;try{Fn(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=da}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function zn(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function Gn(e,t){var n=Er(e.options.keyMap),r=n.auto;clearTimeout(Ds),r&&!Gs(t)&&(Ds=setTimeout(function(){Er(e.options.keyMap)==n&&(e.options.keyMap=r.call?r.call(null,e):r,a(e))},50));var i=Ks(t,!0),o=!1;if(!i)return!1;var s=zn(e);return o=t.shiftKey?zs("Shift-"+i,s,function(t){return Un(e,t,!0)})||zs(i,s,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?Un(e,t):void 0}):zs(i,s,function(t){return Un(e,t)}),o&&(sa(t),bt(e),no(e,"keyHandled",e,i,t)),o}function Kn(e,t,n){var r=zs("'"+n+"'",zn(e),function(t){return Un(e,t,!0)});return r&&(sa(t),bt(e),no(e,"keyHandled",e,"'"+n+"'",t)),r}function Yn(e){var t=this;if(En(t),!io(t,e)){Jo&&11>es&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=Gn(t,e);is&&(As=r?n:null,!r&&88==n&&!La&&(hs?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Qn(t)}}function Qn(e){function t(e){18!=e.keyCode&&e.altKey||(Eo(n,"CodeMirror-crosshair"),ua(document,"keyup",t),ua(document,"mouseover",t))}var n=e.display.lineDiv;Fo(n,"CodeMirror-crosshair"),ca(document,"keyup",t),ca(document,"mouseover",t)}function Zn(e){16==e.keyCode&&(this.doc.sel.shift=!1),io(this,e)}function Xn(e){var t=this;if(!(io(t,e)||e.ctrlKey&&!e.altKey||hs&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(is&&n==As)return As=null,void sa(e);if(!(is&&(!e.which||e.which<10)||ss)||!Gn(t,e)){var i=String.fromCharCode(null==r?n:r);Kn(t,e,i)||(Jo&&es>=9&&(t.display.inputHasSelection=null),Cn(t))}}}function qn(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(ha(e,"focus",e),e.state.focused=!0,Fo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(Sn(e),ts&&setTimeout(vo(Sn,e,!0),0))),wn(e),bt(e))}function Jn(e){e.state.focused&&(ha(e,"blur",e),e.state.focused=!1,Eo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function er(e,t){function n(){if(null!=i.input.selectionStart){var t=e.somethingSelected(),n=i.input.value="​"+(t?i.input.value:"");i.prevInput=t?"":"​",i.input.selectionStart=1,i.input.selectionEnd=n.length,i.selForContextMenu=e.doc.sel}}function r(){if(i.inputDiv.style.position="relative",i.input.style.cssText=l,Jo&&9>es&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=s),wn(e),null!=i.input.selectionStart){(!Jo||Jo&&9>es)&&n();var t=0,r=function(){i.selForContextMenu==e.doc.sel&&0==i.input.selectionStart?un(e,Vs.selectAll)(e):t++<10?i.detectingSelectAll=setTimeout(r,500):Sn(e)};i.detectingSelectAll=setTimeout(r,200)}}if(!io(e,t,"contextmenu")){var i=e.display;if(!An(i,t)&&!tr(e,t)){var o=Ln(e,t),s=i.scroller.scrollTop;if(o&&!is){var a=e.options.resetSelectionOnContextMenu;a&&-1==e.doc.sel.contains(o)&&un(e,ut)(e.doc,X(o),ga);var l=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(Jo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ts)var c=window.scrollY;if(Tn(e),ts&&window.scrollTo(null,c),Sn(e),e.somethingSelected()||(i.input.value=i.prevInput=" "),i.selForContextMenu=e.doc.sel,clearTimeout(i.detectingSelectAll),Jo&&es>=9&&n(),gs){la(t);var u=function(){ua(window,"mouseup",u),setTimeout(r,20)};ca(window,"mouseup",u)}else setTimeout(r,50)}}}}function tr(e,t){return so(e,"gutterContextMenu")?$n(e,t,"gutterContextMenu",!1,ha):!1}function nr(e,t){if(_s(e,t.from)<0)return e;if(_s(e,t.to)<=0)return Ls(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Ls(t).ch-t.to.ch),ys(n,r)}function rr(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Q(nr(i.anchor,t),nr(i.head,t)))}return Z(n,e.sel.primIndex)}function ir(e,t,n){return e.line==t.line?ys(n.line,e.ch-t.ch+n.ch):ys(n.line+(e.line-t.line),e.ch)}function or(e,t,n){for(var r=[],i=ys(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],l=ir(a.from,i,o),c=ir(Ls(a),i,o);if(i=a.to,o=c,"around"==n){var u=e.sel.ranges[s],h=_s(u.head,u.anchor)<0;r[s]=new Q(h?c:l,h?l:c)}else r[s]=new Q(l,l)}return new Y(r,e.sel.primIndex)}function sr(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=J(e,t)),n&&(this.to=J(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),ha(e,"beforeChange",e,r),e.cm&&ha(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ar(e,t,n){if(e.cm){if(!e.cm.curOp)return un(e.cm,ar)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(so(e,"beforeChange")||e.cm&&so(e.cm,"beforeChange"))||(t=sr(e,t,!0))){var r=ms&&!n&&Wr(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)lr(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else lr(e,t)}}function lr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=_s(t.from,t.to)){var n=rr(e,t);Wi(e,t,n,e.cm?e.cm.curOp.id:0/0),hr(e,t,n,Hr(e,t));var r=[];Fi(e,function(e,n){n||-1!=po(r,e.history)||(qi(e.history,t),r.push(e.history)),hr(e,t,null,Hr(e,t))})}}function cr(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,o=e.sel,s="undo"==t?i.done:i.undone,a="undo"==t?i.undone:i.done,l=0;l<s.length&&(r=s[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;r=s.pop(),r.ranges;){if(zi(r,a),n&&!r.equals(e.sel))return void ut(e,r,{clearRedo:!1});o=r}var c=[];zi(o,a),a.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var u=so(e,"beforeChange")||e.cm&&so(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var h=r.changes[l];if(h.origin=t,u&&!sr(e,h,!1))return void(s.length=0);c.push(Hi(e,h));var p=l?rr(e,h):ho(s);hr(e,h,p,Rr(e,h)),!l&&e.cm&&e.cm.scrollIntoView({from:h.from,to:Ls(h)});var f=[];Fi(e,function(e,t){t||-1!=po(f,e.history)||(qi(e.history,h),f.push(e.history)),hr(e,h,null,Rr(e,h))})}}}}function ur(e,t){if(0!=t&&(e.first+=t,e.sel=new Y(fo(e.sel.ranges,function(e){return new Q(ys(e.anchor.line+t,e.anchor.ch),ys(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){gn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)mn(e.cm,r,"gutter")}}function hr(e,t,n,r){if(e.cm&&!e.cm.curOp)return un(e.cm,hr)(e,t,n,r);if(t.to.line<e.first)return void ur(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ur(e,i),t={from:ys(e.first,0),to:ys(t.to.line+i,t.to.ch),text:[ho(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ys(o,Di(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ai(e,t.from,t.to),n||(n=rr(e,t)),e.cm?pr(e.cm,t,r):Si(e,t,r),ht(e,n,ga)}}function pr(e,t,n){var r=e.doc,i=e.display,s=t.from,a=t.to,l=!1,c=s.line;e.options.lineWrapping||(c=Bi(qr(Di(r,s.line))),r.iter(c,a.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&oo(e),Si(r,t,n,o(e)),e.options.lineWrapping||(r.iter(c,s.line+t.text.length,function(e){var t=p(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,s.line),wt(e,400);var u=t.text.length-(a.line-s.line)-1;s.line!=a.line||1!=t.text.length||ki(e.doc,t)?gn(e,s.line,a.line+1,u):mn(e,s.line,"text");var h=so(e,"changes"),f=so(e,"change");if(f||h){var d={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&no(e,"change",e,d),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function fr(e,t,n,r,i){if(r||(r=n),_s(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=Da(t)),ar(e,{from:n,to:r,text:t,origin:i})}function dr(e,t){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!ls){var o=bo("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-Tt(e.display))+"px; height: "+(t.bottom-t.top+fa)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}function gr(e,t,n,r){for(null==r&&(r=0);;){var i=!1,o=Gt(e,t),s=n&&n!=t?Gt(e,n):o,a=vr(e,Math.min(o.left,s.left),Math.min(o.top,s.top)-r,Math.max(o.left,s.left),Math.max(o.bottom,s.bottom)+r),l=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=a.scrollTop&&(Rn(e,a.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(i=!0)),null!=a.scrollLeft&&(Wn(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(i=!0)),!i)return o}}function mr(e,t,n,r,i){var o=vr(e,t,n,r,i);null!=o.scrollTop&&Rn(e,o.scrollTop),null!=o.scrollLeft&&Wn(e,o.scrollLeft)}function vr(e,t,n,r,i){var o=e.display,s=Xt(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=o.scroller.clientHeight-fa,c={};i-n>l&&(i=n+l);var u=e.doc.height+Et(o),h=s>n,p=i>u-s;if(a>n)c.scrollTop=h?0:n;else if(i>a+l){var f=Math.min(n,(p?u:i)-l);f!=a&&(c.scrollTop=f)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=o.scroller.clientWidth-fa-o.gutters.offsetWidth,m=r-t>g;return m&&(r=n+l),10>t?c.scrollLeft=0:d>t?c.scrollLeft=Math.max(0,t-(m?0:10)):r>g+d-3&&(c.scrollLeft=r+(m?0:10)-g),c}function yr(e,t,n){(null!=t||null!=n)&&xr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function _r(e){xr(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?ys(t.line,t.ch-1):t,r=ys(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function xr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Kt(e,t.from),r=Kt(e,t.to),i=vr(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function br(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=St(e,t):n="prev");var s=e.options.tabSize,a=Di(o,t),l=ya(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&(c=o.mode.indent(i,a.text.slice(u.length),a.text),c==da||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?ya(Di(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",p=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)p+=s,h+="	";if(c>p&&(h+=uo(c-p)),h!=u)fr(o,h,ys(t,0),ys(t,u.length),"+input");else for(var f=0;f<o.sel.ranges.length;f++){var d=o.sel.ranges[f];if(d.head.line==t&&d.head.ch<u.length){var p=ys(t,u.length);st(o,f,new Q(p,p));break}}a.stateAfter=null}function wr(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Di(e,q(e,t)):i=Bi(t),null==i?null:(r(o,i)&&e.cm&&mn(e.cm,i,n),o)}function Cr(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&_s(o.from,ho(r).to)<=0;){var s=r.pop();if(_s(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}cn(e,function(){for(var t=r.length-1;t>=0;t--)fr(e.doc,"",r[t].from,r[t].to,"+delete");_r(e)})}function kr(e,t,n,r,i){function o(){var t=a+n;return t<e.first||t>=e.first+e.size?h=!1:(a=t,u=Di(e,t))}function s(e){var t=(i?Yo:Qo)(u,l,n,!0);if(null==t){if(e||!o())return h=!1;l=i?(0>n?Ro:jo)(u):0>n?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=n,u=Di(e,a),h=!0;if("char"==r)s();else if("column"==r)s(!0);else if("word"==r||"group"==r)for(var p=null,f="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),g=!0;!(0>n)||s(!g);g=!1){var m=u.text.charAt(l)||"\n",v=yo(m,d)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(!f||g||v||(v="s"),p&&p!=v){0>n&&(n=1,s());break}if(v&&(p=v),n>0&&!s(!g))break}var y=gt(e,ys(a,l),c,!0);return h||(y.hitSide=!0),y}function Sr(e,t,n,r){var i,o=e.doc,s=t.left;if("page"==r){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(a-(0>n?1.5:.5)*Xt(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=Qt(e,s,i);if(!l.outside)break;if(0>n?0>=i:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function Tr(t,n,r,i){e.defaults[t]=n,r&&(Bs[t]=i?function(e,t,n){n!=Os&&r(e,t,n)}:r)}function Er(e){return"string"==typeof e?Us[e]:e}function Fr(e,t,n,r,i){if(r&&r.shared)return Ir(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return un(e.cm,Fr)(e,t,n,r,i);var o=new Qs(e,i),s=_s(t,n);if(r&&mo(r,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=bo("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||(o.widgetNode.ignoreEvents=!0),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Xr(e,t.line,t,n,o)||t.line!=n.line&&Xr(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");vs=!0}o.addToHistory&&Wi(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&qr(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Mi(e,0),Nr(e,new Mr(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){ni(e,t)&&Mi(t,0)}),o.clearOnEnter&&ca(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(ms=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Zs,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)gn(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle)for(var u=t.line;u<=n.line;u++)mn(c,u,"text");
o.atomic&&ft(c.doc),no(c,"markerAdded",c,o)}return o}function Ir(e,t,n,r,i){r=mo(r),r.shared=!1;var o=[Fr(e,t,n,r,i)],s=o[0],a=r.widgetNode;return Fi(e,function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(Fr(e,J(e,t),J(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=ho(o)}),new Xs(o,s)}function Dr(e){return e.findMarks(ys(e.first,0),e.clipPos(ys(e.lastLine())),function(e){return e.parent})}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(_s(o,s)){var a=Fr(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function Lr(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Fi(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==po(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function Mr(e,t,n){this.marker=e,this.from=t,this.to=n}function Br(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Or(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Nr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function $r(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Mr(s,o.from,l?null:o.to))}}return r}function Pr(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Mr(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Hr(e,t){var n=tt(e,t.from.line)&&Di(e,t.from.line).markedSpans,r=tt(e,t.to.line)&&Di(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==_s(t.from,t.to),a=$r(n,i,s),l=Pr(r,o,s),c=1==t.text.length,u=ho(t.text).length+(c?i:0);if(a)for(var h=0;h<a.length;++h){var p=a[h];if(null==p.to){var f=Br(l,p.marker);f?c&&(p.to=null==f.to?null:f.to+u):p.to=i}}if(l)for(var h=0;h<l.length;++h){var p=l[h];if(null!=p.to&&(p.to+=u),null==p.from){var f=Br(a,p.marker);f||(p.from=u,c&&(a||(a=[])).push(p))}else p.from+=u,c&&(a||(a=[])).push(p)}a&&(a=jr(a)),l&&l!=a&&(l=jr(l));var d=[a];if(!c){var g,m=t.text.length-2;if(m>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(g||(g=[])).push(new Mr(a[h].marker,null,null));for(var h=0;m>h;++h)d.push(g);d.push(l)}return d}function jr(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Rr(e,t){var n=Yi(e,t),r=Hr(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[i]=s)}return n}function Wr(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=po(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var c=i[l];if(!(_s(c.to,a.from)<0||_s(c.from,a.to)>0)){var u=[l,1],h=_s(c.from,a.from),p=_s(c.to,a.to);(0>h||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(p>0||!s.inclusiveRight&&!p)&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),l+=u.length-1}}return i}function Vr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ur(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function zr(e){return e.inclusiveLeft?-1:0}function Gr(e){return e.inclusiveRight?1:0}function Kr(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=_s(r.from,i.from)||zr(e)-zr(t);if(o)return-o;var s=_s(r.to,i.to)||Gr(e)-Gr(t);return s?s:t.id-e.id}function Yr(e,t){var n,r=vs&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||Kr(n,i.marker)<0)&&(n=i.marker);return n}function Qr(e){return Yr(e,!0)}function Zr(e){return Yr(e,!1)}function Xr(e,t,n,r,i){var o=Di(e,t),s=vs&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=_s(c.from,n)||zr(l.marker)-zr(i),h=_s(c.to,r)||Gr(l.marker)-Gr(i);if(!(u>=0&&0>=h||0>=u&&h>=0)&&(0>=u&&(_s(c.to,n)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||u>=0&&(_s(c.from,r)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function qr(e){for(var t;t=Qr(e);)e=t.find(-1,!0).line;return e}function Jr(e){for(var t,n;t=Zr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function ei(e,t){var n=Di(e,t),r=qr(n);return n==r?t:Bi(r)}function ti(e,t){if(t>e.lastLine())return t;var n,r=Di(e,t);if(!ni(e,r))return t;for(;n=Zr(r);)r=n.find(1,!0).line;return Bi(r)+1}function ni(e,t){var n=vs&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ri(e,t,r))return!0}}function ri(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return ri(e,r.line,Br(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ri(e,t,i))return!0}function ii(e,t,n){Ni(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&yr(e,null,n)}function oi(e){if(null!=e.height)return e.height;if(!ko(document.body,e.node)){var t="position: relative;";e.coverGutter&&(t+="margin-left: -"+e.cm.getGutterElement().offsetWidth+"px;"),Co(e.cm.display.measure,bo("div",[e.node],null,t))}return e.height=e.node.offsetHeight}function si(e,t,n,r){var i=new qs(e,n,r);return i.noHScroll&&(e.display.alignWidgets=!0),wr(e.doc,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,!ni(e.doc,t)){var r=Ni(t)<e.doc.scrollTop;Mi(t,t.height+oi(i)),r&&yr(e,null,i.height),e.curOp.forceUpdate=!0}return!0}),i}function ai(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Vr(e),Ur(e,n);var i=r?r(e):1;i!=e.height&&Mi(e,i)}function li(e){e.parent=null,Vr(e)}function ci(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function ui(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function hi(e,t,n){for(var r=0;10>r;r++){var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}function pi(t,n,r,i,o,s,a){var l=r.flattenSpans;null==l&&(l=t.options.flattenSpans);var c,u=0,h=null,p=new Ys(n,t.options.tabSize);for(""==n&&ci(ui(r,i),s);!p.eol();){if(p.pos>t.options.maxHighlightLength?(l=!1,a&&gi(t,n,i,p.pos),p.pos=n.length,c=null):c=ci(hi(r,p,i),s),t.options.addModeClass){var f=e.innerMode(r,i).mode.name;f&&(c="m-"+(c?f+" "+c:f))}l&&h==c||(u<p.start&&o(p.start,h),u=p.start,h=c),p.start=p.pos}for(;u<p.pos;){var d=Math.min(p.pos,u+5e4);o(d,h),u=d}}function fi(e,t,n,r){var i=[e.state.modeGen],o={};pi(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},o,r);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,c=0;pi(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>c;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(a.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function di(e,t){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=fi(e,t,t.stateAfter=St(e,Bi(t)));t.styles=n.styles,n.classes?t.styleClasses=n.classes:t.styleClasses&&(t.styleClasses=null)}return t.styles}function gi(e,t,n,r){var i=e.doc.mode,o=new Ys(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&ui(i,n);!o.eol()&&o.pos<=e.options.maxHighlightLength;)hi(i,o,n),o.start=o.pos}function mi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ta:ea;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function vi(e,t){var n=bo("span",null,null,ts?"padding-right: .1px":null),r={pre:bo("pre",[n]),content:n,col:0,pos:0,cm:e};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,s=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=_i,(Jo||ts)&&e.getOption("lineWrapping")&&(r.addToken=xi(r.addToken)),Oo(e.display.measure)&&(o=$i(s))&&(r.addToken=bi(r.addToken,o)),r.map=[],Ci(s,r,di(e,s)),s.styleClasses&&(s.styleClasses.bgClass&&(r.bgClass=Io(s.styleClasses.bgClass,r.bgClass||"")),s.styleClasses.textClass&&(r.textClass=Io(s.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Bo(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return ha(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Io(r.pre.className,r.textClass||"")),r}function yi(e){var t=bo("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t}function _i(e,t,n,r,i,o){if(t){var s=e.cm.options.specialChars,a=!1;if(s.test(t))for(var l=document.createDocumentFragment(),c=0;;){s.lastIndex=c;var u=s.exec(t),h=u?u.index-c:t.length-c;if(h){var p=document.createTextNode(t.slice(c,c+h));l.appendChild(Jo&&9>es?bo("span",[p]):p),e.map.push(e.pos,e.pos+h,p),e.col+=h,e.pos+=h}if(!u)break;if(c+=h+1,"	"==u[0]){var f=e.cm.options.tabSize,d=f-e.col%f,p=l.appendChild(bo("span",uo(d),"cm-tab"));e.col+=d}else{var p=e.cm.options.specialCharPlaceholder(u[0]);l.appendChild(Jo&&9>es?bo("span",[p]):p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var l=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,l),Jo&&9>es&&(a=!0),e.pos+=t.length}if(n||r||i||a){var g=n||"";r&&(g+=r),i&&(g+=i);var m=bo("span",[l],g);return o&&(m.title=o),e.content.appendChild(m)}e.content.appendChild(l)}}function xi(e){function t(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}return function(n,r,i,o,s,a){e(n,r.replace(/ {3,}/g,t),i,o,s,a)}}function bi(e,t){return function(n,r,i,o,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var u=0;u<t.length;u++){var h=t[u];if(h.to>l&&h.from<=l)break}if(h.to>=c)return e(n,r,i,o,s,a);e(n,r.slice(0,h.to-l),i,o,null,a),o=null,r=r.slice(h.to-l),l=h.to}}}function wi(e,t,n,r){var i=!r&&n.widgetNode;i&&(e.map.push(e.pos,e.pos+t,i),e.content.appendChild(i)),e.pos+=t}function Ci(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,l,c,u,h,p=i.length,f=0,d=1,g="",m=0;;){if(m==f){a=l=c=u="",h=null,m=1/0;for(var v=[],y=0;y<r.length;++y){var _=r[y],x=_.marker;_.from<=f&&(null==_.to||_.to>f)?(null!=_.to&&m>_.to&&(m=_.to,l=""),x.className&&(a+=" "+x.className),x.startStyle&&_.from==f&&(c+=" "+x.startStyle),x.endStyle&&_.to==m&&(l+=" "+x.endStyle),x.title&&!u&&(u=x.title),x.collapsed&&(!h||Kr(h.marker,x)<0)&&(h=_)):_.from>f&&m>_.from&&(m=_.from),"bookmark"==x.type&&_.from==f&&x.widgetNode&&v.push(x)}if(h&&(h.from||0)==f&&(wi(t,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to))return;if(!h&&v.length)for(var y=0;y<v.length;++y)wi(t,0,v[y])}if(f>=p)break;for(var b=Math.min(p,m);;){if(g){var w=f+g.length;if(!h){var C=w>b?g.slice(0,b-f):g;t.addToken(t,C,s?s+a:a,c,f+C.length==m?l:"",u)}if(w>=b){g=g.slice(b-f),f=b;break}f=w,c=""}g=i.slice(o,o=n[d++]),s=mi(n[d++],t.cm.options)}}else for(var d=1;d<n.length;d+=2)t.addToken(t,i.slice(o,o=n[d]),mi(n[d+1],t.cm.options))}function ki(e,t){return 0==t.from.ch&&0==t.to.ch&&""==ho(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Si(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){ai(e,n,i,r),no(e,"change",e,t)}var s=t.from,a=t.to,l=t.text,c=Di(e,s.line),u=Di(e,a.line),h=ho(l),p=i(l.length-1),f=a.line-s.line;if(ki(e,t)){for(var d=0,g=[];d<l.length-1;++d)g.push(new Js(l[d],i(d),r));o(u,u.text,p),f&&e.remove(s.line,f),g.length&&e.insert(s.line,g)}else if(c==u)if(1==l.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(a.ch),p);else{for(var g=[],d=1;d<l.length-1;++d)g.push(new Js(l[d],i(d),r));g.push(new Js(h+c.text.slice(a.ch),p,r)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,g)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+u.text.slice(a.ch),i(0)),e.remove(s.line+1,f);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(u,h+u.text.slice(a.ch),p);for(var d=1,g=[];d<l.length-1;++d)g.push(new Js(l[d],i(d),r));f>1&&e.remove(s.line+1,f-1),e.insert(s.line+1,g)}no(e,"change",e,t)}function Ti(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Ei(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Fi(e,t,n){function r(e,i,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;(!n||l)&&(t(a.doc,l),r(a.doc,e,l))}}}r(e,null,!0)}function Ii(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),n(e),e.options.lineWrapping||f(e),e.options.mode=t.modeOption,gn(e)}function Di(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>t){n=i;break}t-=o}return n.lines[t]}function Ai(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function Li(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function Mi(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Bi(e){if(null==e.parent)return null;for(var t=e.parent,n=po(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Oi(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(o>t){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var s=e.lines[r],a=s.height;if(a>t)break;t-=a}return n+r}function Ni(e){e=qr(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var s=o.children[r];if(s==n)break;t+=s.height}return t}function $i(e){var t=e.order;return null==t&&(t=e.order=Na(e.text)),t}function Pi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Hi(e,t){var n={from:z(t.from),to:Ls(t),text:Ai(e,t.from,t.to)};return Gi(e,n,t.from.line,t.to.line+1),Fi(e,function(e){Gi(e,n,t.from.line,t.to.line+1)},!0),n}function ji(e){for(;e.length;){var t=ho(e);if(!t.ranges)break;e.pop()}}function Ri(e,t){return t?(ji(e.done),ho(e.done)):e.done.length&&!ho(e.done).ranges?ho(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),ho(e.done)):void 0}function Wi(e,t,n,r){var i=e.history;i.undone.length=0;var o,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=Ri(i,i.lastOp==r))){var a=ho(o.changes);0==_s(t.from,t.to)&&0==_s(t.from,a.to)?a.to=Ls(t):o.changes.push(Hi(e,t))}else{var l=ho(i.done);for(l&&l.ranges||zi(e.sel,i.done),o={changes:[Hi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||ha(e,"historyAdded")}function Vi(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ui(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Vi(e,o,ho(i.done),t))?i.done[i.done.length-1]=t:zi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&ji(i.undone)}function zi(e,t){var n=ho(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Gi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Ki(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Yi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(Ki(n[r]));return i}function Qi(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?Y.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&po(t,Number(c[1]))>-1&&(ho(a)[h]=u[h],delete u[h])}}}return i}function Zi(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Xi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)Zi(o.ranges[a].anchor,t,n,r),Zi(o.ranges[a].head,t,n,r)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=ys(l.from.line+r,l.from.ch),l.to=ys(l.to.line+r,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function qi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Xi(e.done,n,r,i),Xi(e.undone,n,r,i)}function Ji(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function eo(e){return e.target||e.srcElement}function to(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),hs&&e.ctrlKey&&1==t&&(t=3),t}function no(e,t){function n(e){return function(){e.apply(null,o)}}var r=e._handlers&&e._handlers[t];if(r){var i,o=Array.prototype.slice.call(arguments,2);ks?i=ks.delayedCallbacks:pa?i=pa:(i=pa=[],setTimeout(ro,0));for(var s=0;s<r.length;++s)i.push(n(r[s]))}}function ro(){var e=pa;pa=null;for(var t=0;t<e.length;++t)e[t]()}function io(e,t,n){return ha(e,n||t.type,e,t),Ji(t)||t.codemirrorIgnore}function oo(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==po(n,t[r])&&n.push(t[r])}function so(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function ao(e){e.prototype.on=function(e,t){ca(this,e,t)},e.prototype.off=function(e,t){ua(this,e,t)}}function lo(){this.id=null}function co(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("	",r);-1==o&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function uo(e){for(;_a.length<=e;)_a.push(ho(_a)+" ");return _a[e]}function ho(e){return e[e.length-1]}function po(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function fo(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function go(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&mo(t,n),n}function mo(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function vo(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function yo(e,t){return t?t.source.indexOf("\\w")>-1&&Ca(e)?!0:t.test(e):Ca(e)}function _o(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function xo(e){return e.charCodeAt(0)>=768&&ka.test(e)}function bo(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function wo(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Co(e,t){return wo(e).appendChild(t)}function ko(e,t){if(e.contains)return e.contains(t);for(;t=t.parentNode;)if(t==e)return!0}function So(){return document.activeElement}function To(e){return new RegExp("\\b"+e+"\\b\\s*")}function Eo(e,t){var n=To(t);n.test(e.className)&&(e.className=e.className.replace(n,""))}function Fo(e,t){To(t).test(e.className)||(e.className+=" "+t)}function Io(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!To(n[r]).test(t)&&(t+=" "+n[r]);return t}function Do(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Ao(){Fa||(Lo(),Fa=!0)}function Lo(){var e;ca(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Sa=null,Do(Dn)},100))}),ca(window,"blur",function(){Do(Jn)})}function Mo(e){if(null!=Sa)return Sa;var t=bo("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return Co(e,t),t.offsetWidth&&(Sa=t.offsetHeight-t.clientHeight),Sa||0}function Bo(e){if(null==Ta){var t=bo("span","​");Co(e,bo("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ta=t.offsetWidth<=1&&t.offsetHeight>2&&!(Jo&&8>es))}return Ta?bo("span","​"):bo("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function Oo(e){if(null!=Ea)return Ea;var t=Co(e,document.createTextNode("AخA")),n=ba(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=ba(t,1,2).getBoundingClientRect();return Ea=r.right-n.right<3}function No(e){if(null!=Ma)return Ma;var t=Co(e,bo("span","x")),n=t.getBoundingClientRect(),r=ba(t,0,1).getBoundingClientRect();return Ma=Math.abs(n.left-r.left)>1}function $o(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function Po(e){return e.level%2?e.to:e.from}function Ho(e){return e.level%2?e.from:e.to}function jo(e){var t=$i(e);return t?Po(t[0]):0}function Ro(e){var t=$i(e);return t?Ho(ho(t)):e.text.length}function Wo(e,t){var n=Di(e.doc,t),r=qr(n);r!=n&&(t=Bi(r));var i=$i(r),o=i?i[0].level%2?Ro(r):jo(r):0;return ys(t,o)}function Vo(e,t){for(var n,r=Di(e.doc,t);n=Zr(r);)r=n.find(1,!0).line,t=null;var i=$i(r),o=i?i[0].level%2?jo(r):Ro(r):r.text.length;return ys(null==t?Bi(r):t,o)}function Uo(e,t){var n=Wo(e,t.line),r=Di(e.doc,n.line),i=$i(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return ys(n.line,s?0:o)}return n}function zo(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:n>t}function Go(e,t){Oa=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return zo(e,i.level,e[n].level)?(i.from!=i.to&&(Oa=n),r):(i.from!=i.to&&(Oa=r),n);n=r}}return n}function Ko(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&xo(e.text.charAt(t)));return t}function Yo(e,t,n,r){var i=$i(e);if(!i)return Qo(e,t,n,r);for(var o=Go(i,t),s=i[o],a=Ko(e,t,s.level%2?-n:n,r);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return Go(i,a)==o?a:(s=i[o+=n],n>0==s.level%2?s.to:s.from);if(s=i[o+=n],!s)return null;a=n>0==s.level%2?Ko(e,s.to,-1,r):Ko(e,s.from,1,r)}}function Qo(e,t,n,r){var i=t+n;if(r)for(;i>0&&xo(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var Zo=/gecko\/\d/i.test(navigator.userAgent),Xo=/MSIE \d/.test(navigator.userAgent),qo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Jo=Xo||qo,es=Jo&&(Xo?document.documentMode||6:qo[1]),ts=/WebKit\//.test(navigator.userAgent),ns=ts&&/Qt\/\d+\.\d+/.test(navigator.userAgent),rs=/Chrome\//.test(navigator.userAgent),is=/Opera\//.test(navigator.userAgent),os=/Apple Computer/.test(navigator.vendor),ss=/KHTML\//.test(navigator.userAgent),as=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),ls=/PhantomJS/.test(navigator.userAgent),cs=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),us=cs||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),hs=cs||/Mac/.test(navigator.platform),ps=/win/i.test(navigator.platform),fs=is&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);fs&&(fs=Number(fs[1])),fs&&fs>=15&&(is=!1,ts=!0);var ds=hs&&(ns||is&&(null==fs||12.11>fs)),gs=Zo||Jo&&es>=9,ms=!1,vs=!1,ys=e.Pos=function(e,t){return this instanceof ys?(this.line=e,void(this.ch=t)):new ys(e,t)},_s=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};Y.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=_s(n.anchor,r.anchor)||0!=_s(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Q(z(this.ranges[t].anchor),z(this.ranges[t].head));return new Y(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(_s(t,r.from())>=0&&_s(e,r.to())<=0)return n}return-1}},Q.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var xs,bs,ws,Cs={left:0,right:0,top:0,bottom:0},ks=null,Ss=0,Ts=null,Es=0,Fs=0,Is=null;Jo?Is=-.53:Zo?Is=15:rs?Is=-.7:os&&(Is=-1/3);var Ds,As=null,Ls=e.changeEnd=function(e){return e.text?ys(e.from.line+e.text.length-1,ho(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),Tn(this),Cn(this)},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Bs.hasOwnProperty(e)&&un(this,Bs[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||"string"!=typeof t[n]&&t[n].name==e)return t.splice(n,1),!0},addOverlay:hn(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,gn(this)}),removeOverlay:hn(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void gn(this)}}),indentLine:hn(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),tt(this.doc,e)&&br(this,e,t,n)}),indentSelection:hn(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(br(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&_r(this));else{var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;n>l;++l)br(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&st(this.doc,r,new Q(o,c[r].to()),ga)}}}),getTokenAt:function(e,t){var n=this.doc;e=J(n,e);for(var r=St(this,e.line,t),i=this.doc.mode,o=Di(n,e.line),s=new Ys(o.text,this.options.tabSize);s.pos<e.ch&&!s.eol();){s.start=s.pos;var a=hi(i,s,r)}return{start:s.start,end:s.pos,string:s.current(),type:a||null,state:r}},getTokenTypeAt:function(e){e=J(this.doc,e);var t,n=di(this,Di(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!js.hasOwnProperty(t))return js;var r=js[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var s=r[i[t][o]];s&&n.push(s)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var a=r._global[o];a.pred(i,this)&&-1==po(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=q(n,null==e?n.first+n.size-1:e),St(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?J(this.doc,e):e?r.from():r.to(),Gt(this,n,t||"page")},charCoords:function(e,t){return zt(this,J(this.doc,e),t||"page")},coordsChar:function(e,t){return e=Ut(this,e,t||"page"),Qt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=Ut(this,{top:e,left:0},t||"page").top,Oi(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n=!1,r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,n=!0);var i=Di(this.doc,e);return Vt(this,i,{top:0,left:0},t||"page").top+(n?this.doc.height-Ni(i):0)},defaultTextHeight:function(){return Xt(this.display)},defaultCharWidth:function(){return qt(this.display)},setGutterMarker:hn(function(e,t,n){return wr(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&_o(r)&&(e.gutterMarkers=null),!0})}),clearGutter:hn(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,mn(t,r,"gutter"),_o(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineWidget:hn(function(e,t,n){return si(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!tt(this.doc,e))return null;var t=e;if(e=Di(this.doc,e),!e)return null}else{var t=Bi(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=Gt(this,J(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",o.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&mr(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:hn(Yn),triggerOnKeyPress:hn(Xn),triggerOnKeyUp:Zn,execCommand:function(e){return Vs.hasOwnProperty(e)?Vs[e](this):void 0},findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var o=0,s=J(this.doc,e);t>o&&(s=kr(this.doc,s,i,n,r),!s.hitSide);++o);return s},moveH:hn(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?kr(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},va)}),deleteH:hn(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Cr(this,function(n){var i=kr(r,n.head,e,t,!1);
return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;0>t&&(i=-1,t=-t);for(var s=0,a=J(this.doc,e);t>s;++s){var l=Gt(this,a,"div");if(null==o?o=l.left:l.left=o,a=Sr(this,l,i,n),a.hitSide)break}return a},moveV:hn(function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(s){if(o)return 0>e?s.from():s.to();var a=Gt(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=Sr(n,a,e,t);return"page"==t&&s==r.sel.primary()&&yr(n,null,zt(n,l,"div").top-a.top),l},va),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]}),findWordAt:function(e){var t=this.doc,n=Di(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;for(var s=n.charAt(r),a=yo(s,o)?function(e){return yo(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!yo(e)};r>0&&a(n.charAt(r-1));)--r;for(;i<n.length&&a(n.charAt(i));)++i}return new Q(ys(e.line,r),ys(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Fo(this.display.cursorDiv,"CodeMirror-overwrite"):Eo(this.display.cursorDiv,"CodeMirror-overwrite"),ha(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return So()==this.display.input},scrollTo:hn(function(e,t){(null!=e||null!=t)&&xr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller,t=fa;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:hn(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ys(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)xr(this),this.curOp.scrollToPos=e;else{var n=vr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:hn(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&Ht(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){mn(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,ha(r,"refresh",this)}),operation:function(e){return cn(this,e)},refresh:hn(function(){var e=this.display.cachedTextHeight;gn(this),this.curOp.forceUpdate=!0,jt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),h(this),(null==e||Math.abs(e-Xt(this.display))>.5)&&s(this),ha(this,"refresh",this)}),swapDoc:hn(function(e){var t=this.doc;return t.cm=null,Ii(this,e),jt(this),Sn(this),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,no(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ao(e);var Ms=e.defaults={},Bs=e.optionHandlers={},Os=e.Init={toString:function(){return"CodeMirror.Init"}};Tr("value","",function(e,t){e.setValue(t)},!0),Tr("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Tr("indentUnit",2,n,!0),Tr("indentWithTabs",!1),Tr("smartIndent",!0),Tr("tabSize",4,function(e){r(e),jt(e),gn(e)},!0),Tr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),Tr("specialCharPlaceholder",yi,function(e){e.refresh()},!0),Tr("electricChars",!0),Tr("rtlMoveVisually",!ps),Tr("wholeLineUpdateBefore",!0),Tr("theme","default",function(e){l(e),c(e)},!0),Tr("keyMap","default",a),Tr("extraKeys",null),Tr("lineWrapping",!1,i,!0),Tr("gutters",[],function(e){d(e.options),c(e)},!0),Tr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?w(e.display)+"px":"0",e.refresh()},!0),Tr("coverGutterNextToScrollbar",!1,v,!0),Tr("lineNumbers",!1,function(e){d(e.options),c(e)},!0),Tr("firstLineNumber",1,c,!0),Tr("lineNumberFormatter",function(e){return e},c,!0),Tr("showCursorWhenSelecting",!1,yt,!0),Tr("resetSelectionOnContextMenu",!0),Tr("readOnly",!1,function(e,t){"nocursor"==t?(Jn(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||Sn(e))}),Tr("disableInput",!1,function(e,t){t||Sn(e)},!0),Tr("dragDrop",!0),Tr("cursorBlinkRate",530),Tr("cursorScrollMargin",0),Tr("cursorHeight",1,yt,!0),Tr("singleCursorHeightPerLine",!0,yt,!0),Tr("workTime",100),Tr("workDelay",100),Tr("flattenSpans",!0,r,!0),Tr("addModeClass",!1,r,!0),Tr("pollInterval",100),Tr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Tr("historyEventDelay",1250),Tr("viewportMargin",10,function(e){e.refresh()},!0),Tr("maxHighlightLength",1e4,r,!0),Tr("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),Tr("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Tr("autofocus",null);var Ns=e.modes={},$s=e.mimeModes={};e.defineMode=function(t,n){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){n.dependencies=[];for(var r=2;r<arguments.length;++r)n.dependencies.push(arguments[r])}Ns[t]=n},e.defineMIME=function(e,t){$s[e]=t},e.resolveMode=function(t){if("string"==typeof t&&$s.hasOwnProperty(t))t=$s[t];else if(t&&"string"==typeof t.name&&$s.hasOwnProperty(t.name)){var n=$s[t.name];"string"==typeof n&&(n={name:n}),t=go(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=Ns[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(Ps.hasOwnProperty(n.name)){var o=Ps[n.name];for(var s in o)o.hasOwnProperty(s)&&(i.hasOwnProperty(s)&&(i["_"+s]=i[s]),i[s]=o[s])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)i[s]=n.modeProps[s];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Ps=e.modeExtensions={};e.extendMode=function(e,t){var n=Ps.hasOwnProperty(e)?Ps[e]:Ps[e]={};mo(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){ra.prototype[e]=t},e.defineOption=Tr;var Hs=[];e.defineInitHook=function(e){Hs.push(e)};var js=e.helpers={};e.registerHelper=function(t,n,r){js.hasOwnProperty(t)||(js[t]=e[t]={_global:[]}),js[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),js[t]._global.push({pred:r,val:i})};var Rs=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},Ws=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var Vs=e.commands={selectAll:function(e){e.setSelection(ys(e.firstLine(),0),ys(e.lastLine()),ga)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),ga)},killLine:function(e){Cr(e,function(t){if(t.empty()){var n=Di(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ys(t.head.line+1,0)}:{from:t.head,to:ys(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Cr(e,function(t){return{from:ys(t.from().line,0),to:J(e.doc,ys(t.to().line+1,0))}})},delLineLeft:function(e){Cr(e,function(e){return{from:ys(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Cr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){Cr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(ys(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(ys(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return Wo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return Uo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return Vo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},va)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},va)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Uo(e,t.head):r},va)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=ya(e.getLine(o.line),o.ch,r);t.push(new Array(r-s%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){cn(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=Di(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ys(i.line,i.ch-1)),i.ch>0)i=new ys(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ys(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=Di(e.doc,i.line-1).text;s&&e.replaceRange(o.charAt(0)+"\n"+s.charAt(s.length-1),ys(i.line-1,s.length-1),ys(i.line,1),"+transpose")}n.push(new Q(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){cn(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange("\n",r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0),_r(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},Us=e.keyMap={};Us.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Us.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Us.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},Us.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Us["default"]=hs?Us.macDefault:Us.pcDefault;var zs=e.lookupKey=function(e,t,n){function r(t){t=Er(t);var i=t[e];if(i===!1)return"stop";if(null!=i&&n(i))return!0;if(t.nofallthrough)return"stop";var o=t.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return r(o);for(var s=0;s<o.length;++s){var a=r(o[s]);if(a)return a}return!1}for(var i=0;i<t.length;++i){var o=r(t[i]);if(o)return"stop"!=o}},Gs=e.isModifierKey=function(e){var t=Ba[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},Ks=e.keyName=function(e,t){if(is&&34==e.keyCode&&e["char"])return!1;var n=Ba[e.keyCode];return null==n||e.altGraphKey?!1:(e.altKey&&(n="Alt-"+n),(ds?e.metaKey:e.ctrlKey)&&(n="Ctrl-"+n),(ds?e.ctrlKey:e.metaKey)&&(n="Cmd-"+n),!t&&e.shiftKey&&(n="Shift-"+n),n)};e.fromTextArea=function(t,n){function r(){t.value=c.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=So();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(ca(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){r(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c.save=r,c.getTextArea=function(){return t},c.toTextArea=function(){r(),t.parentNode.removeChild(c.getWrapperElement()),t.style.display="",t.form&&(ua(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=s))},c};var Ys=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Ys.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ya(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ya(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ya(this.string,null,this.tabSize)-(this.lineStart?ya(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var Qs=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e};ao(Qs),Qs.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Jt(e),so(this,"clear")){var n=this.find();n&&no(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Br(s.markedSpans,this);e&&!this.collapsed?mn(e,Bi(s),"text"):e&&(null!=a.to&&(i=Bi(s)),null!=a.from&&(r=Bi(s))),s.markedSpans=Or(s.markedSpans,a),null==a.from&&this.collapsed&&!ni(this.doc,s)&&e&&Mi(s,Xt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=qr(this.lines[o]),c=p(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&gn(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ft(e.doc)),e&&no(e,"markerCleared",e,this),t&&tn(e),this.parent&&this.parent.clear()}},Qs.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],s=Br(o.markedSpans,this);if(null!=s.from&&(n=ys(t?o:Bi(o),s.from),-1==e))return n;if(null!=s.to&&(r=ys(t?o:Bi(o),s.to),1==e))return r}return n&&{from:n,to:r}},Qs.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&cn(n,function(){var r=e.line,i=Bi(e.line),o=Mt(n,i);if(o&&(Pt(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ni(t.doc,r)&&null!=t.height){var s=t.height;t.height=null;var a=oi(t)-s;a&&Mi(r,r.height+a)}})},Qs.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=po(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Qs.prototype.detachLine=function(e){if(this.lines.splice(po(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var Zs=0,Xs=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};ao(Xs),Xs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();no(this,"clear")}},Xs.prototype.find=function(e,t){return this.primary.find(e,t)};var qs=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t};ao(qs),qs.prototype.clear=function(){var e=this.cm,t=this.line.widgets,n=this.line,r=Bi(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=oi(this);cn(e,function(){ii(e,n,-o),mn(e,r,"widget"),Mi(n,Math.max(0,n.height-o))})}},qs.prototype.changed=function(){var e=this.height,t=this.cm,n=this.line;this.height=null;var r=oi(this)-e;r&&cn(t,function(){t.curOp.forceUpdate=!0,ii(t,n,r),Mi(n,n.height+r)})};var Js=e.Line=function(e,t,n){this.text=e,Ur(this,t),this.height=n?n(this):1};ao(Js),Js.prototype.lineNo=function(){return Bi(this)};var ea={},ta={};Ti.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,li(i),no(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},Ei.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var o=Math.min(t,i-e),s=r.height;if(r.removeInner(e,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ti))){var a=[];this.collapse(a),this.children=[new Ti(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var s=i.lines.splice(i.lines.length-25,25),a=new Ti(s);i.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Ei(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=po(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Ei(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>e){var s=Math.min(t,o-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var na=0,ra=e.Doc=function(e,t,n){if(!(this instanceof ra))return new ra(e,t,n);null==n&&(n=0),Ei.call(this,[new Ti([new Js("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=ys(n,0);this.sel=X(r),this.history=new Pi(null),this.id=++na,this.modeOption=t,"string"==typeof e&&(e=Da(e)),Si(this,{from:r,to:r,text:e}),ut(this,X(r),ga)};ra.prototype=go(Ei.prototype,{constructor:ra,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Li(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:pn(function(e){var t=ys(this.first,0),n=this.first+this.size-1;ar(this,{from:t,to:ys(n,Di(this,n).text.length),text:Da(e),origin:"setValue"},!0),ut(this,X(t))}),replaceRange:function(e,t,n,r){t=J(this,t),n=n?J(this,n):t,fr(this,e,t,n,r)},getRange:function(e,t,n){var r=Ai(this,J(this,e),J(this,t));return n===!1?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return tt(this,e)?Di(this,e):void 0},getLineNumber:function(e){return Bi(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Di(this,e)),qr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return J(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:pn(function(e,t,n){at(this,J(this,"number"==typeof e?ys(e,t||0):e),null,n)}),setSelection:pn(function(e,t,n){at(this,J(this,e),J(this,t||e),n)}),extendSelection:pn(function(e,t,n){it(this,J(this,e),t&&J(this,t),n)}),extendSelections:pn(function(e,t){ot(this,nt(this,e,t))}),extendSelectionsBy:pn(function(e,t){ot(this,fo(this.sel.ranges,e),t)}),setSelections:pn(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new Q(J(this,e[r].anchor),J(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ut(this,Z(i,t),n)}}),addSelection:pn(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Q(J(this,e),J(this,t||e))),ut(this,Z(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ai(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ai(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||"\n")),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:pn(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:Da(e[o]),origin:n}}for(var a=t&&"end"!=t&&or(this,r,t),o=r.length-1;o>=0;o--)ar(this,r[o]);a?ct(this,a):this.cm&&_r(this.cm)}),undo:pn(function(){cr(this,"undo")}),redo:pn(function(){cr(this,"redo")}),undoSelection:pn(function(){cr(this,"undo",!0)}),redoSelection:pn(function(){cr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Pi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Qi(this.history.done),undone:Qi(this.history.undone)}},setHistory:function(e){var t=this.history=new Pi(this.history.maxGeneration);t.done=Qi(e.done.slice(0),null,!0),t.undone=Qi(e.undone.slice(0),null,!0)},addLineClass:pn(function(e,t,n){return wr(this,e,"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[r]){if(new RegExp("(?:^|\\s)"+n+"(?:$|\\s)").test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:pn(function(e,t,n){return wr(this,e,"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!o)return!1;var s=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0})}),markText:function(e,t,n){return Fr(this,J(this,e),J(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return e=J(this,e),Fr(this,e,e,n,"bookmark")},findMarksAt:function(e){e=J(this,e);var t=[],n=Di(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=J(this,e),t=J(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];i==e.line&&e.ch>l.to||null==l.from&&i!=e.line||i==t.line&&l.from>t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>e?(t=e,!0):(e-=i,void++n)}),J(this,ys(n,t))},indexFromPos:function(e){e=J(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ra(Li(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ra(Li(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Ar(r,Dr(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Lr(Dr(this));break}}if(t.history==this.history){var i=[t.id];Fi(t,function(e){i.push(e.id)},!0),t.history=new Pi(null),t.history.done=Qi(this.history.done,i),t.history.undone=Qi(this.history.undone,i)}},iterLinkedDocs:function(e){Fi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ra.prototype.eachLine=ra.prototype.iter;var ia="iter insert remove copy getEditor".split(" ");for(var oa in ra.prototype)ra.prototype.hasOwnProperty(oa)&&po(ia,oa)<0&&(e.prototype[oa]=function(e){return function(){return e.apply(this.doc,arguments)}}(ra.prototype[oa]));ao(ra);var sa=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},aa=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},la=e.e_stop=function(e){sa(e),aa(e)},ca=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},ua=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},ha=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},pa=null,fa=30,da=e.Pass={toString:function(){return"CodeMirror.Pass"}},ga={scroll:!1},ma={origin:"*mouse"},va={origin:"+move"};lo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var ya=e.countColumn=function(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=r||0,s=i||0;;){var a=e.indexOf("	",o);if(0>a||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}},_a=[""],xa=function(e){e.select()};cs?xa=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Jo&&(xa=function(e){try{e.select()}catch(t){}}),[].indexOf&&(po=function(e,t){return e.indexOf(t)}),[].map&&(fo=function(e,t){return e.map(t)});var ba,wa=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ca=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||wa.test(e))},ka=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
ba=document.createRange?function(e,t,n){var r=document.createRange();return r.setEnd(e,n),r.setStart(e,t),r}:function(e,t,n){var r=document.body.createTextRange();return r.moveToElementText(e.parentNode),r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r},Jo&&11>es&&(So=function(){try{return document.activeElement}catch(e){return document.body}});var Sa,Ta,Ea,Fa=!1,Ia=function(){if(Jo&&9>es)return!1;var e=bo("div");return"draggable"in e||"dragDrop"in e}(),Da=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Aa=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},La=function(){var e=bo("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ma=null,Ba={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Ba,function(){for(var e=0;10>e;e++)Ba[e+48]=Ba[e+96]=String(e);for(var e=65;90>=e;e++)Ba[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Ba[e+111]=Ba[e+63235]="F"+e}();var Oa,Na=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!i.test(n))return!1;for(var r,u=n.length,h=[],p=0;u>p;++p)h.push(r=e(n.charCodeAt(p)));for(var p=0,f=c;u>p;++p){var r=h[p];"m"==r?h[p]=f:f=r}for(var p=0,d=c;u>p;++p){var r=h[p];"1"==r&&"r"==d?h[p]="n":s.test(r)&&(d=r,"r"==r&&(h[p]="R"))}for(var p=1,f=h[0];u-1>p;++p){var r=h[p];"+"==r&&"1"==f&&"1"==h[p+1]?h[p]="1":","!=r||f!=h[p+1]||"1"!=f&&"n"!=f||(h[p]=f),f=r}for(var p=0;u>p;++p){var r=h[p];if(","==r)h[p]="N";else if("%"==r){for(var g=p+1;u>g&&"%"==h[g];++g);for(var m=p&&"!"==h[p-1]||u>g&&"1"==h[g]?"1":"N",v=p;g>v;++v)h[v]=m;p=g-1}}for(var p=0,d=c;u>p;++p){var r=h[p];"L"==d&&"1"==r?h[p]="L":s.test(r)&&(d=r)}for(var p=0;u>p;++p)if(o.test(h[p])){for(var g=p+1;u>g&&o.test(h[g]);++g);for(var y="L"==(p?h[p-1]:c),_="L"==(u>g?h[g]:c),m=y||_?"L":"R",v=p;g>v;++v)h[v]=m;p=g-1}for(var x,b=[],p=0;u>p;)if(a.test(h[p])){var w=p;for(++p;u>p&&a.test(h[p]);++p);b.push(new t(0,w,p))}else{var C=p,k=b.length;for(++p;u>p&&"L"!=h[p];++p);for(var v=C;p>v;)if(l.test(h[v])){v>C&&b.splice(k,0,new t(1,C,v));var S=v;for(++v;p>v&&l.test(h[v]);++v);b.splice(k,0,new t(2,S,v)),C=v}else++v;p>C&&b.splice(k,0,new t(1,C,p))}return 1==b[0].level&&(x=n.match(/^\s+/))&&(b[0].from=x[0].length,b.unshift(new t(0,0,x[0].length))),1==ho(b).level&&(x=n.match(/\s+$/))&&(ho(b).to-=x[0].length,b.push(new t(0,u-x[0].length,u))),b[0].level!=ho(b).level&&b.push(new t(b[0].level,u,u)),b}}();return e.version="4.6.0",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){if(0>r&&0==n.ch)return t.clipPos(p(n.line-1));var i=t.getLine(n.line);if(r>0&&n.ch>=i.length)return t.clipPos(p(n.line+1,0));for(var o,s="start",a=n.ch,l=0>r?0:i.length,c=0;a!=l;a+=r,c++){var u=i.charAt(0>r?a-1:a),h="_"!=u&&e.isWordChar(u)?"w":"o";if("w"==h&&u.toUpperCase()==u&&(h="W"),"start"==s)"o"!=h&&(s="in",o=h);else if("in"==s&&o!=h){if("w"==o&&"W"==h&&0>r&&a--,"W"==o&&"w"==h&&r>0){o="w";continue}break}}return p(n.line,a)}function n(e,n){e.extendSelectionsBy(function(r){return e.display.shift||e.doc.extend||r.empty()?t(e.doc,r.head,n):0>n?r.from():r.to()})}function r(e,t){e.operation(function(){for(var n=e.listSelections().length,r=[],i=-1,o=0;n>o;o++){var s=e.listSelections()[o].head;if(!(s.line<=i)){var a=p(s.line+(t?0:1),0);e.replaceRange("\n",a,null,"+insertLine"),e.indentLine(a.line,null,!0),r.push({head:a,anchor:a}),i=s.line+1}}e.setSelections(r)})}function i(t,n){for(var r=n.ch,i=r,o=t.getLine(n.line);r&&e.isWordChar(o.charAt(r-1));)--r;for(;i<o.length&&e.isWordChar(o.charAt(i));)++i;return{from:p(n.line,r),to:p(n.line,i),word:o.slice(r,i)}}function o(e){var t=e.getCursor(),n=e.scanForBracket(t,-1);if(n)for(;;){var r=e.scanForBracket(t,1);if(!r)return;if(r.ch==g.charAt(g.indexOf(n.ch)+1))return e.setSelection(p(n.pos.line,n.pos.ch+1),r.pos,!1),!0;t=p(r.pos.line,r.pos.ch+1)}}function s(e,t){for(var n,r=e.listSelections(),i=[],o=0;o<r.length;o++){var s=r[o];if(!s.empty()){for(var a=s.from().line,l=s.to().line;o<r.length-1&&r[o+1].from().line==l;)l=s[++o].to().line;i.push(a,l)}}i.length?n=!0:i.push(e.firstLine(),e.lastLine()),e.operation(function(){for(var r=[],o=0;o<i.length;o+=2){var s=i[o],a=i[o+1],l=p(s,0),c=p(a),u=e.getRange(l,c,!1);t?u.sort():u.sort(function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),t>e?-1:e==t?0:1}),e.replaceRange(u,l,c),n&&r.push({anchor:l,head:c})}n&&e.setSelections(r,0)})}function a(t,n){t.operation(function(){for(var r=t.listSelections(),o=[],s=[],a=0;a<r.length;a++){var l=r[a];l.empty()?(o.push(a),s.push("")):s.push(n(t.getRange(l.from(),l.to())))}t.replaceSelections(s,"around","case");for(var c,a=o.length-1;a>=0;a--){var l=r[o[a]];if(!(c&&e.cmpPos(l.head,c)>0)){var u=i(t,l.head);c=u.from,t.replaceRange(n(u.word),u.from,u.to)}}})}function l(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var o=i(t,n);if(!o.word)return;n=o.from,r=o.to}return{from:n,to:r,query:t.getRange(n,r),word:o}}function c(e,t){var n=l(e);if(n){var r=n.query,i=e.getSearchCursor(r,t?n.to:n.from);(t?i.findNext():i.findPrevious())?e.setSelection(i.from(),i.to()):(i=e.getSearchCursor(r,t?p(e.firstLine(),0):e.clipPos(p(e.lastLine()))),(t?i.findNext():i.findPrevious())?e.setSelection(i.from(),i.to()):n.word&&e.setSelection(n.from,n.to))}}var u=e.keyMap.sublime={fallthrough:"default"},h=e.commands,p=e.Pos,f=e.keyMap["default"]==e.keyMap.macDefault,d=f?"Cmd-":"Ctrl-";h[u["Alt-Left"]="goSubwordLeft"]=function(e){n(e,-1)},h[u["Alt-Right"]="goSubwordRight"]=function(e){n(e,1)},h[u[d+"Up"]="scrollLineUp"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},h[u[d+"Down"]="scrollLineDown"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},h[u["Shift-"+d+"L"]="splitSelectionByLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)for(var i=t[r].from(),o=t[r].to(),s=i.line;s<=o.line;++s)o.line>i.line&&s==o.line&&0==o.ch||n.push({anchor:s==i.line?i:p(s,0),head:s==o.line?o:p(s)});e.setSelections(n,0)},u["Shift-Tab"]="indentLess",h[u.Esc="singleSelectionTop"]=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},h[u[d+"L"]="selectLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r];n.push({anchor:p(i.from().line,0),head:p(i.to().line+1,0)})}e.setSelections(n)},u["Shift-"+d+"K"]="deleteLine",h[u[d+"Enter"]="insertLineAfter"]=function(e){r(e,!1)},h[u["Shift-"+d+"Enter"]="insertLineBefore"]=function(e){r(e,!0)},h[u[d+"D"]="selectNextOccurrence"]=function(t){var n=t.getCursor("from"),r=t.getCursor("to"),o=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,r)){var s=i(t,n);if(!s.word)return;t.setSelection(s.from,s.to),o=!0}else{var a=t.getRange(n,r),l=o?new RegExp("\\b"+a+"\\b"):a,c=t.getSearchCursor(l,r);c.findNext()?t.addSelection(c.from(),c.to()):(c=t.getSearchCursor(l,p(t.firstLine(),0)),c.findNext()&&t.addSelection(c.from(),c.to()))}o&&(t.state.sublimeFindFullWord=t.doc.sel)};var g="(){}[]";h[u["Shift-"+d+"Space"]="selectScope"]=function(e){o(e)||e.execCommand("selectAll")},h[u["Shift-"+d+"M"]="selectBetweenBrackets"]=function(t){return o(t)?void 0:e.Pass},h[u[d+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(n){var r=t.scanForBracket(n.head,1);if(r&&0!=e.cmpPos(r.pos,n.head))return r.pos;var i=t.scanForBracket(n.head,-1);return i&&p(i.pos.line,i.pos.ch+1)||n.head})};var m=f?"Cmd-Ctrl-":"Shift-Ctrl-";h[u[m+"Up"]="swapLineUp"]=function(e){for(var t=e.listSelections(),n=[],r=e.firstLine()-1,i=[],o=0;o<t.length;o++){var s=t[o],a=s.from().line-1,l=s.to().line;i.push({anchor:p(s.anchor.line-1,s.anchor.ch),head:p(s.head.line-1,s.head.ch)}),0!=s.to().ch||s.empty()||--l,a>r?n.push(a,l):n.length&&(n[n.length-1]=l),r=l}e.operation(function(){for(var t=0;t<n.length;t+=2){var r=n[t],o=n[t+1],s=e.getLine(r);e.replaceRange("",p(r,0),p(r+1,0),"+swapLine"),o>e.lastLine()?e.replaceRange("\n"+s,p(e.lastLine()),null,"+swapLine"):e.replaceRange(s+"\n",p(o,0),null,"+swapLine")}e.setSelections(i),e.scrollIntoView()})},h[u[m+"Down"]="swapLineDown"]=function(e){for(var t=e.listSelections(),n=[],r=e.lastLine()+1,i=t.length-1;i>=0;i--){var o=t[i],s=o.to().line+1,a=o.from().line;0!=o.to().ch||o.empty()||s--,r>s?n.push(s,a):n.length&&(n[n.length-1]=a),r=a}e.operation(function(){for(var t=n.length-2;t>=0;t-=2){var r=n[t],i=n[t+1],o=e.getLine(r);r==e.lastLine()?e.replaceRange("",p(r-1),p(r),"+swapLine"):e.replaceRange("",p(r,0),p(r+1,0),"+swapLine"),e.replaceRange(o+"\n",p(i,0),null,"+swapLine")}e.scrollIntoView()})},u[d+"/"]="toggleComment",h[u[d+"J"]="joinLines"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){for(var i=t[r],o=i.from(),s=o.line,a=i.to().line;r<t.length-1&&t[r+1].from().line==a;)a=t[++r].to().line;n.push({start:s,end:a,anchor:!i.empty()&&o})}e.operation(function(){for(var t=0,r=[],i=0;i<n.length;i++){for(var o,s=n[i],a=s.anchor&&p(s.anchor.line-t,s.anchor.ch),l=s.start;l<=s.end;l++){var c=l-t;l==s.end&&(o=p(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",p(c),p(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}r.push({anchor:a||o,head:o})}e.setSelections(r,0)})},h[u["Shift-"+d+"D"]="duplicateLine"]=function(e){e.operation(function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];r.empty()?e.replaceRange(e.getLine(r.head.line)+"\n",p(r.head.line,0)):e.replaceRange(e.getRange(r.from(),r.to()),r.from())}e.scrollIntoView()})},u[d+"T"]="transposeChars",h[u.F9="sortLines"]=function(e){s(e,!0)},h[u[d+"F9"]="sortLinesInsensitive"]=function(e){s(e,!1)},h[u.F2="nextBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},h[u["Shift-F2"]="prevBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},h[u[d+"F2"]="toggleBookmark"]=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var i=t[r].from(),o=t[r].to(),s=e.findMarks(i,o),a=0;a<s.length;a++)if(s[a].sublimeBookmark){s[a].clear();for(var l=0;l<n.length;l++)n[l]==s[a]&&n.splice(l--,1);break}a==s.length&&n.push(e.markText(i,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},h[u["Shift-"+d+"F2"]="clearBookmarks"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},h[u["Alt-F2"]="selectBookmarks"]=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r].find();i?n.push({anchor:i.from,head:i.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)},u["Alt-Q"]="wrapLines";var v=e.keyMap["sublime-Ctrl-K"]={auto:"sublime",nofallthrough:!0};u[d+"K"]=function(e){e.setOption("keyMap","sublime-Ctrl-K")},v[d+"Backspace"]="delLineLeft",h[v[d+"K"]="delLineRight"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,p(t[n].to().line),"+delete");e.scrollIntoView()})},h[v[d+"U"]="upcaseAtCursor"]=function(e){a(e,function(e){return e.toUpperCase()})},h[v[d+"L"]="downcaseAtCursor"]=function(e){a(e,function(e){return e.toLowerCase()})},h[v[d+"Space"]="setSublimeMark"]=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},h[v[d+"A"]="selectToSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},h[v[d+"W"]="deleteToSublimeMark"]=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),i=n;if(e.cmpPos(r,i)>0){var o=i;i=r,r=o}t.state.sublimeKilled=t.getRange(r,i),t.replaceRange("",r,i)}},h[v[d+"X"]="swapWithSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},h[v[d+"Y"]="sublimeYank"]=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},v[d+"G"]="clearBookmarks",h[v[d+"C"]="showInCenter"]=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},h[u["Shift-Alt-Up"]="selectLinesUpward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line>e.firstLine()&&e.addSelection(p(r.head.line-1,r.head.ch))}})},h[u["Shift-Alt-Down"]="selectLinesDownward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line<e.lastLine()&&e.addSelection(p(r.head.line+1,r.head.ch))}})},h[u[d+"F3"]="findUnder"]=function(e){c(e,!0)},h[u["Shift-"+d+"F3"]="findUnderPrevious"]=function(e){c(e,!1)},h[u["Alt-F3"]="findAllUnder"]=function(e){var t=l(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],i=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&i++;e.setSelections(r,i)}},u["Shift-"+d+"["]="fold",u["Shift-"+d+"]"]="unfold",v[d+"0"]=v[d+"j"]="unfoldAll",u[d+"I"]="findIncremental",u["Shift-"+d+"I"]="findIncrementalReverse",u[d+"H"]="replace",u.F3="findNext",u["Shift-F3"]="findPrev"}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("haxe",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function r(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==t&&!r)return!1;r=!r&&"\\"==n}return r}function i(e,t,n){return U=e,z=n,t}function o(e,t){var o=e.next();if('"'==o||"'"==o)return n(e,t,s(o));if(/[\[\]{}\(\),;\:\.]/.test(o))return i(o);if("0"==o&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(o)||"-"==o&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if(t.reAllowed&&"~"==o&&e.eat(/\//))return r(e,"/"),e.eatWhile(/[gimsu]/),i("regexp","string-2");if("/"==o)return e.eat("*")?n(e,t,a):e.eat("/")?(e.skipToEnd(),i("comment","comment")):(e.eatWhile(Y),i("operator",null,e.current()));if("#"==o)return e.skipToEnd(),i("conditional","meta");if("@"==o)return e.eat(/:/),e.eatWhile(/[\w_]/),i("metadata","meta");if(Y.test(o))return e.eatWhile(Y),i("operator",null,e.current());var l;if(/[A-Z]/.test(o))return e.eatWhile(/[\w_<>]/),l=e.current(),i("type","variable-3",l);e.eatWhile(/[\w_]/);var l=e.current(),c=K.propertyIsEnumerable(l)&&K[l];return c&&t.kwAllowed?i(c.type,c.style,l):i("variable","variable",l)}function s(e){return function(t,n){return r(t,e)||(n.tokenize=o),i("string","string")}}function a(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function c(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function u(e,t,n,r,i){var o=e.cc;for(Z.state=e,Z.stream=i,Z.marked=null,Z.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():b;if(s(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Z.marked?Z.marked:"variable"==n&&c(e,r)?"variable-2":"variable"==n&&h(e,r)?"variable-3":t}}}function h(e,t){if(/[a-z]/.test(t.charAt(0)))return!1;for(var n=e.importedtypes.length,r=0;n>r;r++)if(e.importedtypes[r]==t)return!0}function p(e){for(var t=Z.state,n=t.importedtypes;n;n=n.next)if(n.name==e)return;t.importedtypes={name:e,next:t.importedtypes}}function f(){for(var e=arguments.length-1;e>=0;e--)Z.cc.push(arguments[e])}function d(){return f.apply(null,arguments),!0}function g(e){var t=Z.state;if(t.context){Z.marked="def";for(var n=t.localVars;n;n=n.next)if(n.name==e)return;t.localVars={name:e,next:t.localVars}}}function m(){Z.state.context||(Z.state.localVars=X),Z.state.context={prev:Z.state.context,vars:Z.state.localVars}}function v(){Z.state.localVars=Z.state.context.vars,Z.state.context=Z.state.context.prev}function y(e,t){var n=function(){var n=Z.state;n.lexical=new l(n.indented,Z.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function _(){var e=Z.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function t(n){return n==e?d():";"==e?f():d(t)}return t}function b(e){return"@"==e?d(T):"var"==e?d(y("vardef"),O,x(";"),_):"keyword a"==e?d(y("form"),w,b,_):"keyword b"==e?d(y("form"),b,_):"{"==e?d(y("}"),m,B,_,v):";"==e?d():"attribute"==e?d(S):"function"==e?d(H):"for"==e?d(y("form"),x("("),y(")"),$,x(")"),_,b,_):"variable"==e?d(y("stat"),D):"switch"==e?d(y("form"),w,y("}","switch"),x("{"),B,_,_):"case"==e?d(w,x(":")):"default"==e?d(x(":")):"catch"==e?d(y("form"),m,x("("),V,x(")"),b,_,v):"import"==e?d(F,x(";")):"typedef"==e?d(I):f(y("stat"),w,x(";"),_)}function w(e){return Q.hasOwnProperty(e)?d(k):"function"==e?d(H):"keyword c"==e?d(C):"("==e?d(y(")"),C,x(")"),_,k):"operator"==e?d(w):"["==e?d(y("]"),M(w,"]"),_,k):"{"==e?d(y("}"),M(L,"}"),_,k):d()}function C(e){return e.match(/[;\}\)\],]/)?f():f(w)}function k(e,t){if("operator"==e&&/\+\+|--/.test(t))return d(k);if("operator"==e||":"==e)return d(w);if(";"!=e)return"("==e?d(y(")"),M(w,")"),_,k):"."==e?d(A,k):"["==e?d(y("]"),w,x("]"),_,k):void 0}function S(e){return"attribute"==e?d(S):"function"==e?d(H):"var"==e?d(O):void 0}function T(e){return":"==e?d(T):"variable"==e?d(T):"("==e?d(y(")"),M(E,")"),_,b):void 0}function E(e){return"variable"==e?d():void 0}function F(e,t){return"variable"==e&&/[A-Z]/.test(t.charAt(0))?(p(t),d()):"variable"==e||"property"==e||"."==e||"*"==t?d(F):void 0}function I(e,t){return"variable"==e&&/[A-Z]/.test(t.charAt(0))?(p(t),d()):"type"==e&&/[A-Z]/.test(t.charAt(0))?d():void 0}function D(e){return":"==e?d(_,b):f(k,x(";"),_)}function A(e){return"variable"==e?(Z.marked="property",d()):void 0}function L(e){return"variable"==e&&(Z.marked="property"),Q.hasOwnProperty(e)?d(x(":"),w):void 0}function M(e,t){function n(r){return","==r?d(e,n):r==t?d():d(x(t))}return function(r){return r==t?d():f(e,n)}}function B(e){return"}"==e?d():f(b,B)}function O(e,t){return"variable"==e?(g(t),d(j,N)):d()}function N(e,t){return"="==t?d(w,N):","==e?d(O):void 0}function $(e,t){return"variable"==e&&g(t),d(y(")"),m,P,w,_,b,v)}function P(e,t){return"in"==t?d():void 0}function H(e,t){return"variable"==e?(g(t),d(H)):"new"==t?d(H):"("==e?d(y(")"),m,M(V,")"),_,j,b,v):void 0}function j(e){return":"==e?d(R):void 0}function R(e){return"type"==e?d():"variable"==e?d():"{"==e?d(y("}"),M(W,"}"),_):void 0}function W(e){return"variable"==e?d(j):void 0}function V(e,t){return"variable"==e?(g(t),d(j)):void 0}var U,z,G=e.indentUnit,K=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},s={type:"attribute",style:"attribute"},a=e("typedef");return{"if":t,"while":t,"else":n,"do":n,"try":n,"return":r,"break":r,"continue":r,"new":r,"throw":r,"var":e("var"),inline:s,"static":s,using:e("import"),"public":s,"private":s,cast:e("cast"),"import":e("import"),macro:e("macro"),"function":e("function"),"catch":e("catch"),untyped:e("untyped"),callback:e("cb"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,never:e("property_access"),trace:e("trace"),"class":a,"abstract":a,"enum":a,"interface":a,typedef:a,"extends":a,"implements":a,dynamic:a,"true":o,"false":o,"null":o}}(),Y=/[+\-*&%=<>!?|]/,Q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},Z={state:null,column:null,marked:null,cc:null},X={name:"this",next:null};return _.lex=!0,{startState:function(e){var n=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];return{tokenize:o,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new l((e||0)-G,0,"block",!1),localVars:t.localVars,importedtypes:n,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==U?n:(t.reAllowed=!("operator"!=U&&"keyword c"!=U&&!U.match(/^[\[{}\(,;:]$/)),t.kwAllowed="."!=U,u(t,n,U,z,e))},indent:function(e,t){if(e.tokenize!=o)return 0;var n=t&&t.charAt(0),r=e.lexical;"stat"==r.type&&"}"==n&&(r=r.prev);var i=r.type,s=n==i;return"vardef"==i?r.indented+4:"form"==i&&"{"==n?r.indented:"stat"==i||"form"==i?r.indented+G:"switch"!=r.info||s?r.align?r.column+(s?0:1):r.indented+(s?0:G):r.indented+(/^(?:case|default)\b/.test(t)?G:2*G)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),e.defineMIME("text/x-haxe","haxe"),e.defineMode("hxml",function(){return{startState:function(){return{define:!1,inString:!1}},token:function(e,t){var n=e.peek(),r=e.sol();if("#"==n)return e.skipToEnd(),"comment";if(r&&"-"==n){var i="variable-2";return e.eat(/-/),"-"==e.peek()&&(e.eat(/-/),i="keyword a"),"D"==e.peek()&&(e.eat(/[D]/),i="keyword c",t.define=!0),e.eatWhile(/[A-Z]/i),i}var n=e.peek();return 0==t.inString&&"'"==n&&(t.inString=!0,n=e.next()),1==t.inString?(e.skipTo("'")||e.skipToEnd(),"'"==e.peek()&&(e.next(),t.inString=!1),"string"):(e.next(),null)},lineComment:"#"}}),e.defineMIME("text/x-hxml","hxml")}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.2.0",r.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var r=e(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=e(i);t&&t.preventDefault(),o.length||(o=r.hasClass("alert")?r:r.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),r[i](null==o[t]?this.options[t]:o[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),s="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):s?i[s]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),o=this.interval,s="next"==t?"left":"right",a="next"==t?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[a]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(i)]);h&&h.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(s),i.addClass(s),r.one("bsTransitionEnd",function(){i.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*r.css("transition-duration").slice(0,-1))):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=e.extend({},o.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),t.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);!i&&o.toggle&&"show"==t&&(t=!t),i||r.data("bs.collapse",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var r=this.$parent&&this.$parent.find("> .panel > .in");if(r&&r.length){var i=r.data("bs.collapse");if(i&&i.transitioning)return;t.call(r,"hide"),i||r.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var a=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")
};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var r=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r,i=e(this),o=i.attr("data-target")||n.preventDefault()||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(o),a=s.data("bs.collapse"),l=a?"toggle":i.data(),c=i.attr("data-parent"),u=c&&e(c);a&&a.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(s,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var r=n(e(this)),i={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new s(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.2.0",s.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",a)),r.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),s=i.hasClass("open");if(!s||s&&27==t.keyCode)return 27==t.which&&i.find(o).trigger("focus"),r.trigger("click");var a=" li:not(.divider):visible a",l=i.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',s.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,s)),"string"==typeof t?o[t](r):s.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,s,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var s=i[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(s);l&&(s=s.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,h=i[0].offsetHeight;if(l){var p=s,f=this.$element.parent(),d=this.getPosition(f);s="bottom"==s&&c.top+c.height+h-d.scroll>d.height?"top":"top"==s&&c.top-d.scroll-h<0?"bottom":"right"==s&&c.right+u>d.width?"left":"left"==s&&c.left-u<d.left?"right":s,i.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,c,u,h);this.applyPlacement(g,s);var m=function(){r.$element.trigger("shown.bs."+r.type),r.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,s=parseInt(r.css("margin-top"),10),a=parseInt(r.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,c=r[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var h=u.left?2*u.left-i+l:2*u.top-o+c,p=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(h,r[0][f],p)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&r.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,r=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:r?e(window).width():t.outerWidth(),height:r?e(window).height():t.outerHeight()},r?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-o-s.scroll,l=t.top+o-s.scroll+r;a<s.top?i.top=s.top-a:l>s.top+s.height&&(i.top=s.top+s.height-l)}else{var c=t.left-o,u=t.left+o+n;c<s.left?i.left=s.left-c:u>s.width&&(i.left=s.left+s.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return s!=(e=o[o.length-1])&&this.activate(e);if(s&&t<=i[0])return s!=(e=o[0])&&this.activate(e);for(e=i.length;e--;)s!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(o),!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(t,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),s=r&&e.support.transition&&o.hasClass("fade");s?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),r=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,s=o.top,a=o.bottom;"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top(this.$element)),"function"==typeof a&&(a=o.bottom(this.$element));var l=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=a&&i.top+this.$element.height()>=t-a?"bottom":null!=s&&s>=r?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-a}))}}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},r.offsetBottom&&(r.offset.bottom=r.offsetBottom),r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),function(e){function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};r.format=function(e,i){var o,s,a,l,c,u,h,p=1,f=e.length,d="",g=[];for(s=0;f>s;s++)if(d=t(e[s]),"string"===d)g.push(e[s]);else if("array"===d){if(l=e[s],l[2])for(o=i[p],a=0;a<l[2].length;a++){if(!o.hasOwnProperty(l[2][a]))throw r('[sprintf] property "%s" does not exist',l[2][a]);o=o[l[2][a]]}else o=l[1]?i[l[1]]:i[p++];if(/[^s]/.test(l[8])&&"number"!=t(o))throw r("[sprintf] expecting number but found %s",t(o));switch(l[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=l[7]?o.toExponential(l[7]):o.toExponential();break;case"f":o=l[7]?parseFloat(o).toFixed(l[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&l[7]?o.substring(0,l[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(l[8])&&l[3]&&o>=0?"+"+o:o,u=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",h=l[6]-String(o).length,c=l[6]?n(u,h):"",g.push(l[5]?o+c:c+o)}return g.join("")},r.cache={},r.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){i|=1;var o=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(o.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";o.push(a[1])}n[2]=o}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r};var i=function(e,t,n){return n=t.slice(0),n.splice(0,0,e),r.apply(null,n)};e.sprintf=r,e.vsprintf=i}("undefined"!=typeof exports?exports:window),function(e,t){"use strict";function n(e,t){var n;if("string"==typeof e&&"string"==typeof t)return localStorage[e]=t,!0;if("object"==typeof e&&"undefined"==typeof t){for(n in e)e.hasOwnProperty(n)&&(localStorage[n]=e[n]);return!0}return!1}function r(e,t){var n,r,i;if(n=new Date,n.setTime(n.getTime()+31536e6),r="; expires="+n.toGMTString(),"string"==typeof e&&"string"==typeof t)return document.cookie=e+"="+t+r+"; path=/",!0;if("object"==typeof e&&"undefined"==typeof t){for(i in e)e.hasOwnProperty(i)&&(document.cookie=i+"="+e[i]+r+"; path=/");return!0}return!1}function i(e){return localStorage[e]}function o(e){var t,n,r,i;for(t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}function s(e){return delete localStorage[e]}function a(e){return r(e,"",-1)}function l(e,t){var n=[],r=e.length;if(t>r)return[e];for(var i=0;r>i;i+=t)n.push(e.substring(i,i+t));return n}function c(t){var n=t?[t]:[],r=0;e.extend(this,{get:function(){return n},rotate:function(){return 1===n.length?n[0]:(r===n.length-1?r=0:++r,n[r])},length:function(){return n.length},set:function(e){for(var t=n.length;t--;)if(n[t]===e)return void(r=t);this.append(e)},front:function(){return n[r]},append:function(e){n.push(e)}})}function u(t){var n=t?[t]:[];e.extend(this,{map:function(t){return e.map(n,t)},size:function(){return n.length},pop:function(){if(0===n.length)return null;var e=n[n.length-1];return n=n.slice(0,n.length-1),e},push:function(e){return n=n.concat([e]),e},top:function(){return n.length>0?n[n.length-1]:null}})}function h(t,n){var r=!0,i="";"string"==typeof t&&""!==t&&(i=t+"_"),i+="commands";var o=e.Storage.get(i);o=o?e.parseJSON(o):[];var s=o.length-1;e.extend(this,{append:function(t){r&&o[o.length-1]!==t&&(o.push(t),n&&o.length>n&&(o=o.slice(-n)),s=o.length-1,e.Storage.set(i,e.json_stringify(o)))},data:function(){return o},reset:function(){s=o.length-1},last:function(){return o[length-1]},end:function(){return s===o.length-1},position:function(){return s},current:function(){return o[s]},next:function(){return s<o.length-1&&++s,-1!==s?o[s]:void 0},previous:function(){var e=s;return s>0&&--s,-1!==e?o[s]:void 0},clear:function(){o=[],this.purge()},enabled:function(){return r},enable:function(){r=!0},purge:function(){e.Storage.remove(i)},disable:function(){r=!1}})}function p(t){return e("<div>"+e.terminal.strip(t)+"</div>").text().length}function f(){var e=!1,n="animation",r="",i="Webkit Moz O ms Khtml".split(" "),o="",s=document.createElement("div");if(s.style.animationName&&(e=!0),e===!1)for(var a=0;a<i.length;a++)if(s.style[i[a]+"AnimationName"]!==t){o=i[a],n=o+"Animation",r="-"+o.toLowerCase()+"-",e=!0;break}return e}function d(e,t){var n=e.replace(/^\s+|\s+$/g,"").split(/(\s+)/),r=e.replace(/^[^\s]+\s*/,"");return{name:n[0],args:t(r),rest:r}}function g(t){var n=e(window).scrollTop(),r=n+e(window).height(),i=e(t).offset().top,o=i+e(t).height();return o>=n&&r>=i}function m(){var t=e('<div class="terminal"><div class="cmd"><span>&nbsp;</span></div></div>').appendTo("body"),n=t.find("span"),r={width:n.width(),height:n.outerHeight()};return t.remove(),r}function v(e){var t=m().width,n=Math.floor(e.width()/t);if(x(e)){var r=20,i=e.innerWidth()-e.width();n-=Math.ceil((r-i/2)/(t-1))}return n}function y(e){return Math.floor(e.height()/m().height)}function _(){if(window.getSelection||document.getSelection){var e=(window.getSelection||document.getSelection)();return e.text?e.text:e.toString()}return document.selection?document.selection.createRange().text:void 0}function x(e){return e.get(0).scrollHeight>e.innerHeight()}e.omap=function(t,n){var r={};return e.each(t,function(e,i){r[e]=n.call(t,e,i)}),r};var b="undefined"!=typeof window.localStorage;e.extend({Storage:{set:b?n:r,get:b?i:o,remove:b?s:a}}),jQuery.fn.extend({everyTime:function(e,t,n,r,i){return this.each(function(){jQuery.timer.add(this,e,t,n,r,i)})},oneTime:function(e,t,n){return this.each(function(){jQuery.timer.add(this,e,t,n,1)})},stopTime:function(e,t){return this.each(function(){jQuery.timer.remove(this,e,t)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e===t||null===e)return null;var n=this.regex.exec(jQuery.trim(e.toString()));if(n[2]){var r=parseInt(n[1],10),i=this.powers[n[2]]||1;return r*i}return e},add:function(e,t,n,r,i,o){var s=0;if(jQuery.isFunction(n)&&(i||(i=r),r=n,n=t),t=jQuery.timer.timeParse(t),!("number"!=typeof t||isNaN(t)||0>=t)){i&&i.constructor!==Number&&(o=!!i,i=0),i=i||0,o=o||!1,e.$timers||(e.$timers={}),e.$timers[n]||(e.$timers[n]={}),r.$timerID=r.$timerID||this.guid++;var a=function(){o&&a.inProgress||(a.inProgress=!0,(++s>i&&0!==i||r.call(e,s)===!1)&&jQuery.timer.remove(e,n,r),a.inProgress=!1)};a.$timerID=r.$timerID,e.$timers[n][r.$timerID]||(e.$timers[n][r.$timerID]=window.setInterval(a,t)),this.global[n]||(this.global[n]=[]),this.global[n].push(e)}},remove:function(e,t,n){var r,i=e.$timers;if(i){if(t){if(i[t]){if(n)n.$timerID&&(window.clearInterval(i[t][n.$timerID]),delete i[t][n.$timerID]);else for(var o in i[t])i[t].hasOwnProperty(o)&&(window.clearInterval(i[t][o]),delete i[t][o]);for(r in i[t])if(i[t].hasOwnProperty(r))break;r||(r=null,delete i[t])}}else for(var s in i)i.hasOwnProperty(s)&&this.remove(e,s,n);for(r in i)if(i.hasOwnProperty(r))break;r||(e.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&jQuery(window).one("unload",function(){var e=jQuery.timer.global;for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t],r=n.length;--r;)jQuery.timer.remove(n[r],t)}),function(e){if(String.prototype.split.toString().match(/\[native/)){var t,n=String.prototype.split,r=/()??/.exec("")[1]===e;return t=function(t,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(t,i,o);var s,a,l,c,u=[],h=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),p=0;for(i=new RegExp(i.source,h+"g"),t+="",r||(s=new RegExp("^"+i.source+"$(?!\\s)",h)),o=o===e?-1>>>0:o>>>0;(a=i.exec(t))&&(l=a.index+a[0].length,!(l>p&&(u.push(t.slice(p,a.index)),!r&&a.length>1&&a[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(a[t]=e)}),a.length>1&&a.index<t.length&&Array.prototype.push.apply(u,a.slice(1)),c=a[0].length,p=l,u.length>=o)));)i.lastIndex===a.index&&i.lastIndex++;return p===t.length?(c||!i.test(""))&&u.push(""):u.push(t.slice(p)),u.length>o?u.slice(0,o):u},String.prototype.split=function(e,n){return t(this,e,n)},t}}(),e.json_stringify=function(n,r){var i,o="";r=r===t?1:r;var s=typeof n;switch(s){case"function":o+=n;break;case"boolean":o+=n?"true":"false";break;case"object":if(null===n)o+="null";else if(n instanceof Array){o+="[";var a=n.length;for(i=0;a-1>i;++i)o+=e.json_stringify(n[i],r+1);o+=e.json_stringify(n[a-1],r+1)+"]"
}else{o+="{";for(var l in n)n.hasOwnProperty(l)&&(o+='"'+l+'":'+e.json_stringify(n[l],r+1));o+="}"}break;case"string":var c=n,u={"\\\\":"\\\\",'"':'\\"',"/":"\\/","\\n":"\\n","\\r":"\\r","\\t":"\\t"};for(i in u)u.hasOwnProperty(i)&&(c=c.replace(new RegExp(i,"g"),u[i]));o+='"'+c+'"';break;case"number":o+=String(n)}return o+=r>1?",":"",1===r&&(o=o.replace(/,([\]}])/g,"$1")),o.replace(/([\[{]),/g,"$1")},e.fn.cmd=function(n){function r(){N.toggleClass("inverted")}function i(){w="(reverse-i-search)`"+E+"': ",H()}function o(){w=b,T=!1,F=null,E=""}function s(e){var t,n,r=k.data(),o=r.length;if(e&&F>0&&(o-=F),E.length>0)for(var s=E.length;s>0;s--){n=E.substring(0,s).replace(/([.*+{}\[\]?])/g,"\\$1"),t=new RegExp(n);for(var a=o;a--;)if(t.test(r[a]))return F=r.length-a,M=0,g.set(r[a],!0),P(),void(E.length!==s&&(E=E.substring(0,s),i()))}E=""}function a(){var e=g.width(),t=N.innerWidth();y=Math.floor(e/t)}function c(e){var t=e.substring(0,y-x),n=e.substring(y-x);return[t].concat(l(n,y))}function u(){v.focus(),g.oneTime(1,function(){g.insert(v.val()),v.blur().val("")})}function d(e){var r,a,l;if("function"==typeof n.keydown&&(r=n.keydown(e),r!==t))return r;if(B){if(38===e.which||80===e.which&&e.ctrlKey||(j=!0),!T||35!==e.which&&36!==e.which&&37!==e.which&&38!==e.which&&39!==e.which&&40!==e.which&&13!==e.which&&27!==e.which){if(e.altKey)return 68===e.which?(g.set(D.slice(0,M)+D.slice(M).replace(/[^ ]+ |[^ ]+$/,""),!0),!1):!0;if(13===e.keyCode)if(e.shiftKey)g.insert("\n");else{k&&D&&!I&&("function"==typeof n.historyFilter&&n.historyFilter(D)||!n.historyFilter)&&k.append(D);var c=D;k.reset(),g.set(""),n.commands&&n.commands(c),"function"==typeof w&&H()}else if(8===e.which)T?(E=E.slice(0,-1),i()):""!==D&&M>0&&(D=D.slice(0,M-1)+D.slice(M,D.length),--M,P());else if(67===e.which&&e.ctrlKey&&e.shiftKey)A=_();else if(86===e.which&&e.ctrlKey&&e.shiftKey)""!==A&&g.insert(A);else if(9!==e.which||e.ctrlKey||e.altKey){if(46===e.which)return""!==D&&M<D.length&&(D=D.slice(0,M)+D.slice(M+1,D.length),P()),!0;if(k&&38===e.which||80===e.which&&e.ctrlKey)j?($=D,g.set(k.current())):g.set(k.previous()),j=!1;else if(k&&40===e.which||78===e.which&&e.ctrlKey)g.set(k.end()?$:k.next());else if(37===e.which||66===e.which&&e.ctrlKey)if(e.ctrlKey&&66!==e.which){l=M-1,a=0," "===D[l]&&--l;for(var h=l;h>0;--h){if(" "===D[h]&&" "!==D[h+1]){a=h+1;break}if("\n"===D[h]&&"\n"!==D[h+1]){a=h;break}}g.position(a)}else M>0&&(--M,P());else if(82===e.which&&e.ctrlKey)T?s(!0):(b=w,i(),$=D,D="",P(),T=!0);else if(71==e.which&&e.ctrlKey)T&&(w=b,H(),D=$,P(),T=!1,E="");else if(39===e.which||70===e.which&&e.ctrlKey)if(e.ctrlKey&&70!==e.which){" "===D[M]&&++M;var p=/\S[\n\s]{2,}|[\n\s]+\S?/,f=D.slice(M).match(p);!f||f[0].match(/^\s+$/)?M=D.length:" "!==f[0][0]?M+=f.index+1:(M+=f.index+f[0].length-1," "!==f[0][f[0].length-1]&&--M),P()}else M<D.length&&(++M,P());else{if(123===e.which)return!0;if(36===e.which)g.position(0);else if(35===e.which)g.position(D.length);else{if(e.shiftKey&&45==e.which)return u(),!0;if(!e.ctrlKey&&!e.metaKey)return!0;if(192===e.which)return!0;if(e.metaKey){if(82===e.which)return!0;if(76===e.which)return!0}if(e.shiftKey){if(84===e.which)return!0}else{if(81===e.which){if(""!==D&&0!==M){var m=D.slice(0,M),v=D.slice(M+1),y=m.match(/([^ ]+ *$)/);M=m.length-y[0].length,L=m.slice(M),D=m.slice(0,M)+v,P()}return!1}if(72===e.which)return""!==D&&M>0&&(D=D.slice(0,--M),M<D.length-1&&(D+=D.slice(M)),P()),!1;if(65===e.which)g.position(0);else if(69===e.which)g.position(D.length);else{if(88===e.which||67===e.which||84===e.which)return!0;if(89===e.which)""!==L&&g.insert(L);else{if(86===e.which)return u(),!0;if(75===e.which)0===M?(L=D,g.set("")):M!==D.length&&(L=D.slice(M),g.set(D.slice(0,M)));else if(85===e.which)""!==D&&0!==M&&(L=D.slice(0,M),g.set(D.slice(M,D.length)),g.position(0));else if(17===e.which)return!1}}}}}}else g.insert("	")}else o(),H(),27===e.which&&(D=""),P(),d.call(this,e);return!1}}var g=this,m=g.data("cmd");if(m)return m;g.addClass("cmd"),g.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');var v=e("<textarea/>").addClass("clipboard").appendTo(g);n.width&&g.width(n.width);var y,x,b,w,C,k,S,T=!1,E="",F=null,I=n.mask||!1,D="",A="",L="",M=0,B=n.enabled,O=n.historySize||60,N=g.find(".cursor");S=f()?function(e){e?N.addClass("blink"):N.removeClass("blink")}:function(e){e&&!B?(N.addClass("inverted"),g.everyTime(500,"blink",r)):B&&(g.stopTime("blink",r),N.removeClass("inverted"))};var $,P=function(t){function n(t,n){var r=t.length;if(n===r)s.html(e.terminal.encode(t,!0)),N.html("&nbsp;"),a.html("");else if(0===n)s.html(""),N.html(e.terminal.encode(t.slice(0,1),!0)),a.html(e.terminal.encode(t.slice(1),!0));else{var i=e.terminal.encode(t.slice(0,n),!0);s.html(i);var o=t.slice(n,n+1);N.html(" "===o?"&nbsp;":e.terminal.encode(o,!0)),a.html(n===t.length-1?"":e.terminal.encode(t.slice(n+1),!0))}}function r(t){return"<div>"+e.terminal.encode(t,!0)+"</div>"}function i(t){var n=a;e.each(t,function(t,i){n=e(r(i)).insertAfter(n).addClass("clear")})}function o(t){e.each(t,function(e,t){s.before(r(t))})}var s=N.prev(),a=N.next();return function(){var u,h,p=I?D.replace(/./g,"*"):D;if(t.find("div").remove(),s.html(""),p.length>y-x-1||p.match(/\n/)){var f,d=p.match(/\t/g),g=d?3*d.length:0;if(d&&(p=p.replace(/\t/g,"\x00\x00\x00\x00")),p.match(/\n/)){var m=p.split("\n");for(h=y-x-1,u=0;u<m.length-1;++u)m[u]+=" ";for(m[0].length>h?(f=[m[0].substring(0,h)],f=f.concat(l(m[0].substring(h),y))):f=[m[0]],u=1;u<m.length;++u)m[u].length>y?f=f.concat(l(m[u],y)):f.push(m[u])}else f=c(p);if(d&&(f=e.map(f,function(e){return e.replace(/\x00\x00\x00\x00/g,"	")})),h=f[0].length,0===h&&1===f.length);else if(h>M)n(f[0],M),i(f.slice(1));else if(M===h)s.before(r(f[0])),n(f[1],0),i(f.slice(2));else{var v=f.length;if(h>M)n(f[0],M),i(f.slice(1));else if(M===h)s.before(r(f[0])),n(f[1],0),i(f.slice(2));else{var _=f.slice(-1)[0],b=p.length-M,w=_.length,C=0;if(w>=b)o(f.slice(0,-1)),C=w===b?0:w-b,n(_,C+g);else if(3===v)s.before("<div>"+e.terminal.encode(f[0],!0)+"</div>"),n(f[1],M-h-1),a.after('<div class="clear">'+e.terminal.encode(f[2],!0)+"</div>");else{var k,S;for(C=M,u=0;u<f.length;++u){var T=f[u].length;if(!(C>T))break;C-=T}S=f[u],k=u,C===S.length&&(C=0,S=f[++k]),n(S,C),o(f.slice(0,k)),i(f.slice(k+1))}}}}else""===p?(s.html(""),N.html("&nbsp;"),a.html("")):n(p,M)}}(g),H=function(){function t(t){x=p(t),n.html(e.terminal.format(e.terminal.encode(t)))}var n=g.find(".prompt");return function(){switch(typeof w){case"string":t(w);break;case"function":w(t)}}}(),j=!0;e.extend(g,{name:function(e){if(e!==t){C=e;var n=k&&k.enabled()||!k;return k=new h(e,O),n||k.disable(),g}return C},purge:function(){return k.clear(),g},history:function(){return k},set:function(e,r){return e!==t&&(D=e,r||(M=D.length),P(),"function"==typeof n.onCommandChange&&n.onCommandChange(D)),g},insert:function(e,t){return M===D.length?D+=e:D=0===M?e+D:D.slice(0,M)+e+D.slice(M),t||(M+=e.length),P(),"function"==typeof n.onCommandChange&&n.onCommandChange(D),g},get:function(){return D},commands:function(e){return e?(n.commands=e,g):e},destroy:function(){return e(document.documentElement||window).unbind(".cmd"),g.stopTime("blink",r),g.find(".cursor").next().remove().end().prev().remove().end().remove(),g.find(".prompt, .clipboard").remove(),g.removeClass("cmd").removeData("cmd"),g},prompt:function(e){if(e===t)return w;if("string"!=typeof e&&"function"!=typeof e)throw"prompt must be a function or string";return w=e,H(),P(),g},kill_text:function(){return L},position:function(e){return"number"==typeof e?(M=0>e?0:e>D.length?D.length:e,P(),g):M},visible:function(){var e=g.visible;return function(){e.apply(g,[]),P(),H()}}(),show:function(){var e=g.show;return function(){e.apply(g,[]),P(),H()}}(),resize:function(e){return e?y=e:a(),P(),g},enable:function(){return B=!0,S(!0),g},isenabled:function(){return B},disable:function(){return B=!1,S(!1),g},mask:function(e){return"boolean"==typeof e?(I=e,P(),g):I}}),g.name(n.name||n.prompt||""),w=n.prompt||"> ",H(),(n.enabled===t||n.enabled===!0)&&g.enable();return e(document.documentElement||window).bind("keypress.cmd",function(r){var o;if(r.ctrlKey&&99===r.which)return!0;if(T||"function"!=typeof n.keypress||(o=n.keypress(r)),o!==t&&!o)return o;if(B){if(e.inArray(r.which,[38,13,0,8])>-1&&123!==r.keyCode&&(38!==r.which||!r.shiftKey))return!1;if(!r.ctrlKey&&(!r.altKey||100!==r.which)||r.altKey)return T?(E+=String.fromCharCode(r.which),s(),i()):g.insert(String.fromCharCode(r.which)),!1}}).bind("keydown.cmd",d),g.data("cmd",g),g};var w=["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],C=/(\[\[[gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?)/i,k=/\[\[([gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi,S=/\[\[([gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi,T=/^\[\[([gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]$/gi,E=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,F=/\bhttps?:\/\/(?:(?!&[^;]+;)[^\s"'<>)])+\b/g,I=/((([^<>('")[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,D=/('[^']*'|"(\\"|[^"])*"|\/(\\\/|[^\/])+\/[gimy]*|(\\ |[^ ])+|[\w-]+)/g,A=/(\[\[[gbiuso]*;[^;]*;[^\]]*\])/i,L=/\[\[[gbiuso]*;[^;]*;[^\]]*\]?$/i;e.terminal={valid_color:function(t){return t.match(E)||-1!==e.inArray(t.toLowerCase(),w)},escape_regex:function(e){var t=/([\^\$\[\]\(\)\+\*\.\|])/g;return e.replace(t,"\\$1")},have_formatting:function(e){return e.match(S)},is_formatting:function(e){return e.match(T)},format_split:function(e){return e.split(C)},split_equal:function(e,t){for(var n=!1,r=!1,i="",o=[],s=e.replace(S,function(e,t,n){var r=t.match(/;/g).length;return r=2==r?";;":3==r?";":"","[["+t+r+n.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n")+"]"+n+"]"}).split(/\n/g),a=0,l=s.length;l>a;++a)if(""!==s[a])for(var c=s[a],u=0,h=0,p=0,f=c.length;f>p;++p){if("["===c[p]&&"["===c[p+1])n=!0;else if(n&&"]"===c[p])r?(n=!1,r=!1):r=!0;else if(n&&r||!n){if("&"===c[p]){var d=c.substring(p).match(/^(&[^;]+;)/);if(!d)throw"Unclosed html entity in line "+(a+1)+" at char "+(p+1);p+=d[1].length-2,p===f-1&&o.push(g+d[1]);continue}"]"===c[p]&&"\\"===c[p-1]?--h:++h}if(h===t||p===f-1){var g=c.substring(u,p+1);i&&(g=i+g,g.match("]")&&(i="")),u=p+1,h=0;var m=g.match(S);if(m){var v=m[m.length-1];if("]"!==v[v.length-1])i=v.match(A)[1],g+="]";else if(g.match(L)){{var y=g.length;y-v[v.length-1].length}g=g.replace(L,""),i=v.match(A)[1]}}o.push(g)}}else o.push("");return o},encode:function(e,t){return e=t?e.replace(/&(?![^=]+=)/g,"&amp;"):e.replace(/&(?!#[0-9]+;|[a-zA-Z]+;|[^= "]+=[^=])/g,"&amp;"),e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},format:function(t,n){var r=e.extend({},{linksNoReferrer:!1},n||{});if("string"==typeof t){var i=e.terminal.format_split(t);return i&&i.length>1&&(t=e.map(i,function(t){return""===t?t:"["===t.substring(0,1)?t.replace(k,function(t,n,r,i,o,s,a){if(""===a)return"";a=a.replace(/\\]/g,"]");var l="";-1!==n.indexOf("b")&&(l+="font-weight:bold;");var c=[];-1!==n.indexOf("u")&&c.push("underline"),-1!==n.indexOf("s")&&c.push("line-through"),-1!==n.indexOf("o")&&c.push("overline"),c.length&&(l+="text-decoration:"+c.join(" ")+";"),-1!==n.indexOf("i")&&(l+="font-style:italic;"),e.terminal.valid_color(r)&&(l+="color:"+r+";",-1!==n.indexOf("g")&&(l+="text-shadow:0 0 5px "+r+";")),e.terminal.valid_color(i)&&(l+="background-color:"+i);var u;u=""===s?a:s.replace(/&#93;/g,"]");var h='<span style="'+l+'"'+(""!==o?' class="'+o+'"':"")+' data-text="'+u.replace('"',"&quote;")+'">'+a+"</span>";return h}):"<span>"+t+"</span>"}).join("")),e.map(t.split(/(<\/?span[^>]*>)/g),function(e){return e.match(/span/)?e:e.replace(F,function(e){var t=e.match(/\.$/);return e=e.replace(/\.$/,""),'<a target="_blank" '+(r.linksNoReferer?' rel="noreferrer" ':"")+'href="'+e+'">'+e+"</a>"+(t?".":"")}).replace(I,'<a href="mailto:$1">$1</a>')}).join("").replace(/<span><br\/?><\/span>/g,"<br/>")}return""},escape_brackets:function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(e){return e.replace(k,"$6")},active:function(){return R.front()},overtyping:function(e){return e.replace(/((?:_\x08.|.\x08_)+)/g,function(e){return"[[u;;]"+e.replace(/_x08|\x08_|_\u0008|\u0008_/g,"")+"]"}).replace(/((?:.\x08.)+)/g,function(e){return"[[b;#fff;]"+e.replace(/(.)(?:\x08|\u0008)(.)/g,function(e,t,n){return n})+"]"})},ansi_colors:{normal:{black:"#000",red:"#A00",green:"#008400",yellow:"#A50",blue:"#00A",magenta:"#A0A",cyan:"#0AA",white:"#AAA"},faited:{black:"#000",red:"#640000",green:"#006100",yellow:"#737300",blue:"#000087",magenta:"#650065",cyan:"#008787",white:"#818181"},bold:{black:"#000",red:"#F55",green:"#44D544",yellow:"#FF5",blue:"#55F",magenta:"#F5F",cyan:"#5FF",white:"#FFF"},palette:["#000000","#AA0000","#00AA00","#AA5500","#0000AA","#AA00AA","#00AAAA","#AAAAAA","#555555","#FF5555","#55FF55","#FFFF55","#5555FF","#FF55FF","#55FFFF","#FFFFFF","#000000","#00005F","#000087","#0000AF","#0000D7","#0000FF","#005F00","#005F5F","#005F87","#005FAF","#005FD7","#005FFF","#008700","#00875F","#008787","#0087AF","#0087D7","#00AF00","#00AF5F","#00AF87","#00AFAF","#00AFD7","#00AFFF","#00D700","#00D75F","#00D787","#00D7AF","#00D7D7","#00D7FF","#00FF00","#00FF5F","#00FF87","#00FFAF","#00FFD7","#00FFFF","#5F0000","#5F005F","#5F0087","#5F00AF","#5F00D7","#5F00FF","#5F5F00","#5F5F5F","#5F5F87","#5F5FAF","#5F5FD7","#5F5FFF","#5F8700","#5F875F","#5F8787","#5F87AF","#5F87D7","#5F87FF","#5FAF00","#5FAF5F","#5FAF87","#5FAFAF","#5FAFD7","#5FAFFF","#5FD700","#5FD75F","#5FD787","#5FD7AF","#5FD7D7","#5FD7FF","#5FFF00","#5FFF5F","#5FFF87","#5FFFAF","#5FFFD7","#5FFFFF","#870000","#87005F","#870087","#8700AF","#8700D7","#8700FF","#875F00","#875F5F","#875F87","#875FAF","#875FD7","#875FFF","#878700","#87875F","#878787","#8787AF","#8787D7","#8787FF","#87AF00","#87AF5F","#87AF87","#87AFAF","#87AFD7","#87AFFF","#87D700","#87D75F","#87D787","#87D7AF","#87D7D7","#87D7FF","#87FF00","#87FF5F","#87FF87","#87FFAF","#87FFD7","#87FFFF","#AF0000","#AF005F","#AF0087","#AF00AF","#AF00D7","#AF00FF","#AF5F00","#AF5F5F","#AF5F87","#AF5FAF","#AF5FD7","#AF5FFF","#AF8700","#AF875F","#AF8787","#AF87AF","#AF87D7","#AF87FF","#AFAF00","#AFAF5F","#AFAF87","#AFAFAF","#AFAFD7","#AFAFFF","#AFD700","#AFD75F","#AFD787","#AFD7AF","#AFD7D7","#AFD7FF","#AFFF00","#AFFF5F","#AFFF87","#AFFFAF","#AFFFD7","#AFFFFF","#D70000","#D7005F","#D70087","#D700AF","#D700D7","#D700FF","#D75F00","#D75F5F","#D75F87","#D75FAF","#D75FD7","#D75FFF","#D78700","#D7875F","#D78787","#D787AF","#D787D7","#D787FF","#D7AF00","#D7AF5F","#D7AF87","#D7AFAF","#D7AFD7","#D7AFFF","#D7D700","#D7D75F","#D7D787","#D7D7AF","#D7D7D7","#D7D7FF","#D7FF00","#D7FF5F","#D7FF87","#D7FFAF","#D7FFD7","#D7FFFF","#FF0000","#FF005F","#FF0087","#FF00AF","#FF00D7","#FF00FF","#FF5F00","#FF5F5F","#FF5F87","#FF5FAF","#FF5FD7","#FF5FFF","#FF8700","#FF875F","#FF8787","#FF87AF","#FF87D7","#FF87FF","#FFAF00","#FFAF5F","#FFAF87","#FFAFAF","#FFAFD7","#FFAFFF","#FFD700","#FFD75F","#FFD787","#FFD7AF","#FFD7D7","#FFD7FF","#FFFF00","#FFFF5F","#FFFF87","#FFFFAF","#FFFFD7","#FFFFFF","#080808","#121212","#1C1C1C","#262626","#303030","#3A3A3A","#444444","#4E4E4E","#585858","#626262","#6C6C6C","#767676","#808080","#8A8A8A","#949494","#9E9E9E","#A8A8A8","#B2B2B2","#BCBCBC","#C6C6C6","#D0D0D0","#DADADA","#E4E4E4","#EEEEEE"]},from_ansi:function(){function t(t){var i,o=t.split(";"),s=!1,a=!1,l=!1,c=[],u="",h="",p=!1,f=!1,d=!1,g=e.terminal.ansi_colors.palette;for(var m in o){switch(i=parseInt(o[m],10)){case 1:c.push("b"),l=!0,s=!1;break;case 4:c.push("u");break;case 3:c.push("i");break;case 5:d=!0;break;case 38:p=!0;break;case 48:f=!0;break;case 2:s=!0,l=!1;break;case 7:a=!0;break;default:p&&d&&g[i-1]?u=g[i-1]:n[i]&&(u=n[i]),f&&d&&g[i-1]?h=g[i-1]:r[i]&&(h=r[i])}5!==i&&(d=!1)}if(a)if(u&&h){var v=h;h=u,u=v}else u="black",h="white";var y,_;return y=_=l?e.terminal.ansi_colors.bold:s?e.terminal.ansi_colors.faited:e.terminal.ansi_colors.normal,[c.join(""),p?u:y[u],f?h:_[h]]}var n={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white",39:"white"},r={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white",49:"black"};return function(e){var n=e.split(/(\x1B\[[0-9;]*[A-Za-z])/g);if(1==n.length)return e;var r=[];n.length>3&&"[0m"==n.slice(0,3).join("")&&(n=n.slice(3));for(var i,o,s,a,l=!1,c=0;c<n.length;++c)if(a=n[c].match(/^\x1B\[([0-9;]*)([A-Za-z])$/))switch(a[2]){case"m":if(""===a[1])continue;"0"!==a[1]&&(s=t(a[1])),l?(r.push("]"),"0"==a[1]?(l=!1,i=o=""):(s[1]=s[1]||i,s[2]=s[2]||o,r.push("[["+s.join(";")+"]"),s[1]&&(i=s[1]),s[2]&&(o=s[2]))):"0"!=a[1]&&(l=!0,r.push("[["+s.join(";")+"]"),s[1]&&(i=s[1]),s[2]&&(o=s[2]))}else r.push(n[c]);return l&&r.push("]"),r.join("")}}(),parseArguments:function(t){return e.map(t.match(D)||[],function(e){if("'"===e[0]&&"'"===e[e.length-1])return e.replace(/^'|'$/g,"");if('"'===e[0]&&'"'===e[e.length-1])return e=e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"),e.replace(/\\\\|\\t|\\n/g,function(e){return"t"===e[1]?"	":"n"===e[1]?"\n":"\\"}).replace(/\\x([0-9a-f]+)/gi,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/\\0([0-7]+)/g,function(e,t){return String.fromCharCode(parseInt(t,8))});if(e.match(/^\/(\\\/|[^\/])+\/[gimy]*$/)){var t=e.match(/^\/([^\/]+)\/([^\/]*)$/);return new RegExp(t[1],t[2])}return e.match(/^-?[0-9]+$/)?parseInt(e,10):e.match(/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/)?parseFloat(e):e.replace(/\\ /g," ")})},splitArguments:function(t){return e.map(t.match(D)||[],function(e){return"'"===e[0]&&"'"===e[e.length-1]?e.replace(/^'|'$/g,""):'"'===e[0]&&'"'===e[e.length-1]?e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):"/"===e[0]&&"/"==e[e.length-1]?e:e.replace(/\\ /g," ")})},parseCommand:function(t){return d(t,e.terminal.parseArguments)},splitCommand:function(t){return d(t,e.terminal.splitArguments)},test:function(){function t(e,t){n.echo(t+" &#91;"+(e?"[[b;#44D544;]PASS]":"[[b;#FF5555;]FAIL]")+"&#93;")}var n=e.terminal.active();if(!n){n=e("body").terminal(e.noop).css("margin",0);var r=(n.outerHeight()-n.height(),e(window));r.resize(function(){n.css("height",e(window).height()-20)}).resize()}n.echo("Testing...");var i='name "foo bar" baz /^asd [x]/ str\\ str 10 1e10',o=e.terminal.splitCommand(i);t("name"===o.name&&"foo bar"===o.args[0]&&"baz"===o.args[1]&&"/^asd [x]/"===o.args[2]&&"str str"===o.args[3]&&"10"===o.args[4]&&"1e10"===o.args[5],"$.terminal.splitCommand"),o=e.terminal.parseCommand(i),t("name"===o.name&&"foo bar"===o.args[0]&&"baz"===o.args[1]&&"regexp"===e.type(o.args[2])&&"^asd [x]"===o.args[2].source&&"str str"===o.args[3]&&10===o.args[4]&&1e10===o.args[5],"$.terminal.parseCommand"),i="[2;31;46mFoo[1;3;4;32;45mBar[0m[7mBaz",t("[[;#640000;#008787]Foo][[biu;#44D544;#F5F]Bar][[;#000;#AAA]Baz]"===e.terminal.from_ansi(i),"$.terminal.from_ansi"),i="[[biugs;#fff;#000]Foo][[i;;;foo]Bar][[ous;;]Baz]",n.echo("$.terminal.format"),t('<span style="font-weight:bold;text-decoration:underline line-through;font-style:italic;color:#fff;text-shadow:0 0 5px #fff;background-color:#000" data-text="Foo">Foo</span><span style="font-style:italic;" class="foo" data-text="Bar">Bar</span><span style="text-decoration:underline line-through overline;" data-text="Baz">Baz</span>'===e.terminal.format(i),"	formatting"),i="http://terminal.jcubic.pl/examples.php https://www.google.com/?q=jquery%20terminal",t('<a target="_blank" href="http://terminal.jcubic.pl/examples.php">http://terminal.jcubic.pl/examples.php</a> <a target="_blank" href="https://www.google.com/?q=jquery%20terminal">https://www.google.com/?q=jquery%20terminal</a>'===e.terminal.format(i),"	urls"),i="foo@bar.com baz.quux@example.com",t('<a href="mailto:foo@bar.com">foo@bar.com</a> <a href="mailto:baz.quux@example.com">baz.quux@example.com</a>'===e.terminal.format(i),"	emails"),i="-_-[[biugs;#fff;#000]Foo]-_-[[i;;;foo]Bar]-_-[[ous;;]Baz]-_-",t("-_-Foo-_-Bar-_-Baz-_-"===e.terminal.strip(i),"$.terminal.strip"),i="[[bui;#fff;]Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sed dolor nisl, in suscipit justo. Donec a enim et est porttitor semper at vitae augue. Proin at nulla at dui mattis mattis. Nam a volutpat ante. Aliquam consequat dui eu sem convallis ullamcorper. Nulla suscipit, massa vitae suscipit ornare, tellus] est [[b;;#f00]consequat nunc, quis blandit elit odio eu arcu. Nam a urna nec nisl varius sodales. Mauris iaculis tincidunt orci id commodo. Aliquam] non magna quis [[i;;]tortor malesuada aliquam] eget ut lacus. Nam ut vestibulum est. Praesent volutpat tellus in eros dapibus elementum. Nam laoreet risus non nulla mollis ac luctus [[ub;#fff;]felis dapibus. Pellentesque mattis elementum augue non sollicitudin. Nullam lobortis fermentum elit ac mollis. Nam ac varius risus. Cras faucibus euismod nulla, ac auctor diam rutrum sit amet. Nulla vel odio erat], ac mattis enim.",n.echo("$.terminal.split_equal");for(var s=[10,40,60,400],a=s.length;a--;){for(var l=e.terminal.split_equal(i,s[a]),c=!0,u=0;u<l.length;++u)if(e.terminal.strip(l[u]).length>s[a]){c=!1;break}t(c,"	split "+s[a])}}},e.fn.visible=function(){return this.css("visibility","visible")},e.fn.hidden=function(){return this.css("visibility","hidden")};var M={};e.jrpc=function(t,n,r,i,o){M[t]=M[t]||0;var s=e.json_stringify({jsonrpc:"2.0",method:n,params:r,id:++M[t]});return e.ajax({url:t,data:s,success:function(t,n,r){var s=r.getResponseHeader("Content-Type");if(!s.match(/application\/json/)){if(!console||!console.warn)throw new Error("WARN: Response Content-Type is not application/json");console.warn("Response Content-Type is not application/json")}var a;try{a=e.parseJSON(t)}catch(l){if(!o)throw new Error("Invalid JSON");return void o(r,"Invalid JSON",l)}i(a,n,r)},error:o,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"})};var B="0.8.8",O=!B.match(/^\{\{/),N="Copyright (c) 2011-2013 Jakub Jankiewicz <http://jcubic.pl>",$=O?" version "+B:" ",P=new RegExp(" {"+$.length+"}$"),H=[["jQuery Terminal","(c) 2011-2013 jcubic"],["jQuery Terminal Emulator"+(O?" v. "+B:""),N.replace(/ *<.*>/,"")],["jQuery Terminal Emulator"+(O?$:""),N.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/ /_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(P," ")+$,N],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(P,"")+$,N]];e.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,historySize:60,checkArity:!0,exceptionHandler:null,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,login:null,outputLimit:-1,onAjaxError:null,onRPCError:null,completion:!1,historyFilter:null,onInit:e.noop,onClear:e.noop,onBlur:e.noop,onFocus:e.noop,onTerminalChange:e.noop,onExit:e.noop,keypress:e.noop,keydown:e.noop,strings:{wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expect %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with ignoreSystemDescribe",oneInterpreterFunction:"You can't use more then one function (rpc with ignoreSystemDescribe is count as one)",loginFunctionMissing:"You don't have login function",noTokenError:"Access denied (no token)",serverResponse:"Server reponse is",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call that function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpeter",invalidCompletion:"Invalid completion",login:"login",password:"password"}};var j=[],R=new c;e.fn.terminal=function(n,r){function i(t){return"function"==typeof rt.processArguments?d(t,rt.processArguments):rt.processArguments?e.terminal.parseCommand(t):e.terminal.splitCommand(t)}function o(t){V.echo("string"==typeof t?t:t instanceof Array?e.map(t,function(t){return e.json_stringify(t)}).join(" "):"object"==typeof t?e.json_stringify(t):t)}function s(e){"function"==typeof rt.onRPCError?rt.onRPCError.call(V,e):V.error("&#91;RPC&#93; "+e.message)}function a(t){var n=function(n,r){V.pause(),e.jrpc(t,n,r,function(e){e.error?s(e.error):"function"==typeof rt.processRPCResponse?rt.processRPCResponse.call(V,e.result):o(e.result),V.resume()},c)};return function(e,t){if(""!==e)if(e=i(e),rt.login&&"help"!==e.name){var r=t.token();r?n(e.name,[r].concat(e.args)):t.error("&#91;AUTH&#93; "+it.noTokenError)}else n(e.name,e.args)}}function l(n,r,o){return function(s,a){if(""!==s){var c=i(s),u=n[c.name],h=e.type(u);if("function"===h){if(!r||u.length===c.args.length)return u.apply(V,c.args);V.error("&#91;Arity&#93; "+sprintf(it.wrongArity,c.name,u.length,c.args.length))}else if("object"===h||"string"===h){var p=[];"object"===h&&(p=Object.keys(u),u=l(u,r)),a.push(u,{prompt:c.name+"> ",name:c.name,completion:"object"===h?function(e,t,n){n(p)}:t})}else"function"===e.type(o)?o(s,V):"function"===e.type(rt.onCommandNotFound)?rt.onCommandNotFound(s,V):a.error(sprintf(it.commandNotFound,c.name))}}}function c(e,t,n){V.resume(),"function"==typeof rt.onAjaxError?rt.onAjaxError.call(V,e,t,n):"abort"!==t&&V.error("&#91;AJAX&#93; "+t+" - "+it.serverResponse+": \n"+e.responseText)}function h(t,n,r){e.jrpc(t,"system.describe",[],function(i){if(i.procs){var a={};e.each(i.procs,function(r,i){a[i.name]=function(){var r=n&&"help"!=i.name,a=Array.prototype.slice.call(arguments),l=a.length+(r?1:0);rt.checkArity&&i.params&&i.params.length!==l?V.error("&#91;Arity&#93; "+sprintf(it.wrongArity,i.name,i.params.length,l)):(V.pause(),r&&(a=[V.token(!0)].concat(a)),e.jrpc(t,i.name,a,function(e){e.error?s(e.error):o(e.result),V.resume()},c))}}),r(a)}else r(null)},function(){r(null)})}function p(t,n,r){r=r||e.noop;var i,o,s=e.type(t),c={},u=0;if("array"===s){var p={};!function f(t,r){if(t.length){var i=t[0],s=t.slice(1),l=e.type(i);"string"===l?(u++,V.pause(),rt.ignoreSystemDescribe?(1===u?o=a(i):V.error(it.oneRPCWithIgnore),f(s,r)):h(i,n,function(t){t&&e.extend(p,t),V.resume(),f(s,r)})):"function"===l?o?V.error(it.oneInterpreterFunction):o=i:"object"===l&&(e.extend(p,i),f(s,r))}else r()}(t,function(){i=Object.keys(p),c.interpreter=l(p,!1,o),c.completion=function(e,t,n){n(i)},r(c)})}else if("string"===s)rt.ignoreSystemDescribe?r({interpreter:a(t),completion:rt.completion}):(V.pause(),h(t,n,function(e){if(e){var n=Object.keys(e);c.interpreter=l(e,!1),c.completion=function(e,t,r){r(n)}}else c.interpreter=a(t),c.completion=rt.completion;V.resume(),r(c)}));else if("object"===s)i=Object.keys(t),c.interpreter=l(t,rt.checkArity),c.completion=function(e,t,n){n(i)},r(c);else{if("undefined"===s)t=e.noop;else if("function"!==s)throw s+" is invalid interpreter value";r({interpreter:t,completion:rt.completion})}}function f(t,n){var r="boolean"===e.type(n)?"login":n;return function(n,i,o){V.pause(),e.jrpc(t,r,[n,i],function(e){V.resume(),o(!e.error&&e.result?e.result:null)},c)}}function m(e){return"string"==typeof e?e:"string"==typeof e.fileName?e.fileName+": "+e.message:e.message}function b(e,t){"function"==typeof rt.exceptionHandler?rt.exceptionHandler.call(V,e):V.exception(e,t)}function w(){var e=U.prop?U.prop("scrollHeight"):U.attr("scrollHeight");U.scrollTop(e)}function C(e,t){try{if("function"==typeof t)t(function(){});else if("string"!=typeof t){var n=e+" must be string or function";throw n}}catch(r){return b(r,e.toUpperCase()),!1}return!0}function k(t,n){try{var r=e.extend({raw:!1,finalize:e.noop},n||{});t="function"===e.type(t)?t():t,t="string"===e.type(t)?t:String(t);var i,o;if(r.raw||(t=e.terminal.encode(t)),t=e.terminal.overtyping(t),t=e.terminal.from_ansi(t),P.push(W),!r.raw&&(t.length>K||t.match(/\n/))){var s=e.terminal.split_equal(t,K);for(i=0,o=s.length;o>i;++i)P.push(""===s[i]||"\r"===s[i]?"&nbsp;":r.raw?s[i]:e.terminal.format(s[i],{linksNoReferer:rt.linksNoReferer}))}else r.raw||(t=e.terminal.format(t,{linksNoReferer:rt.linksNoReferer})),P.push(t);P.push(r.finalize)}catch(a){P=[],alert("[Internal Exception(draw_line)]:"+m(a)+"\n"+a.stack)}}function S(){ht.resize(K);var t,n=G.empty().detach();if(rt.outputLimit>=0){var r=0===rt.outputLimit?V.rows():rt.outputLimit;t=q.slice(q.length-r-1)}else t=q;e.each(t,function(e,t){k.apply(null,t)}),ht.before(n),V.flush()}function T(){if(rt.greetings===t)V.echo(V.signature);else if(rt.greetings){var e=typeof rt.greetings;"string"===e?V.echo(rt.greetings):"function"===e?rt.greetings.call(V,V.echo):V.error(it.wrongGreetings)}}function E(t){t=e.terminal.escape_brackets(e.terminal.encode(t,!0));var n=ht.prompt();ht.mask()&&(t=t.replace(/./g,"*")),"function"==typeof n?n(function(e){V.echo(e+t)}):V.echo(n+t)}function F(n,r,i){try{N()||(z=e.terminal.splitCommand(n).name,(i&&"function"==typeof rt.historyFilter&&rt.historyFilter(n)||!rt.historyFilter)&&ht.history().append(n));var o=ut.top();if("exit"===n&&rt.exit){var s=ut.size();V.token(),(1==s&&V.token()||s>1)&&(r||E(n),V.pop())}else{r||E(n);var a=q.length-1;if("clear"===n&&rt.clear)V.clear();else{var l=o.interpreter(n,V);l!==t&&(a===q.length-1?(q.pop(),l!==!1&&V.echo(l)):q=l===!1?q.slice(0,a).concat(q.slice(a+1)):q.slice(0,a).concat([l]).concat(q.slice(a+1)),V.resize())}}}catch(c){throw b(c,"USER"),V.resume(),c}}function I(){if("function"==typeof rt.onBeforeLogout)try{if(rt.onBeforeLogout(V)===!1)return}catch(e){throw b(e,"onBeforeLogout"),e
}if(D(),"function"==typeof rt.onAfterLogout)try{rt.onAfterLogout(V)}catch(e){throw b(e,"onAfterlogout"),e}V.login(rt.login,!0,M)}function D(){var t=V.prefix_name(!0)+"_";e.Storage.remove(t+"token"),e.Storage.remove(t+"login")}function A(t){var n=V.prefix_name()+"_interpreters",r=e.Storage.get(n);r=r?e.parseJSON(r):[],-1==e.inArray(t,r)&&(r.push(t),e.Storage.set(n,e.json_stringify(r)))}function L(e){var t=ut.top(),n=V.prefix_name(!0);N()||A(n),ht.name(n),ht.prompt("function"==typeof t.prompt?function(e){t.prompt(e,V)}:t.prompt),ht.set(""),e||"function"!=typeof t.onStart||t.onStart(V)}function M(){L(),T();var t=!1;if("function"==typeof rt.onInit){tt=function(){t=!0};try{rt.onInit(V)}catch(n){throw b(n,"OnInit"),n}finally{tt=e.noop,t||V.resume()}}}function O(t,n,r){var i=ht.get().substring(0,ht.position());if(i===t){for(var o=new RegExp("^"+e.terminal.escape_regex(n)),s=[],a=r.length;a--;)o.test(r[a])&&s.push(r[a]);if(1===s.length)V.insert(s[0].replace(o,"")+" ");else if(s.length>1)if(X>=2)E(t),V.echo(s.join("	")),X=0;else{var l,c=!1;e:for(l=n.length;l<s[0].length;++l){for(a=1;a<s.length;++a)if(s[0].charAt(l)!==s[a].charAt(l))break e;c=!0}c&&V.insert(s[0].slice(0,l).replace(o,""))}}}function N(){return et||ht.mask()}function $(n){var r,i,o=ut.top();if("function"===e.type(o.keydown)&&(r=o.keydown(n,V),r!==t))return r;var s;if(s=rt.completion&&"boolean"!=e.type(rt.completion)&&!o.completion?rt.completion:o.completion,V.oneTime(10,function(){at()}),"function"===e.type(rt.keydown)&&(r=rt.keydown(n,V),r!==t))return r;if(V.paused()){if(68===n.which&&n.ctrlKey){if(j.length){for(i=j.length;i--;){var a=j[i];if(4!==a.readyState)try{a.abort()}catch(l){V.error(h.ajaxAbortError)}}j=[],V.resume()}return!1}}else{if(9!==n.which&&(X=0),68===n.which&&n.ctrlKey)return et||(""===ht.get()?ut.size()>1||rt.login!==t?V.pop(""):(V.resume(),V.echo("")):V.set_command("")),!1;if(76===n.which&&n.ctrlKey)V.clear();else{if(s&&9===n.which){++X;var c,u=ht.get().substring(0,ht.position()),h=u.split(" ");if(1==h.length)c=h[0];else for(c=h[h.length-1],i=h.length-1;i>0&&"\\"==h[i-1][h[i-1].length-1];i--)c=h[i-1]+" "+c;switch(e.type(s)){case"function":s(V,c,function(e){O(u,c,e)});break;case"array":O(u,c,s);break;default:throw new Error(e.terminal.defaults.strings.invalidCompletion)}return!1}if(86===n.which&&n.ctrlKey)return void V.oneTime(1,function(){w()});if(9===n.which&&n.ctrlKey){if(R.length()>1)return V.focus(!1),!1}else 34===n.which?V.scroll(V.height()):33===n.which?V.scroll(-V.height()):V.attr({scrollTop:V.attr("scrollHeight")})}}}var P=[],W=1,V=this;if(this.length>1)return this.each(function(){e.fn.terminal.call(e(this),n,e.extend({name:V.selector},r))});if(V.data("terminal"))return V.data("terminal");if(0===V.length)throw'Sorry, but terminal said that "'+V.selector+'" is not valid selector!';var U,z,G,K,Y,Q,Z,X=0,q=[],J=R.length(),et=!1,tt=e.noop,nt=[],rt=e.extend({},e.terminal.defaults,{name:V.selector},r||{}),it=e.terminal.defaults.strings,ot=rt.enabled,st=!1;e.extend(V,e.omap({clear:function(){G.html(""),ht.set(""),q=[];try{rt.onClear(V)}catch(e){throw b(e,"onClear"),e}return V.attr({scrollTop:0}),V},export_view:function(){if(et)throw new Exception(it.notWhileLogin);return{prompt:V.get_prompt(),command:V.get_command(),position:ht.position(),lines:q.slice(0)}},import_view:function(e){if(et)throw new Exception(it.notWhileLogin);return V.set_prompt(e.prompt),V.set_command(e.command),ht.position(e.position),q=e.lines,S(),V},exec:function(e,t){return st?nt.push([e,t]):F(e,t,!0),V},login:function(t,n,r,i){if(et)throw new Error(it.notWhileLogin);if("function"!=typeof t)throw new Error(it.loginIsNotAFunction);if(V.token(!0)&&V.login_name(!0))return"function"==typeof r&&r(),V;return rt.history&&ht.history().disable(),et=!0,V.push(function(o){V.set_mask(!0).push(function(s){try{t.call(V,o,s,function(t,s){if(t){V.pop().pop(),rt.history&&ht.history().enable();var a=V.prefix_name(!0)+"_";e.Storage.set(a+"token",t),e.Storage.set(a+"login",o),et=!1,"function"==typeof r&&r()}else n?(s||V.error(it.wrongPasswordTryAgain),V.pop().set_mask(!1)):(et=!1,s||V.error(it.wrongPassword),V.pop().pop()),"function"==typeof i&&i()})}catch(a){b(a,"USER(authentication)")}},{prompt:it.password+": "})},{prompt:it.login+": "})},settings:rt,commands:function(){return ut.top().interpreter},setInterpreter:function(t,n){function r(){V.pause(),p(t,n,function(t){V.resume();var n=ut.top();e.extend(n,t),L(!0)})}"string"==e.type(t)&&n?V.login(f(t,n),!0,r):r()},greetings:function(){return T(),V},paused:function(){return st},pause:function(){return tt(),!st&&ht&&(st=!0,V.disable(),ht.hidden()),V},resume:function(){if(st&&ht){st=!1,V.enable(),ht.visible();var e=nt;for(nt=[];e.length;)V.exec.apply(V,e.shift());w()}return V},cols:function(){return K},rows:function(){return Y},history:function(){return ht.history()},next:function(){if(1===R.length())return V;{var t=V.offset().top;V.height(),V.scrollTop()}if(g(V)){R.front().disable();var n=R.rotate().enable(),r=n.offset().top-50;e("html,body").animate({scrollTop:r},500);try{rt.onTerminalChange(n)}catch(i){throw b(i,"onTerminalChange"),i}return n}return V.enable(),e("html,body").animate({scrollTop:t-50},500),V},focus:function(e,t){return V.oneTime(1,function(){if(1===R.length())if(e===!1)try{t||rt.onBlur(V)===!1||V.disable()}catch(n){throw b(n,"onBlur"),n}else try{t||rt.onFocus(V)===!1||V.enable()}catch(n){throw b(n,"onFocus"),n}else if(e===!1)V.next();else{var r=R.front();if(r!=V&&(r.disable(),!t))try{rt.onTerminalChange(V)}catch(n){throw b(n,"onTerminalChange"),n}R.set(V),V.enable()}}),V},enable:function(){return K===t&&V.resize(),ht&&(ht.enable(),ot=!0),V},disable:function(){return ht&&(ot=!1,ht.disable()),V},enabled:function(){return ot},signature:function(){var e=V.cols(),t=15>e?null:35>e?0:55>e?1:64>e?2:75>e?3:4;return null!==t?H[t].join("\n")+"\n":""},version:function(){return B},cmd:function(){return ht},get_command:function(){return ht.get()},set_command:function(e){return ht.set(e),V},insert:function(e){if("string"==typeof e)return ht.insert(e),V;throw"insert function argument is not a string"},set_prompt:function(e){return C("prompt",e)&&(ht.prompt("function"==typeof e?function(t){e(t,V)}:e),ut.top().prompt=e),V},get_prompt:function(){return ut.top().prompt},set_mask:function(e){return ht.mask(e),V},get_output:function(t){return t?q:e.map(q,function(e){return"function"==typeof e[0]?e[0]():e[0]}).join("\n")},resize:function(e,t){e&&t&&(V.width(e),V.height(t)),e=V.width(),t=V.height();var n=v(V),r=y(V);return(n!==K||r!==Y)&&(K=n,Y=r,S(),"function"!=typeof rt.onResize||Z===t&&Q===e||rt.onResize(V),(Z!==t||Q!==e)&&(Z=t,Q=e)),V},flush:function(){try{var t;if(e.each(P,function(n,r){if(r===W)t=e("<div></div>");else if("function"==typeof r){t.appendTo(G);try{r(t)}catch(i){b(i,"USER:echo(finalize)")}}else e("<div/>").html(r).appendTo(t).width("100%")}),rt.outputLimit>=0){var n=0===rt.outputLimit?V.rows():rt.outputLimit,r=G.find("div div");if(r.length>n){var i=r.slice(0,q.length-n+1),o=i.parent();i.remove(),o.each(function(){var t=e(this);t.is(":empty")&&t.remove()})}}w(),P=[]}catch(s){alert("[Flush] "+m(s)+"\n"+s.stack)}return V},echo:function(t,n){try{t=t||"";var r=e.extend({flush:!0,raw:!1,finalize:e.noop},n||{});P=[],k(t,r),q.push([t,r]),r.flush&&V.flush(),at()}catch(i){alert("[Terminal.echo] "+m(i)+"\n"+i.stack)}return V},error:function(t,n){return V.echo("[[;#f00;]"+e.terminal.escape_brackets(t).replace(/\\$/,"&#92;")+"]",n)},exception:function(t,n){var r=m(t);n&&(r="&#91;"+n+"&#93;: "+r),r&&V.error(r,{finalize:function(e){e.addClass("exception message")}}),"string"==typeof t.fileName&&(V.pause(),e.get(t.fileName,function(e){V.resume();var n=t.lineNumber-1,r=e.split("\n")[n];r&&V.error("&#91;"+t.lineNumber+"&#93;: "+r)})),t.stack&&V.error(t.stack,{finalize:function(e){e.addClass("exception stack-trace")}})},scroll:function(e){var t;return e=Math.round(e),U.prop?(e>U.prop("scrollTop")&&e>0&&U.prop("scrollTop",0),t=U.prop("scrollTop"),U.scrollTop(t+e)):(e>U.attr("scrollTop")&&e>0&&U.attr("scrollTop",0),t=U.attr("scrollTop"),U.scrollTop(t+e)),V},logout:rt.login?function(){for(;ut.size()>1;)V.pop();return V.pop()}:function(){V.error(it.loginFunctionMissing)},token:rt.login?function(t){return e.Storage.get(V.prefix_name(t)+"_token")}:e.noop,login_name:rt.login?function(t){return e.Storage.get(V.prefix_name(t)+"_login")}:e.noop,name:function(){return ut.top().name},prefix_name:function(e){var t=(rt.name?rt.name+"_":"")+J;return e&&ut.size()>1&&(t+="_"+ut.map(function(e){return e.name}).slice(1).join("_")),t},push:function(t,n){n=n||{},n.name=n.name||z,n.prompt=n.prompt||n.name+" ";var r=ut.top();return r&&(r.mask=ht.mask()),p(t,n.login,function(r){if(ut.push(e.extend({},r,n)),n.login){var i=e.type(n.login);"function"==i?V.login(n.login,!1,L,V.pop):("string"==e.type(t)&&"string"==i||"boolean"==i)&&V.login(f(t,n.login),!1,L,V.pop)}else L()}),V},pop:function(n){n!==t&&E(n);var r=V.token(!0);if(1==ut.size())if(rt.login){if(I(),"function"===e.type(rt.onExit))try{rt.onExit(V)}catch(i){throw b(i,"onExit"),i}}else V.error(it.canExitError);else{r&&D();var o=ut.pop();if(L(),"function"===e.type(o.onExit))try{o.onExit(V)}catch(i){throw b(i,"onExit"),i}V.set_mask(ut.top().mask)}return V},level:function(){return ut.size()},reset:function(){for(V.clear();ut.size()>1;)ut.pop();return M(),V},purge:function(){var t=V.prefix_name()+"_",n=e.Storage.get(t+"interpreters");return e.each(e.parseJSON(n),function(t,n){e.Storage.remove(n+"_commands"),e.Storage.remove(n+"_token"),e.Storage.remove(n+"_login")}),ht.purge(),e.Storage.remove(t+"interpreters"),V},destroy:function(){return ht.destroy().remove(),G.remove(),e(document).unbind(".terminal"),e(window).unbind(".terminal"),V.unbind("click, mousewheel"),V.removeData("terminal").removeClass("terminal"),rt.width&&V.css("width",""),rt.height&&V.css("height",""),V}},function(e,t){return function(){try{return t.apply(this,Array.prototype.slice.apply(arguments))}catch(n){throw"exec"!==e&&"resume"!==e&&b(n,"TERMINAL"),n}}}));var at=function(){var e=x(V);return function(){e!==x(V)&&(V.resize(),e=x(V))}}();if(rt.width&&V.width(rt.width),rt.height&&V.height(rt.height),U=navigator.userAgent.toLowerCase().match(/(webkit)[ \/]([\w.]+)/)||"body"!=V[0].tagName.toLowerCase()?V:e("html"),e(document).bind("ajaxSend.terminal",function(e,t){j.push(t)}),G=e("<div>").addClass("terminal-output").appendTo(V),V.addClass("terminal"),("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(V.click(function(){V.find("textarea").focus()}),V.find("textarea").focus()),rt.login&&"function"==typeof rt.onBeforeLogin)try{rt.onBeforeLogin(V)}catch(lt){throw b(lt,"onBeforeLogin"),lt}var ct=rt.login;"string"!=typeof n||"string"!=typeof rt.login&&!rt.login||(rt.login=f(n,rt.login)),R.append(V);var ut,ht;return p(n,ct,function(n){if(ut=new u(e.extend({name:rt.name,prompt:rt.prompt,greetings:rt.greetings},n)),ht=e("<div/>").appendTo(V).cmd({prompt:rt.prompt,history:rt.history,historyFilter:rt.historyFilter,historySize:rt.historySize,width:"100%",keydown:$,keypress:rt.keypress?function(e){return rt.keypress(e,V)}:null,onCommandChange:function(t){if("function"===e.type(rt.onCommandChange))try{rt.onCommandChange(t,V)}catch(n){throw b(n,"onCommandChange"),n}w()},commands:F}),ot?V.focus(t,!0):V.disable(),e(document).bind("click.terminal",function(t){e(t.target).closest(".terminal").hasClass("terminal")||rt.onBlur(V)===!1||V.disable()}),V.click(function(){V.enabled()||V.focus()}).mousedown(function(e){2==e.which&&V.insert(_())}),rt.login?V.login(rt.login,!0,M):M(),V.is(":visible")&&(K=v(V),ht.resize(K),Y=y(V)),V.oneTime(100,function(){e(window).bind("resize.terminal",function(){if(V.is(":visible")){var e=V.width(),t=V.height();(Z!==t||Q!==e)&&V.resize()}})}),e.event.special.mousewheel){var r=!1;e(document).bind("keydown.terminal",function(e){e.shiftKey&&(r=!0)}).bind("keyup.terminal",function(e){(e.shiftKey||16==e.which)&&(r=!1)}),V.mousewheel(function(e,t){r||V.scroll(t>0?-40:40)})}}),V.data("terminal",V),V}}(jQuery),function($hx_exports){"use strict";function $extend(e,t){function n(){}n.prototype=e;var r=new n;for(var i in t)r[i]=t[i];return t.toString!==Object.prototype.toString&&(r.toString=t.toString),r}function $iterator(e){return e instanceof Array?function(){return HxOverrides.iter(e)}:"function"==typeof e.iterator?$bind(e,e.iterator):e.iterator}function $bind(e,t){if(null==t)return null;null==t.__id__&&(t.__id__=$fid++);var n;return null==e.hx__closures__?e.hx__closures__={}:n=e.hx__closures__[t.__id__],null==n&&(n=function(){return n.method.apply(n.scope,arguments)},n.scope=e,n.method=t,e.hx__closures__[t.__id__]=n),n}$hx_exports.pgr=$hx_exports.pgr||{},$hx_exports.pgr.dconsole=$hx_exports.pgr.dconsole||{};var $hxClasses={},$estr=function(){return js.Boot.__string_rec(this,"")},EReg=function(e,t){t=t.split("u").join(""),this.r=new RegExp(e,t)};$hxClasses.EReg=EReg,EReg.__name__=["EReg"],EReg.prototype={r:null,match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&e>=0&&e<this.r.m.length)return this.r.m[e];throw"EReg::matched"},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matchedRight:function(){if(null==this.r.m)throw"No string matched";var e=this.r.m.index+this.r.m[0].length;return this.r.s.substr(e,this.r.s.length-e)},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(e,t,n){if(null==n&&(n=-1),this.r.global){this.r.lastIndex=t,this.r.m=this.r.exec(0>n?e:HxOverrides.substr(e,0,t+n));var r=null!=this.r.m;return r&&(this.r.s=e),r}var i=this.match(0>n?HxOverrides.substr(e,t,null):HxOverrides.substr(e,t,n));return i&&(this.r.s=e,this.r.m.index+=t),i},split:function(e){var t="#__delim__#";return e.replace(this.r,t).split(t)},replace:function(e,t){return e.replace(this.r,t)},map:function(e,t){var n=0,r=new StringBuf;do{if(n>=e.length)break;if(!this.matchSub(e,n)){r.add(HxOverrides.substr(e,n,null));break}var i=this.matchedPos();r.add(HxOverrides.substr(e,n,i.pos-n)),r.add(t(this)),0==i.len?(r.add(HxOverrides.substr(e,i.pos,1)),n=i.pos+1):n=i.pos+i.len}while(this.r.global);return!this.r.global&&n>0&&n<e.length&&r.add(HxOverrides.substr(e,n,null)),r.b},__class__:EReg};var HxOverrides=function(){};$hxClasses.HxOverrides=HxOverrides,HxOverrides.__name__=["HxOverrides"],HxOverrides.dateStr=function(e){var t=e.getMonth()+1,n=e.getDate(),r=e.getHours(),i=e.getMinutes(),o=e.getSeconds();return e.getFullYear()+"-"+(10>t?"0"+t:""+t)+"-"+(10>n?"0"+n:""+n)+" "+(10>r?"0"+r:""+r)+":"+(10>i?"0"+i:""+i)+":"+(10>o?"0"+o:""+o)},HxOverrides.strDate=function(e){var t=e.length;switch(t){case 8:var n=e.split(":"),r=new Date;return r.setTime(0),r.setUTCHours(n[0]),r.setUTCMinutes(n[1]),r.setUTCSeconds(n[2]),r;case 10:var i=e.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:var o=e.split(" "),s=o[0].split("-"),a=o[1].split(":");return new Date(s[0],s[1]-1,s[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+e}},HxOverrides.cca=function(e,t){var n=e.charCodeAt(t);return n!=n?void 0:n},HxOverrides.substr=function(e,t,n){return null!=t&&0!=t&&null!=n&&0>n?"":(null==n&&(n=e.length),0>t?(t=e.length+t,0>t&&(t=0)):0>n&&(n=e.length+n-t),e.substr(t,n))},HxOverrides.indexOf=function(e,t,n){var r=e.length;for(0>n&&(n+=r,0>n&&(n=0));r>n;){if(e[n]===t)return n;n++}return-1},HxOverrides.lastIndexOf=function(e,t,n){var r=e.length;for(n>=r?n=r-1:0>n&&(n+=r);n>=0;){if(e[n]===t)return n;n--}return-1},HxOverrides.remove=function(e,t){var n=HxOverrides.indexOf(e,t,0);return-1==n?!1:(e.splice(n,1),!0)},HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIterator=function(e,t){this.min=e,this.max=t};$hxClasses.IntIterator=IntIterator,IntIterator.__name__=["IntIterator"],IntIterator.prototype={min:null,max:null,hasNext:function(){return this.min<this.max},next:function(){return this.min++},__class__:IntIterator};var Main=$hx_exports.Main=function(){};$hxClasses.Main=Main,Main.__name__=["Main"],Main.examples=null,Main.main=function(){haxe.Log.trace=function(e){pgr.dconsole.DC.log(e)}},Main.init=function(){pgr.dconsole.DC.init(),pgr.dconsole.DC.eval("help"),pgr.dconsole.DC.registerClass(Std,"Std"),pgr.dconsole.DC.registerClass(js.Lib,"Lib"),pgr.dconsole.DC.registerClass(js.JQuery,"JQuery"),pgr.dconsole.DC.registerClass(StringTools,"StringTools"),pgr.dconsole.DC.registerClass(haxe.Timer,"Timer");var e=pgr.dconsole.DC.instance.commands.commandsMap;e.exists("monitor")&&e.remove("monitor"),e.exists("profiler")&&e.remove("profiler"),pgr.dconsole.DC.registerFunction(Main.runCode,"run","Runs the code inside the text editor"),Main.examples=new Array,Main.addExample("01_Hello_World"),Main.addExample("02_Ascii_Maze"),Main.addExample("03_Page_Hack")},Main.prepareExamples=function(e){for(var t=new js.JQuery("#examples-list"),n=0,r=0,i=Main.examples;r<i.length;){var o=[i[r]];++r;var s=o[0].title,a="exBtn"+n;t.append('<li><a id="'+a+'" href="#">'+s+"</a></li>");var l=new js.JQuery("#"+a);l.on("click",function(t){return function(){e.setValue(t[0].body)}}(o)),n++}},Main.runCode=function(){eval('document.dispatchEvent(new Event("console_run"));')},Main.addExample=function(e){var t=haxe.Resource.getString(e);null!=t&&(e=StringTools.replace(e,"_"," "),e=HxOverrides.substr(e,3,null),Main.examples.push({title:e,body:t}))};var _Map={};_Map.Map_Impl_=function(){},$hxClasses["_Map.Map_Impl_"]=_Map.Map_Impl_,_Map.Map_Impl_.__name__=["_Map","Map_Impl_"],_Map.Map_Impl_._new=null,_Map.Map_Impl_.set=function(e,t,n){e.set(t,n)},_Map.Map_Impl_.get=function(e,t){return e.get(t)},_Map.Map_Impl_.exists=function(e,t){return e.exists(t)},_Map.Map_Impl_.remove=function(e,t){return e.remove(t)},_Map.Map_Impl_.keys=function(e){return e.keys()},_Map.Map_Impl_.iterator=function(e){return e.iterator()},_Map.Map_Impl_.toString=function(e){return e.toString()},_Map.Map_Impl_.arrayWrite=function(e,t,n){return e.set(t,n),n},_Map.Map_Impl_.toStringMap=function(){return new haxe.ds.StringMap},_Map.Map_Impl_.toIntMap=function(){return new haxe.ds.IntMap},_Map.Map_Impl_.toEnumValueMapMap=function(){return new haxe.ds.EnumValueMap},_Map.Map_Impl_.toObjectMap=function(){return new haxe.ds.ObjectMap},_Map.Map_Impl_.fromStringMap=function(e){return e},_Map.Map_Impl_.fromIntMap=function(e){return e},_Map.Map_Impl_.fromObjectMap=function(e){return e};var IMap=function(){};$hxClasses.IMap=IMap,IMap.__name__=["IMap"],IMap.prototype={get:null,set:null,exists:null,remove:null,keys:null,iterator:null,toString:null,__class__:IMap},Math.__name__=["Math"];var Reflect=function(){};$hxClasses.Reflect=Reflect,Reflect.__name__=["Reflect"],Reflect.hasField=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Reflect.field=function(e,t){try{return e[t]}catch(n){return null}},Reflect.setField=function(e,t,n){e[t]=n},Reflect.getProperty=function(e,t){var n;return null==e?null:e.__properties__&&(n=e.__properties__["get_"+t])?e[n]():e[t]},Reflect.setProperty=function(e,t,n){var r;e.__properties__&&(r=e.__properties__["set_"+t])?e[r](n):e[t]=n},Reflect.callMethod=function(e,t,n){return t.apply(e,n)},Reflect.fields=function(e){var t=[];if(null!=e){var n=Object.prototype.hasOwnProperty;for(var r in e)"__id__"!=r&&"hx__closures__"!=r&&n.call(e,r)&&t.push(r)}return t},Reflect.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},Reflect.compare=function(e,t){return e==t?0:e>t?1:-1},Reflect.compareMethods=function(e,t){return e==t?!0:Reflect.isFunction(e)&&Reflect.isFunction(t)?e.scope==t.scope&&e.method==t.method&&null!=e.method:!1},Reflect.isObject=function(e){if(null==e)return!1;var t=typeof e;return"string"==t||"object"==t&&null==e.__enum__||"function"==t&&null!=(e.__name__||e.__ename__)},Reflect.isEnumValue=function(e){return null!=e&&null!=e.__enum__},Reflect.deleteField=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?(delete e[t],!0):!1},Reflect.copy=function(e){for(var t={},n=0,r=Reflect.fields(e);n<r.length;){var i=r[n];++n,Reflect.setField(t,i,Reflect.field(e,i))}return t},Reflect.makeVarArgs=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e(t)}};var Std=function(){};$hxClasses.Std=Std,Std.__name__=["Std"],Std.is=function(e,t){return js.Boot.__instanceof(e,t)},Std.instance=function(e,t){return e instanceof t?e:null},Std.string=function(e){return js.Boot.__string_rec(e,"")},Std["int"]=function(e){return 0|e},Std.parseInt=function(e){var t=parseInt(e,10);return 0!=t||120!=HxOverrides.cca(e,1)&&88!=HxOverrides.cca(e,1)||(t=parseInt(e)),isNaN(t)?null:t},Std.parseFloat=function(e){return parseFloat(e)},Std.random=function(e){return 0>=e?0:Math.floor(Math.random()*e)};var StringBuf=function(){this.b=""};$hxClasses.StringBuf=StringBuf,StringBuf.__name__=["StringBuf"],StringBuf.prototype={b:null,get_length:function(){return this.b.length},add:function(e){this.b+=Std.string(e)},addChar:function(e){this.b+=String.fromCharCode(e)},addSub:function(e,t,n){this.b+=null==n?HxOverrides.substr(e,t,null):HxOverrides.substr(e,t,n)},toString:function(){return this.b},__class__:StringBuf,__properties__:{get_length:"get_length"}};var StringTools=function(){};$hxClasses.StringTools=StringTools,StringTools.__name__=["StringTools"],StringTools.urlEncode=function(e){return encodeURIComponent(e)},StringTools.urlDecode=function(e){return decodeURIComponent(e.split("+").join(" "))},StringTools.htmlEscape=function(e,t){return e=e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;"),t?e.split('"').join("&quot;").split("'").join("&#039;"):e},StringTools.htmlUnescape=function(e){return e.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")},StringTools.startsWith=function(e,t){return e.length>=t.length&&HxOverrides.substr(e,0,t.length)==t},StringTools.endsWith=function(e,t){var n=t.length,r=e.length;return r>=n&&HxOverrides.substr(e,r-n,n)==t},StringTools.isSpace=function(e,t){var n=HxOverrides.cca(e,t);return n>8&&14>n||32==n},StringTools.ltrim=function(e){for(var t=e.length,n=0;t>n&&StringTools.isSpace(e,n);)n++;return n>0?HxOverrides.substr(e,n,t-n):e},StringTools.rtrim=function(e){for(var t=e.length,n=0;t>n&&StringTools.isSpace(e,t-n-1);)n++;return n>0?HxOverrides.substr(e,0,t-n):e},StringTools.trim=function(e){return StringTools.ltrim(StringTools.rtrim(e))},StringTools.lpad=function(e,t,n){if(t.length<=0)return e;for(;e.length<n;)e=t+e;return e},StringTools.rpad=function(e,t,n){if(t.length<=0)return e;for(;e.length<n;)e+=t;return e},StringTools.replace=function(e,t,n){return e.split(t).join(n)},StringTools.hex=function(e,t){var n="",r="0123456789ABCDEF";do n=r.charAt(15&e)+n,e>>>=4;while(e>0);if(null!=t)for(;n.length<t;)n="0"+n;return n},StringTools.fastCodeAt=function(e,t){return e.charCodeAt(t)},StringTools.isEof=function(e){return e!=e};var ValueType=$hxClasses.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};ValueType.TNull=["TNull",0],ValueType.TNull.toString=$estr,ValueType.TNull.__enum__=ValueType,ValueType.TInt=["TInt",1],ValueType.TInt.toString=$estr,ValueType.TInt.__enum__=ValueType,ValueType.TFloat=["TFloat",2],ValueType.TFloat.toString=$estr,ValueType.TFloat.__enum__=ValueType,ValueType.TBool=["TBool",3],ValueType.TBool.toString=$estr,ValueType.TBool.__enum__=ValueType,ValueType.TObject=["TObject",4],ValueType.TObject.toString=$estr,ValueType.TObject.__enum__=ValueType,ValueType.TFunction=["TFunction",5],ValueType.TFunction.toString=$estr,ValueType.TFunction.__enum__=ValueType,ValueType.TClass=function(e){var t=["TClass",6,e];return t.__enum__=ValueType,t.toString=$estr,t},ValueType.TEnum=function(e){var t=["TEnum",7,e];return t.__enum__=ValueType,t.toString=$estr,t},ValueType.TUnknown=["TUnknown",8],ValueType.TUnknown.toString=$estr,ValueType.TUnknown.__enum__=ValueType,ValueType.__empty_constructs__=[ValueType.TNull,ValueType.TInt,ValueType.TFloat,ValueType.TBool,ValueType.TObject,ValueType.TFunction,ValueType.TUnknown];var Type=function(){};$hxClasses.Type=Type,Type.__name__=["Type"],Type.getClass=function(e){return null==e?null:e instanceof Array&&null==e.__enum__?Array:e.__class__},Type.getEnum=function(e){return null==e?null:e.__enum__},Type.getSuperClass=function(e){return e.__super__},Type.getClassName=function(e){var t=e.__name__;return t.join(".")},Type.getEnumName=function(e){var t=e.__ename__;return t.join(".")},Type.resolveClass=function(e){var t=$hxClasses[e];return null!=t&&t.__name__?t:null},Type.resolveEnum=function(e){var t=$hxClasses[e];return null!=t&&t.__ename__?t:null},Type.createInstance=function(e,t){var n=t.length;switch(n){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);case 8:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]);default:throw"Too many arguments"}return null},Type.createEmptyInstance=function(e){function t(){}return t.prototype=e.prototype,new t},Type.createEnum=function(e,t,n){var r=Reflect.field(e,t);if(null==r)throw"No such constructor "+t;if(Reflect.isFunction(r)){if(null==n)throw"Constructor "+t+" need parameters";return r.apply(e,n)}if(null!=n&&0!=n.length)throw"Constructor "+t+" does not need parameters";return r},Type.createEnumIndex=function(e,t,n){var r=e.__constructs__[t];if(null==r)throw t+" is not a valid enum constructor index";return Type.createEnum(e,r,n)},Type.getInstanceFields=function(e){var t=[];for(var n in e.prototype)t.push(n);return HxOverrides.remove(t,"__class__"),HxOverrides.remove(t,"__properties__"),t},Type.getClassFields=function(e){var t=Reflect.fields(e);return HxOverrides.remove(t,"__name__"),HxOverrides.remove(t,"__interfaces__"),HxOverrides.remove(t,"__properties__"),HxOverrides.remove(t,"__super__"),HxOverrides.remove(t,"prototype"),t},Type.getEnumConstructs=function(e){var t=e.__constructs__;return t.slice()},Type["typeof"]=function(e){var t=typeof e;switch(t){case"boolean":return ValueType.TBool;case"string":return ValueType.TClass(String);case"number":return Math.ceil(e)==e%2147483648?ValueType.TInt:ValueType.TFloat;case"object":if(null==e)return ValueType.TNull;var n=e.__enum__;if(null!=n)return ValueType.TEnum(n);var r;return r=e instanceof Array&&null==e.__enum__?Array:e.__class__,null!=r?ValueType.TClass(r):ValueType.TObject;case"function":return e.__name__||e.__ename__?ValueType.TObject:ValueType.TFunction;case"undefined":return ValueType.TNull;default:return ValueType.TUnknown}},Type.enumEq=function(e,t){if(e==t)return!0;try{if(e[0]!=t[0])return!1;for(var n=2,r=e.length;r>n;){var i=n++;if(!Type.enumEq(e[i],t[i]))return!1}var o=e.__enum__;if(o!=t.__enum__||null==o)return!1}catch(s){return!1}return!0},Type.enumConstructor=function(e){return e[0]},Type.enumParameters=function(e){return e.slice(2)},Type.enumIndex=function(e){return e[1]},Type.allEnums=function(e){return e.__empty_constructs__};var haxe={};haxe.StackItem=$hxClasses["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]},haxe.StackItem.CFunction=["CFunction",0],haxe.StackItem.CFunction.toString=$estr,haxe.StackItem.CFunction.__enum__=haxe.StackItem,haxe.StackItem.Module=function(e){var t=["Module",1,e];return t.__enum__=haxe.StackItem,t.toString=$estr,t},haxe.StackItem.FilePos=function(e,t,n){var r=["FilePos",2,e,t,n];return r.__enum__=haxe.StackItem,r.toString=$estr,r},haxe.StackItem.Method=function(e,t){var n=["Method",3,e,t];return n.__enum__=haxe.StackItem,n.toString=$estr,n},haxe.StackItem.LocalFunction=function(e){var t=["LocalFunction",4,e];return t.__enum__=haxe.StackItem,t.toString=$estr,t},haxe.StackItem.__empty_constructs__=[haxe.StackItem.CFunction],haxe.CallStack=function(){},$hxClasses["haxe.CallStack"]=haxe.CallStack,haxe.CallStack.__name__=["haxe","CallStack"],haxe.CallStack.callStack=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){for(var n=[],r=0;r<t.length;){var i=t[r];++r;var o=null,s=i.getFunctionName();if(null!=s){var a=s.lastIndexOf(".");if(a>=0){var l=HxOverrides.substr(s,0,a),c=HxOverrides.substr(s,a+1,null);o=haxe.StackItem.Method(l,c)}}n.push(haxe.StackItem.FilePos(o,i.getFileName(),i.getLineNumber()))}return n};var t=haxe.CallStack.makeStack((new Error).stack);return t.shift(),Error.prepareStackTrace=e,t},haxe.CallStack.exceptionStack=function(){return[]},haxe.CallStack.toString=function(e){for(var t=new StringBuf,n=0;n<e.length;){var r=e[n];++n,t.b+="\nCalled from ",haxe.CallStack.itemToString(t,r)}return t.b},haxe.CallStack.itemToString=function(e,t){switch(t[1]){case 0:e.b+="a C function";break;case 1:var n=t[2];e.b+="module ",e.b+=null==n?"null":""+n;break;case 2:var r=t[4],i=t[3],o=t[2];null!=o&&(haxe.CallStack.itemToString(e,o),e.b+=" ("),e.b+=null==i?"null":""+i,e.b+=" line ",e.b+=null==r?"null":""+r,null!=o&&(e.b+=")");break;case 3:var s=t[3],a=t[2];e.b+=null==a?"null":""+a,e.b+=".",e.b+=null==s?"null":""+s;break;case 4:var l=t[2];e.b+="local function #",e.b+=null==l?"null":""+l}},haxe.CallStack.makeStack=function(e){if("string"==typeof e){for(var t=e.split("\n"),n=[],r=0;r<t.length;){var i=t[r];++r,n.push(haxe.StackItem.Module(i))}return n}return e},haxe.Log=function(){},$hxClasses["haxe.Log"]=haxe.Log,haxe.Log.__name__=["haxe","Log"],haxe.Log.trace=function(e,t){js.Boot.__trace(e,t)},haxe.Log.clear=function(){js.Boot.__clear_trace()},haxe.Resource=function(){},$hxClasses["haxe.Resource"]=haxe.Resource,haxe.Resource.__name__=["haxe","Resource"],haxe.Resource.content=null,haxe.Resource.listNames=function(){for(var e=new Array,t=0,n=haxe.Resource.content;t<n.length;){var r=n[t];++t,e.push(r.name)}return e},haxe.Resource.getString=function(e){for(var t=0,n=haxe.Resource.content;t<n.length;){var r=n[t];if(++t,r.name==e){if(null!=r.str)return r.str;var i=haxe.crypto.Base64.decode(r.data);return i.toString()}}return null},haxe.Resource.getBytes=function(e){for(var t=0,n=haxe.Resource.content;t<n.length;){var r=n[t];if(++t,r.name==e)return null!=r.str?haxe.io.Bytes.ofString(r.str):haxe.crypto.Base64.decode(r.data)}return null},haxe.Timer=function(e){var t=this;this.id=setInterval(function(){t.run()},e)},$hxClasses["haxe.Timer"]=haxe.Timer,haxe.Timer.__name__=["haxe","Timer"],haxe.Timer.delay=function(e,t){var n=new haxe.Timer(t);return n.run=function(){n.stop(),e()},n},haxe.Timer.measure=function(e,t){var n=haxe.Timer.stamp(),r=e();return haxe.Log.trace(haxe.Timer.stamp()-n+"s",t),r},haxe.Timer.stamp=function(){return(new Date).getTime()/1e3},haxe.Timer.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:haxe.Timer},haxe.io={},haxe.io.Bytes=function(e,t){this.length=e,this.b=t},$hxClasses["haxe.io.Bytes"]=haxe.io.Bytes,haxe.io.Bytes.__name__=["haxe","io","Bytes"],haxe.io.Bytes.alloc=function(e){for(var t=new Array,n=0;e>n;){{n++}t.push(0)}return new haxe.io.Bytes(e,t)},haxe.io.Bytes.ofString=function(e){for(var t=new Array,n=0;n<e.length;){var r=StringTools.fastCodeAt(e,n++);r>=55296&&56319>=r&&(r=r-55232<<10|1023&StringTools.fastCodeAt(e,n++)),127>=r?t.push(r):2047>=r?(t.push(192|r>>6),t.push(128|63&r)):65535>=r?(t.push(224|r>>12),t.push(128|r>>6&63),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|r>>12&63),t.push(128|r>>6&63),t.push(128|63&r))}return new haxe.io.Bytes(t.length,t)},haxe.io.Bytes.ofData=function(e){return new haxe.io.Bytes(e.length,e)},haxe.io.Bytes.fastGet=function(e,t){return e[t]},haxe.io.Bytes.prototype={length:null,b:null,get:function(e){return this.b[e]},set:function(e,t){this.b[e]=255&t},blit:function(e,t,n,r){if(0>e||0>n||0>r||e+r>this.length||n+r>t.length)throw haxe.io.Error.OutsideBounds;
var i=this.b,o=t.b;if(i==o&&e>n)for(var s=r;s>0;)s--,i[s+e]=o[s+n];else for(var a=0;r>a;){var l=a++;i[l+e]=o[l+n]}},fill:function(e,t,n){for(var r=0;t>r;){{r++}this.set(e++,n)}},sub:function(e,t){if(0>e||0>t||e+t>this.length)throw haxe.io.Error.OutsideBounds;return new haxe.io.Bytes(t,this.b.slice(e,e+t))},compare:function(e){var t,n=this.b,r=e.b;t=this.length<e.length?this.length:e.length;for(var i=0;t>i;){var o=i++;if(n[o]!=r[o])return n[o]-r[o]}return this.length-e.length},getDouble:function(e){var t=new haxe.io.BytesInput(this,e,8);return t.readDouble()},getFloat:function(e){var t=new haxe.io.BytesInput(this,e,4);return t.readFloat()},setDouble:function(){throw"Not supported"},setFloat:function(){throw"Not supported"},getString:function(e,t){if(0>e||0>t||e+t>this.length)throw haxe.io.Error.OutsideBounds;for(var n="",r=this.b,i=String.fromCharCode,o=e,s=e+t;s>o;){var a=r[o++];if(128>a){if(0==a)break;n+=i(a)}else if(224>a)n+=i((63&a)<<6|127&r[o++]);else if(240>a){var l=r[o++];n+=i((31&a)<<12|(127&l)<<6|127&r[o++])}else{var c=r[o++],u=r[o++],h=(15&a)<<18|(127&c)<<12|(127&u)<<6|127&r[o++];n+=i((h>>10)+55232),n+=i(1023&h|56320)}}return n},readString:function(e,t){return this.getString(e,t)},toString:function(){return this.getString(0,this.length)},toHex:function(){for(var e=new StringBuf,t=[],n="0123456789abcdef",r=0,i=n.length;i>r;){var o=r++;t.push(HxOverrides.cca(n,o))}for(var s=0,a=this.length;a>s;){var l=s++,c=this.b[l];e.b+=String.fromCharCode(t[c>>4]),e.b+=String.fromCharCode(t[15&c])}return e.b},getData:function(){return this.b},__class__:haxe.io.Bytes},haxe.crypto={},haxe.crypto.Base64=function(){},$hxClasses["haxe.crypto.Base64"]=haxe.crypto.Base64,haxe.crypto.Base64.__name__=["haxe","crypto","Base64"],haxe.crypto.Base64.encode=function(e,t){null==t&&(t=!0);var n=new haxe.crypto.BaseCode(haxe.crypto.Base64.BYTES).encodeBytes(e).toString();if(t)for(var r=0,i=(3-4*e.length%3)%3;i>r;){{r++}n+="="}return n},haxe.crypto.Base64.decode=function(e,t){if(null==t&&(t=!0),t)for(;61==HxOverrides.cca(e,e.length-1);)e=HxOverrides.substr(e,0,-1);return new haxe.crypto.BaseCode(haxe.crypto.Base64.BYTES).decodeBytes(haxe.io.Bytes.ofString(e))},haxe.crypto.BaseCode=function(e){for(var t=e.length,n=1;t>1<<n;)n++;if(n>8||t!=1<<n)throw"BaseCode : base length must be a power of two.";this.base=e,this.nbits=n},$hxClasses["haxe.crypto.BaseCode"]=haxe.crypto.BaseCode,haxe.crypto.BaseCode.__name__=["haxe","crypto","BaseCode"],haxe.crypto.BaseCode.encode=function(e,t){var n=new haxe.crypto.BaseCode(haxe.io.Bytes.ofString(t));return n.encodeString(e)},haxe.crypto.BaseCode.decode=function(e,t){var n=new haxe.crypto.BaseCode(haxe.io.Bytes.ofString(t));return n.decodeString(e)},haxe.crypto.BaseCode.prototype={base:null,nbits:null,tbl:null,encodeBytes:function(e){for(var t=this.nbits,n=this.base,r=8*e.length/t|0,i=haxe.io.Bytes.alloc(r+(8*e.length%t==0?0:1)),o=0,s=0,a=(1<<t)-1,l=0,c=0;r>c;){for(;t>s;)s+=8,o<<=8,o|=e.get(l++);s-=t,i.set(c++,n.b[o>>s&a])}return s>0&&i.set(c++,n.b[o<<t-s&a]),i},initTable:function(){for(var e=new Array,t=0;256>t;){var n=t++;e[n]=-1}for(var r=0,i=this.base.length;i>r;){var o=r++;e[this.base.b[o]]=o}this.tbl=e},decodeBytes:function(e){{var t=this.nbits;this.base}null==this.tbl&&this.initTable();for(var n=this.tbl,r=e.length*t>>3,i=haxe.io.Bytes.alloc(r),o=0,s=0,a=0,l=0;r>l;){for(;8>s;){s+=t,o<<=t;var c=n[e.get(a++)];if(-1==c)throw"BaseCode : invalid encoded char";o|=c}s-=8,i.set(l++,o>>s&255)}return i},encodeString:function(e){return this.encodeBytes(haxe.io.Bytes.ofString(e)).toString()},decodeString:function(e){return this.decodeBytes(haxe.io.Bytes.ofString(e)).toString()},__class__:haxe.crypto.BaseCode},haxe.ds={},haxe.ds.BalancedTree=function(){},$hxClasses["haxe.ds.BalancedTree"]=haxe.ds.BalancedTree,haxe.ds.BalancedTree.__name__=["haxe","ds","BalancedTree"],haxe.ds.BalancedTree.prototype={root:null,set:function(e,t){this.root=this.setLoop(e,t,this.root)},get:function(e){for(var t=this.root;null!=t;){var n=this.compare(e,t.key);if(0==n)return t.value;t=0>n?t.left:t.right}return null},remove:function(e){try{return this.root=this.removeLoop(e,this.root),!0}catch(t){if(js.Boot.__instanceof(t,String))return!1;throw t}},exists:function(e){for(var t=this.root;null!=t;){var n=this.compare(e,t.key);if(0==n)return!0;t=0>n?t.left:t.right}return!1},iterator:function(){var e=[];return this.iteratorLoop(this.root,e),HxOverrides.iter(e)},keys:function(){var e=[];return this.keysLoop(this.root,e),HxOverrides.iter(e)},setLoop:function(e,t,n){if(null==n)return new haxe.ds.TreeNode(null,e,t,null);var r=this.compare(e,n.key);if(0==r)return new haxe.ds.TreeNode(n.left,e,t,n.right,null==n?0:n._height);if(0>r){var i=this.setLoop(e,t,n.left);return this.balance(i,n.key,n.value,n.right)}var o=this.setLoop(e,t,n.right);return this.balance(n.left,n.key,n.value,o)},removeLoop:function(e,t){if(null==t)throw"Not_found";var n=this.compare(e,t.key);return 0==n?this.merge(t.left,t.right):0>n?this.balance(this.removeLoop(e,t.left),t.key,t.value,t.right):this.balance(t.left,t.key,t.value,this.removeLoop(e,t.right))},iteratorLoop:function(e,t){null!=e&&(this.iteratorLoop(e.left,t),t.push(e.value),this.iteratorLoop(e.right,t))},keysLoop:function(e,t){null!=e&&(this.keysLoop(e.left,t),t.push(e.key),this.keysLoop(e.right,t))},merge:function(e,t){if(null==e)return t;if(null==t)return e;var n=this.minBinding(t);return this.balance(e,n.key,n.value,this.removeMinBinding(t))},minBinding:function(e){if(null==e)throw"Not_found";return null==e.left?e:this.minBinding(e.left)},removeMinBinding:function(e){return null==e.left?e.right:this.balance(this.removeMinBinding(e.left),e.key,e.value,e.right)},balance:function(e,t,n,r){var i;i=null==e?0:e._height;var o;return o=null==r?0:r._height,i>o+2?function(){var t,n=e.left;return t=null==n?0:n._height}(this)>=function(){var t,n=e.right;return t=null==n?0:n._height}(this)?new haxe.ds.TreeNode(e.left,e.key,e.value,new haxe.ds.TreeNode(e.right,t,n,r)):new haxe.ds.TreeNode(new haxe.ds.TreeNode(e.left,e.key,e.value,e.right.left),e.right.key,e.right.value,new haxe.ds.TreeNode(e.right.right,t,n,r)):o>i+2?function(){var e,t=r.right;return e=null==t?0:t._height}(this)>function(){var e,t=r.left;return e=null==t?0:t._height}(this)?new haxe.ds.TreeNode(new haxe.ds.TreeNode(e,t,n,r.left),r.key,r.value,r.right):new haxe.ds.TreeNode(new haxe.ds.TreeNode(e,t,n,r.left.left),r.left.key,r.left.value,new haxe.ds.TreeNode(r.left.right,r.key,r.value,r.right)):new haxe.ds.TreeNode(e,t,n,r,(i>o?i:o)+1)},compare:function(e,t){return Reflect.compare(e,t)},toString:function(){return"{"+this.root.toString()+"}"},__class__:haxe.ds.BalancedTree},haxe.ds.TreeNode=function(e,t,n,r,i){null==i&&(i=-1),this.left=e,this.key=t,this.value=n,this.right=r,this._height=-1==i?(function(e){var t,n=e.left;return t=null==n?0:n._height}(this)>function(e){var t,n=e.right;return t=null==n?0:n._height}(this)?function(e){var t,n=e.left;return t=null==n?0:n._height}(this):function(e){var t,n=e.right;return t=null==n?0:n._height}(this))+1:i},$hxClasses["haxe.ds.TreeNode"]=haxe.ds.TreeNode,haxe.ds.TreeNode.__name__=["haxe","ds","TreeNode"],haxe.ds.TreeNode.prototype={left:null,right:null,key:null,value:null,_height:null,toString:function(){return(null==this.left?"":this.left.toString()+", ")+(""+Std.string(this.key)+"="+Std.string(this.value))+(null==this.right?"":", "+this.right.toString())},__class__:haxe.ds.TreeNode},haxe.ds.EnumValueMap=function(){haxe.ds.BalancedTree.call(this)},$hxClasses["haxe.ds.EnumValueMap"]=haxe.ds.EnumValueMap,haxe.ds.EnumValueMap.__name__=["haxe","ds","EnumValueMap"],haxe.ds.EnumValueMap.__interfaces__=[IMap],haxe.ds.EnumValueMap.__super__=haxe.ds.BalancedTree,haxe.ds.EnumValueMap.prototype=$extend(haxe.ds.BalancedTree.prototype,{compare:function(e,t){var n=e[1]-t[1];if(0!=n)return n;var r=e.slice(2),i=t.slice(2);return 0==r.length&&0==i.length?0:this.compareArgs(r,i)},compareArgs:function(e,t){var n=e.length-t.length;if(0!=n)return n;for(var r=0,i=e.length;i>r;){var o=r++,s=this.compareArg(e[o],t[o]);if(0!=s)return s}return 0},compareArg:function(e,t){return Reflect.isEnumValue(e)&&Reflect.isEnumValue(t)?this.compare(e,t):e instanceof Array&&null==e.__enum__&&t instanceof Array&&null==t.__enum__?this.compareArgs(e,t):Reflect.compare(e,t)},__class__:haxe.ds.EnumValueMap}),haxe.ds.GenericCell=function(e,t){this.elt=e,this.next=t},$hxClasses["haxe.ds.GenericCell"]=haxe.ds.GenericCell,haxe.ds.GenericCell.__name__=["haxe","ds","GenericCell"],haxe.ds.GenericCell.prototype={elt:null,next:null,__class__:haxe.ds.GenericCell},haxe.ds.GenericStack=function(){},$hxClasses["haxe.ds.GenericStack"]=haxe.ds.GenericStack,haxe.ds.GenericStack.__name__=["haxe","ds","GenericStack"],haxe.ds.GenericStack.prototype={head:null,add:function(e){this.head=new haxe.ds.GenericCell(e,this.head)},first:function(){return null==this.head?null:this.head.elt},pop:function(){var e=this.head;return null==e?null:(this.head=e.next,e.elt)},isEmpty:function(){return null==this.head},remove:function(e){for(var t=null,n=this.head;null!=n;){if(n.elt==e){null==t?this.head=n.next:t.next=n.next;break}t=n,n=n.next}return null!=n},iterator:function(){var e=this.head;return{hasNext:function(){return null!=e},next:function(){var t=e;return e=t.next,t.elt}}},toString:function(){for(var e=new Array,t=this.head;null!=t;)e.push(t.elt),t=t.next;return"{"+e.join(",")+"}"},__class__:haxe.ds.GenericStack},haxe.ds._HashMap={},haxe.ds._HashMap.HashMap_Impl_=function(){},$hxClasses["haxe.ds._HashMap.HashMap_Impl_"]=haxe.ds._HashMap.HashMap_Impl_,haxe.ds._HashMap.HashMap_Impl_.__name__=["haxe","ds","_HashMap","HashMap_Impl_"],haxe.ds._HashMap.HashMap_Impl_._new=function(){return{keys:new haxe.ds.IntMap,values:new haxe.ds.IntMap}},haxe.ds._HashMap.HashMap_Impl_.set=function(e,t,n){e.keys.set(t.hashCode(),t),e.values.set(t.hashCode(),n)},haxe.ds._HashMap.HashMap_Impl_.get=function(e,t){return e.values.get(t.hashCode())},haxe.ds._HashMap.HashMap_Impl_.exists=function(e,t){return e.values.exists(t.hashCode())},haxe.ds._HashMap.HashMap_Impl_.remove=function(e,t){return e.values.remove(t.hashCode()),e.keys.remove(t.hashCode())},haxe.ds._HashMap.HashMap_Impl_.keys=function(e){return e.keys.iterator()},haxe.ds._HashMap.HashMap_Impl_.iterator=function(e){return e.values.iterator()},haxe.ds.IntMap=function(){this.h={}},$hxClasses["haxe.ds.IntMap"]=haxe.ds.IntMap,haxe.ds.IntMap.__name__=["haxe","ds","IntMap"],haxe.ds.IntMap.__interfaces__=[IMap],haxe.ds.IntMap.prototype={h:null,set:function(e,t){this.h[e]=t},get:function(e){return this.h[e]},exists:function(e){return this.h.hasOwnProperty(e)},remove:function(e){return this.h.hasOwnProperty(e)?(delete this.h[e],!0):!1},keys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(0|t);return HxOverrides.iter(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},toString:function(){var e=new StringBuf;e.b+="{";for(var t=this.keys();t.hasNext();){var n=t.next();e.b+=null==n?"null":""+n,e.b+=" => ",e.add(Std.string(this.get(n))),t.hasNext()&&(e.b+=", ")}return e.b+="}",e.b},__class__:haxe.ds.IntMap},haxe.ds.ObjectMap=function(){this.h={},this.h.__keys__={}},$hxClasses["haxe.ds.ObjectMap"]=haxe.ds.ObjectMap,haxe.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"],haxe.ds.ObjectMap.__interfaces__=[IMap],haxe.ds.ObjectMap.assignId=function(e){return e.__id__=++haxe.ds.ObjectMap.count},haxe.ds.ObjectMap.getId=function(e){return e.__id__},haxe.ds.ObjectMap.prototype={h:null,set:function(e,t){var n=e.__id__||(e.__id__=++haxe.ds.ObjectMap.count);this.h[n]=t,this.h.__keys__[n]=e},get:function(e){return this.h[e.__id__]},exists:function(e){return null!=this.h.__keys__[e.__id__]},remove:function(e){var t=e.__id__;return null==this.h.__keys__[t]?!1:(delete this.h[t],delete this.h.__keys__[t],!0)},keys:function(){var e=[];for(var t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return HxOverrides.iter(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},toString:function(){var e=new StringBuf;e.b+="{";for(var t=this.keys();t.hasNext();){var n=t.next();e.add(Std.string(n)),e.b+=" => ",e.add(Std.string(this.h[n.__id__])),t.hasNext()&&(e.b+=", ")}return e.b+="}",e.b},__class__:haxe.ds.ObjectMap},haxe.ds.StringMap=function(){this.h={}},$hxClasses["haxe.ds.StringMap"]=haxe.ds.StringMap,haxe.ds.StringMap.__name__=["haxe","ds","StringMap"],haxe.ds.StringMap.__interfaces__=[IMap],haxe.ds.StringMap.prototype={h:null,set:function(e,t){this.h["$"+e]=t},get:function(e){return this.h["$"+e]},exists:function(e){return this.h.hasOwnProperty("$"+e)},remove:function(e){return e="$"+e,this.h.hasOwnProperty(e)?(delete this.h[e],!0):!1},keys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(t.substr(1));return HxOverrides.iter(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref["$"+e]}}},toString:function(){var e=new StringBuf;e.b+="{";for(var t=this.keys();t.hasNext();){var n=t.next();e.b+=null==n?"null":""+n,e.b+=" => ",e.add(Std.string(this.get(n))),t.hasNext()&&(e.b+=", ")}return e.b+="}",e.b},__class__:haxe.ds.StringMap},haxe.ds.WeakMap=function(){throw"Not implemented for this platform"},$hxClasses["haxe.ds.WeakMap"]=haxe.ds.WeakMap,haxe.ds.WeakMap.__name__=["haxe","ds","WeakMap"],haxe.ds.WeakMap.__interfaces__=[IMap],haxe.ds.WeakMap.prototype={set:function(){},get:function(){return null},exists:function(){return!1},remove:function(){return!1},keys:function(){return null},iterator:function(){return null},toString:function(){return null},__class__:haxe.ds.WeakMap},haxe.io.BytesBuffer=function(){this.b=new Array},$hxClasses["haxe.io.BytesBuffer"]=haxe.io.BytesBuffer,haxe.io.BytesBuffer.__name__=["haxe","io","BytesBuffer"],haxe.io.BytesBuffer.prototype={b:null,get_length:function(){return this.b.length},addByte:function(e){this.b.push(e)},add:function(e){for(var t=(this.b,e.b),n=0,r=e.length;r>n;){var i=n++;this.b.push(t[i])}},addString:function(e){this.add(haxe.io.Bytes.ofString(e))},addFloat:function(e){var t=new haxe.io.BytesOutput;t.writeFloat(e),this.add(t.getBytes())},addDouble:function(e){var t=new haxe.io.BytesOutput;t.writeDouble(e),this.add(t.getBytes())},addBytes:function(e,t,n){if(0>t||0>n||t+n>e.length)throw haxe.io.Error.OutsideBounds;for(var r=(this.b,e.b),i=t,o=t+n;o>i;){var s=i++;this.b.push(r[s])}},getBytes:function(){var e=new haxe.io.Bytes(this.b.length,this.b);return this.b=null,e},__class__:haxe.io.BytesBuffer,__properties__:{get_length:"get_length"}},haxe.io.Input=function(){},$hxClasses["haxe.io.Input"]=haxe.io.Input,haxe.io.Input.__name__=["haxe","io","Input"],haxe.io.Input.prototype={bigEndian:null,readByte:function(){throw"Not implemented"},readBytes:function(e,t,n){var r=n,i=e.b;if(0>t||0>n||t+n>e.length)throw haxe.io.Error.OutsideBounds;for(;r>0;)i[t]=this.readByte(),t++,r--;return n},close:function(){},set_bigEndian:function(e){return this.bigEndian=e,e},readAll:function(e){null==e&&(e=16384);var t=haxe.io.Bytes.alloc(e),n=new haxe.io.BytesBuffer;try{for(;;){var r=this.readBytes(t,0,e);if(0==r)throw haxe.io.Error.Blocked;n.addBytes(t,0,r)}}catch(i){if(!js.Boot.__instanceof(i,haxe.io.Eof))throw i}return n.getBytes()},readFullBytes:function(e,t,n){for(;n>0;){var r=this.readBytes(e,t,n);t+=r,n-=r}},read:function(e){for(var t=haxe.io.Bytes.alloc(e),n=0;e>0;){var r=this.readBytes(t,n,e);if(0==r)throw haxe.io.Error.Blocked;n+=r,e-=r}return t},readUntil:function(e){for(var t,n=new StringBuf;(t=this.readByte())!=e;)n.b+=String.fromCharCode(t);return n.b},readLine:function(){var e,t,n=new StringBuf;try{for(;10!=(e=this.readByte());)n.b+=String.fromCharCode(e);t=n.b,13==HxOverrides.cca(t,t.length-1)&&(t=HxOverrides.substr(t,0,-1))}catch(r){if(!js.Boot.__instanceof(r,haxe.io.Eof))throw r;if(t=n.b,0==t.length)throw r}return t},readFloat:function(){var e=[];e.push(this.readByte()),e.push(this.readByte()),e.push(this.readByte()),e.push(this.readByte()),this.bigEndian||e.reverse();var t=1-(e[0]>>7<<1),n=(e[0]<<1&255|e[1]>>7)-127,r=(127&e[1])<<16|e[2]<<8|e[3];return 0==r&&-127==n?0:t*(1+Math.pow(2,-23)*r)*Math.pow(2,n)},readDouble:function(){var e=[];e.push(this.readByte()),e.push(this.readByte()),e.push(this.readByte()),e.push(this.readByte()),e.push(this.readByte()),e.push(this.readByte()),e.push(this.readByte()),e.push(this.readByte()),this.bigEndian||e.reverse();var t=1-(e[0]>>7<<1),n=(e[0]<<4&2047|e[1]>>4)-1023,r=this.getDoubleSig(e);return 0==r&&-1023==n?0:t*(1+Math.pow(2,-52)*r)*Math.pow(2,n)},readInt8:function(){var e=this.readByte();return e>=128?e-256:e},readInt16:function(){var e,t=this.readByte(),n=this.readByte();return e=this.bigEndian?n|t<<8:t|n<<8,0!=(32768&e)?e-65536:e},readUInt16:function(){var e=this.readByte(),t=this.readByte();return this.bigEndian?t|e<<8:e|t<<8},readInt24:function(){var e,t=this.readByte(),n=this.readByte(),r=this.readByte();return e=this.bigEndian?r|n<<8|t<<16:t|n<<8|r<<16,0!=(8388608&e)?e-16777216:e},readUInt24:function(){var e=this.readByte(),t=this.readByte(),n=this.readByte();return this.bigEndian?n|t<<8|e<<16:e|t<<8|n<<16},readInt32:function(){var e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte();return this.bigEndian?r|n<<8|t<<16|e<<24:e|t<<8|n<<16|r<<24},readString:function(e){var t=haxe.io.Bytes.alloc(e);return this.readFullBytes(t,0,e),t.toString()},getDoubleSig:function(e){return 4294967296*((15&e[1])<<16|e[2]<<8|e[3])+2147483648*(e[4]>>7)+((127&e[4])<<24|e[5]<<16|e[6]<<8|e[7])},__class__:haxe.io.Input,__properties__:{set_bigEndian:"set_bigEndian"}},haxe.io.BytesInput=function(e,t,n){if(null==t&&(t=0),null==n&&(n=e.length-t),0>t||0>n||t+n>e.length)throw haxe.io.Error.OutsideBounds;this.b=e.b,this.pos=t,this.len=n,this.totlen=n},$hxClasses["haxe.io.BytesInput"]=haxe.io.BytesInput,haxe.io.BytesInput.__name__=["haxe","io","BytesInput"],haxe.io.BytesInput.__super__=haxe.io.Input,haxe.io.BytesInput.prototype=$extend(haxe.io.Input.prototype,{b:null,pos:null,len:null,totlen:null,get_position:function(){return this.pos},get_length:function(){return this.totlen},set_position:function(e){return 0>e?e=0:e>this.totlen&&(e=this.totlen),this.len=this.totlen-e,this.pos=e},readByte:function(){if(0==this.len)throw new haxe.io.Eof;return this.len--,this.b[this.pos++]},readBytes:function(e,t,n){if(0>t||0>n||t+n>e.length)throw haxe.io.Error.OutsideBounds;if(0==this.len&&n>0)throw new haxe.io.Eof;this.len<n&&(n=this.len);for(var r=this.b,i=e.b,o=0;n>o;){var s=o++;i[t+s]=r[this.pos+s]}return this.pos+=n,this.len-=n,n},__class__:haxe.io.BytesInput,__properties__:$extend(haxe.io.Input.prototype.__properties__,{get_length:"get_length",set_position:"set_position",get_position:"get_position"})}),haxe.io.Output=function(){},$hxClasses["haxe.io.Output"]=haxe.io.Output,haxe.io.Output.__name__=["haxe","io","Output"],haxe.io.Output.prototype={bigEndian:null,writeByte:function(){throw"Not implemented"},writeBytes:function(e,t,n){var r=n,i=e.b;if(0>t||0>n||t+n>e.length)throw haxe.io.Error.OutsideBounds;for(;r>0;)this.writeByte(i[t]),t++,r--;return n},flush:function(){},close:function(){},set_bigEndian:function(e){return this.bigEndian=e,e},write:function(e){for(var t=e.length,n=0;t>0;){var r=this.writeBytes(e,n,t);if(0==r)throw haxe.io.Error.Blocked;n+=r,t-=r}},writeFullBytes:function(e,t,n){for(;n>0;){var r=this.writeBytes(e,t,n);t+=r,n-=r}},writeFloat:function(e){if(0==e)return this.writeByte(0),this.writeByte(0),this.writeByte(0),void this.writeByte(0);var t,n=Math.floor(Math.log(Math.abs(e))/haxe.io.Output.LN2),r=8388607&Math.floor(Math.abs(e)/Math.pow(2,n)*8388608);t=n+127>>1|(n>0?0>e?128:64:0>e?128:0);var i=n+127<<7&255|r>>16&127,o=r>>8&255,s=255&r;this.bigEndian?(this.writeByte(t),this.writeByte(i),this.writeByte(o),this.writeByte(s)):(this.writeByte(s),this.writeByte(o),this.writeByte(i),this.writeByte(t))},writeDouble:function(e){if(0==e)return this.writeByte(0),this.writeByte(0),this.writeByte(0),this.writeByte(0),this.writeByte(0),this.writeByte(0),this.writeByte(0),void this.writeByte(0);var t,n=Math.floor(Math.log(Math.abs(e))/haxe.io.Output.LN2),r=Math.floor(Math.abs(e)/Math.pow(2,n)*Math.pow(2,52)),i=34359738367&r,o=Math.floor(r/Math.pow(2,32));t=n+1023>>4|(n>0?0>e?128:64:0>e?128:0);var s=n+1023<<4&255|o>>16&15,a=o>>8&255,l=255&o,c=i>>24&255,u=i>>16&255,h=i>>8&255,p=255&i;this.bigEndian?(this.writeByte(t),this.writeByte(s),this.writeByte(a),this.writeByte(l),this.writeByte(c),this.writeByte(u),this.writeByte(h),this.writeByte(p)):(this.writeByte(p),this.writeByte(h),this.writeByte(u),this.writeByte(c),this.writeByte(l),this.writeByte(a),this.writeByte(s),this.writeByte(t))},writeInt8:function(e){if(-128>e||e>=128)throw haxe.io.Error.Overflow;this.writeByte(255&e)},writeInt16:function(e){if(-32768>e||e>=32768)throw haxe.io.Error.Overflow;this.writeUInt16(65535&e)},writeUInt16:function(e){if(0>e||e>=65536)throw haxe.io.Error.Overflow;this.bigEndian?(this.writeByte(e>>8),this.writeByte(255&e)):(this.writeByte(255&e),this.writeByte(e>>8))},writeInt24:function(e){if(-8388608>e||e>=8388608)throw haxe.io.Error.Overflow;this.writeUInt24(16777215&e)},writeUInt24:function(e){if(0>e||e>=16777216)throw haxe.io.Error.Overflow;this.bigEndian?(this.writeByte(e>>16),this.writeByte(e>>8&255),this.writeByte(255&e)):(this.writeByte(255&e),this.writeByte(e>>8&255),this.writeByte(e>>16))},writeInt32:function(e){this.bigEndian?(this.writeByte(e>>>24),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)):(this.writeByte(255&e),this.writeByte(e>>8&255),this.writeByte(e>>16&255),this.writeByte(e>>>24))},prepare:function(){},writeInput:function(e,t){null==t&&(t=4096);var n=haxe.io.Bytes.alloc(t);try{for(;;){var r=e.readBytes(n,0,t);if(0==r)throw haxe.io.Error.Blocked;for(var i=0;r>0;){var o=this.writeBytes(n,i,r);if(0==o)throw haxe.io.Error.Blocked;i+=o,r-=o}}}catch(s){if(!js.Boot.__instanceof(s,haxe.io.Eof))throw s}},writeString:function(e){var t=haxe.io.Bytes.ofString(e);this.writeFullBytes(t,0,t.length)},__class__:haxe.io.Output,__properties__:{set_bigEndian:"set_bigEndian"}},haxe.io.BytesOutput=function(){this.b=new haxe.io.BytesBuffer},$hxClasses["haxe.io.BytesOutput"]=haxe.io.BytesOutput,haxe.io.BytesOutput.__name__=["haxe","io","BytesOutput"],haxe.io.BytesOutput.__super__=haxe.io.Output,haxe.io.BytesOutput.prototype=$extend(haxe.io.Output.prototype,{b:null,get_length:function(){return this.b.b.length},writeByte:function(e){this.b.b.push(e)},writeBytes:function(e,t,n){return this.b.addBytes(e,t,n),n},getBytes:function(){return this.b.getBytes()},__class__:haxe.io.BytesOutput,__properties__:$extend(haxe.io.Output.prototype.__properties__,{get_length:"get_length"})}),haxe.io.Eof=function(){},$hxClasses["haxe.io.Eof"]=haxe.io.Eof,haxe.io.Eof.__name__=["haxe","io","Eof"],haxe.io.Eof.prototype={toString:function(){return"Eof"},__class__:haxe.io.Eof},haxe.io.Error=$hxClasses["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]},haxe.io.Error.Blocked=["Blocked",0],haxe.io.Error.Blocked.toString=$estr,haxe.io.Error.Blocked.__enum__=haxe.io.Error,haxe.io.Error.Overflow=["Overflow",1],haxe.io.Error.Overflow.toString=$estr,haxe.io.Error.Overflow.__enum__=haxe.io.Error,haxe.io.Error.OutsideBounds=["OutsideBounds",2],haxe.io.Error.OutsideBounds.toString=$estr,haxe.io.Error.OutsideBounds.__enum__=haxe.io.Error,haxe.io.Error.Custom=function(e){var t=["Custom",3,e];return t.__enum__=haxe.io.Error,t.toString=$estr,t},haxe.io.Error.__empty_constructs__=[haxe.io.Error.Blocked,haxe.io.Error.Overflow,haxe.io.Error.OutsideBounds],haxe.io.StringInput=function(e){haxe.io.BytesInput.call(this,haxe.io.Bytes.ofString(e))},$hxClasses["haxe.io.StringInput"]=haxe.io.StringInput,haxe.io.StringInput.__name__=["haxe","io","StringInput"],haxe.io.StringInput.__super__=haxe.io.BytesInput,haxe.io.StringInput.prototype=$extend(haxe.io.BytesInput.prototype,{__class__:haxe.io.StringInput});var hscript={};hscript.Const=$hxClasses["hscript.Const"]={__ename__:["hscript","Const"],__constructs__:["CInt","CFloat","CString"]},hscript.Const.CInt=function(e){var t=["CInt",0,e];return t.__enum__=hscript.Const,t.toString=$estr,t},hscript.Const.CFloat=function(e){var t=["CFloat",1,e];return t.__enum__=hscript.Const,t.toString=$estr,t},hscript.Const.CString=function(e){var t=["CString",2,e];return t.__enum__=hscript.Const,t.toString=$estr,t},hscript.Const.__empty_constructs__=[],hscript.Expr=$hxClasses["hscript.Expr"]={__ename__:["hscript","Expr"],__constructs__:["EConst","EIdent","EVar","EParent","EBlock","EField","EBinop","EUnop","ECall","EIf","EWhile","EFor","EBreak","EContinue","EFunction","EReturn","EArray","EArrayDecl","ENew","EThrow","ETry","EObject","ETernary","ESwitch"]},hscript.Expr.EConst=function(e){var t=["EConst",0,e];return t.__enum__=hscript.Expr,t.toString=$estr,t},hscript.Expr.EIdent=function(e){var t=["EIdent",1,e];return t.__enum__=hscript.Expr,t.toString=$estr,t},hscript.Expr.EVar=function(e,t,n){var r=["EVar",2,e,t,n];return r.__enum__=hscript.Expr,r.toString=$estr,r},hscript.Expr.EParent=function(e){var t=["EParent",3,e];return t.__enum__=hscript.Expr,t.toString=$estr,t},hscript.Expr.EBlock=function(e){var t=["EBlock",4,e];return t.__enum__=hscript.Expr,t.toString=$estr,t},hscript.Expr.EField=function(e,t){var n=["EField",5,e,t];return n.__enum__=hscript.Expr,n.toString=$estr,n},hscript.Expr.EBinop=function(e,t,n){var r=["EBinop",6,e,t,n];return r.__enum__=hscript.Expr,r.toString=$estr,r},hscript.Expr.EUnop=function(e,t,n){var r=["EUnop",7,e,t,n];return r.__enum__=hscript.Expr,r.toString=$estr,r},hscript.Expr.ECall=function(e,t){var n=["ECall",8,e,t];return n.__enum__=hscript.Expr,n.toString=$estr,n},hscript.Expr.EIf=function(e,t,n){var r=["EIf",9,e,t,n];return r.__enum__=hscript.Expr,r.toString=$estr,r},hscript.Expr.EWhile=function(e,t){var n=["EWhile",10,e,t];return n.__enum__=hscript.Expr,n.toString=$estr,n},hscript.Expr.EFor=function(e,t,n){var r=["EFor",11,e,t,n];return r.__enum__=hscript.Expr,r.toString=$estr,r},hscript.Expr.EBreak=["EBreak",12],hscript.Expr.EBreak.toString=$estr,hscript.Expr.EBreak.__enum__=hscript.Expr,hscript.Expr.EContinue=["EContinue",13],hscript.Expr.EContinue.toString=$estr,hscript.Expr.EContinue.__enum__=hscript.Expr,hscript.Expr.EFunction=function(e,t,n,r){var i=["EFunction",14,e,t,n,r];return i.__enum__=hscript.Expr,i.toString=$estr,i},hscript.Expr.EReturn=function(e){var t=["EReturn",15,e];return t.__enum__=hscript.Expr,t.toString=$estr,t},hscript.Expr.EArray=function(e,t){var n=["EArray",16,e,t];return n.__enum__=hscript.Expr,n.toString=$estr,n},hscript.Expr.EArrayDecl=function(e){var t=["EArrayDecl",17,e];return t.__enum__=hscript.Expr,t.toString=$estr,t},hscript.Expr.ENew=function(e,t){var n=["ENew",18,e,t];return n.__enum__=hscript.Expr,n.toString=$estr,n},hscript.Expr.EThrow=function(e){var t=["EThrow",19,e];return t.__enum__=hscript.Expr,t.toString=$estr,t},hscript.Expr.ETry=function(e,t,n,r){var i=["ETry",20,e,t,n,r];return i.__enum__=hscript.Expr,i.toString=$estr,i},hscript.Expr.EObject=function(e){var t=["EObject",21,e];return t.__enum__=hscript.Expr,t.toString=$estr,t},hscript.Expr.ETernary=function(e,t,n){var r=["ETernary",22,e,t,n];return r.__enum__=hscript.Expr,r.toString=$estr,r},hscript.Expr.ESwitch=function(e,t,n){var r=["ESwitch",23,e,t,n];return r.__enum__=hscript.Expr,r.toString=$estr,r},hscript.Expr.__empty_constructs__=[hscript.Expr.EBreak,hscript.Expr.EContinue],hscript.CType=$hxClasses["hscript.CType"]={__ename__:["hscript","CType"],__constructs__:["CTPath","CTFun","CTAnon","CTParent"]},hscript.CType.CTPath=function(e,t){var n=["CTPath",0,e,t];return n.__enum__=hscript.CType,n.toString=$estr,n},hscript.CType.CTFun=function(e,t){var n=["CTFun",1,e,t];return n.__enum__=hscript.CType,n.toString=$estr,n},hscript.CType.CTAnon=function(e){var t=["CTAnon",2,e];return t.__enum__=hscript.CType,t.toString=$estr,t},hscript.CType.CTParent=function(e){var t=["CTParent",3,e];return t.__enum__=hscript.CType,t.toString=$estr,t},hscript.CType.__empty_constructs__=[],hscript.Error=$hxClasses["hscript.Error"]={__ename__:["hscript","Error"],__constructs__:["EInvalidChar","EUnexpected","EUnterminatedString","EUnterminatedComment","EUnknownVariable","EInvalidIterator","EInvalidOp","EInvalidAccess"]},hscript.Error.EInvalidChar=function(e){var t=["EInvalidChar",0,e];return t.__enum__=hscript.Error,t.toString=$estr,t},hscript.Error.EUnexpected=function(e){var t=["EUnexpected",1,e];return t.__enum__=hscript.Error,t.toString=$estr,t},hscript.Error.EUnterminatedString=["EUnterminatedString",2],hscript.Error.EUnterminatedString.toString=$estr,hscript.Error.EUnterminatedString.__enum__=hscript.Error,hscript.Error.EUnterminatedComment=["EUnterminatedComment",3],hscript.Error.EUnterminatedComment.toString=$estr,hscript.Error.EUnterminatedComment.__enum__=hscript.Error,hscript.Error.EUnknownVariable=function(e){var t=["EUnknownVariable",4,e];return t.__enum__=hscript.Error,t.toString=$estr,t},hscript.Error.EInvalidIterator=function(e){var t=["EInvalidIterator",5,e];return t.__enum__=hscript.Error,t.toString=$estr,t},hscript.Error.EInvalidOp=function(e){var t=["EInvalidOp",6,e];return t.__enum__=hscript.Error,t.toString=$estr,t},hscript.Error.EInvalidAccess=function(e){var t=["EInvalidAccess",7,e];return t.__enum__=hscript.Error,t.toString=$estr,t},hscript.Error.__empty_constructs__=[hscript.Error.EUnterminatedString,hscript.Error.EUnterminatedComment],hscript._Interp={},hscript._Interp.Stop=$hxClasses["hscript._Interp.Stop"]={__ename__:["hscript","_Interp","Stop"],__constructs__:["SBreak","SContinue","SReturn"]},hscript._Interp.Stop.SBreak=["SBreak",0],hscript._Interp.Stop.SBreak.toString=$estr,hscript._Interp.Stop.SBreak.__enum__=hscript._Interp.Stop,hscript._Interp.Stop.SContinue=["SContinue",1],hscript._Interp.Stop.SContinue.toString=$estr,hscript._Interp.Stop.SContinue.__enum__=hscript._Interp.Stop,hscript._Interp.Stop.SReturn=function(e){var t=["SReturn",2,e];return t.__enum__=hscript._Interp.Stop,t.toString=$estr,t},hscript._Interp.Stop.__empty_constructs__=[hscript._Interp.Stop.SBreak,hscript._Interp.Stop.SContinue],hscript.Interp=function(){this.variables=new haxe.ds.StringMap,this.locals=new haxe.ds.StringMap,this.variables.set("null",null),this.variables.set("true",!0),this.variables.set("false",!1),this.variables.set("trace",function(e){haxe.Log.trace(Std.string(e),{fileName:"hscript",lineNumber:0})}),this.initOps()},$hxClasses["hscript.Interp"]=hscript.Interp,hscript.Interp.__name__=["hscript","Interp"],hscript.Interp.prototype={variables:null,locals:null,binops:null,depth:null,declared:null,initOps:function(){var e=this;this.binops=new haxe.ds.StringMap,this.binops.set("+",function(t,n){return e.expr(t)+e.expr(n)}),this.binops.set("-",function(t,n){return e.expr(t)-e.expr(n)}),this.binops.set("*",function(t,n){return e.expr(t)*e.expr(n)}),this.binops.set("/",function(t,n){return e.expr(t)/e.expr(n)}),this.binops.set("%",function(t,n){return e.expr(t)%e.expr(n)}),this.binops.set("&",function(t,n){return e.expr(t)&e.expr(n)}),this.binops.set("|",function(t,n){return e.expr(t)|e.expr(n)}),this.binops.set("^",function(t,n){return e.expr(t)^e.expr(n)}),this.binops.set("<<",function(t,n){return e.expr(t)<<e.expr(n)}),this.binops.set(">>",function(t,n){return e.expr(t)>>e.expr(n)}),this.binops.set(">>>",function(t,n){return e.expr(t)>>>e.expr(n)}),this.binops.set("==",function(t,n){return e.expr(t)==e.expr(n)}),this.binops.set("!=",function(t,n){return e.expr(t)!=e.expr(n)}),this.binops.set(">=",function(t,n){return e.expr(t)>=e.expr(n)}),this.binops.set("<=",function(t,n){return e.expr(t)<=e.expr(n)}),this.binops.set(">",function(t,n){return e.expr(t)>e.expr(n)}),this.binops.set("<",function(t,n){return e.expr(t)<e.expr(n)}),this.binops.set("||",function(t,n){return 1==e.expr(t)||1==e.expr(n)
}),this.binops.set("&&",function(t,n){return 1==e.expr(t)&&1==e.expr(n)}),this.binops.set("=",$bind(this,this.assign)),this.binops.set("...",function(t,n){return new IntIterator(e.expr(t),e.expr(n))}),this.assignOp("+=",function(e,t){return e+t}),this.assignOp("-=",function(e,t){return e-t}),this.assignOp("*=",function(e,t){return e*t}),this.assignOp("/=",function(e,t){return e/t}),this.assignOp("%=",function(e,t){return e%t}),this.assignOp("&=",function(e,t){return e&t}),this.assignOp("|=",function(e,t){return e|t}),this.assignOp("^=",function(e,t){return e^t}),this.assignOp("<<=",function(e,t){return e<<t}),this.assignOp(">>=",function(e,t){return e>>t}),this.assignOp(">>>=",function(e,t){return e>>>t})},assign:function(e,t){var n=this.expr(t);switch(e[1]){case 1:var r=e[2],i=this.locals.get(r);null==i?this.variables.set(r,n):i.r=n;break;case 5:var o=e[3],s=e[2];n=this.set(this.expr(s),o,n);break;case 16:var a=e[3],l=e[2];this.expr(l)[this.expr(a)]=n;break;default:this.error(hscript.Error.EInvalidOp("="))}return n},assignOp:function(e,t){var n=this;this.binops.set(e,function(r,i){return n.evalAssignOp(e,t,r,i)})},evalAssignOp:function(e,t,n,r){var i;switch(n[1]){case 1:var o=n[2],s=this.locals.get(o);i=t(this.expr(n),this.expr(r)),null==s?this.variables.set(o,i):s.r=i;break;case 5:var a=n[3],l=n[2],c=this.expr(l);i=t(this.get(c,a),this.expr(r)),i=this.set(c,a,i);break;case 16:var u=n[3],h=n[2],p=this.expr(h),f=this.expr(u);i=t(p[f],this.expr(r)),p[f]=i;break;default:return this.error(hscript.Error.EInvalidOp(e))}return i},increment:function(e,t,n){switch(e[1]){case 1:var r,i=e[2],o=this.locals.get(i);if(r=null==o?this.variables.get(i):o.r,t)if(r+=n,null==o){var s=r;this.variables.set(i,s)}else o.r=r;else if(null==o){var a=r+n;this.variables.set(i,a)}else o.r=r+n;return r;case 5:var l=e[3],c=e[2],u=this.expr(c),h=this.get(u,l);return t?(h+=n,this.set(u,l,h)):this.set(u,l,h+n),h;case 16:var p=e[3],f=e[2],d=this.expr(f),g=this.expr(p),m=d[g];return t?(m+=n,d[g]=m):d[g]=m+n,m;default:return this.error(hscript.Error.EInvalidOp(n>0?"++":"--"))}},execute:function(e){return this.depth=0,this.locals=new haxe.ds.StringMap,this.declared=new Array,this.exprReturn(e)},exprReturn:function(e){try{return this.expr(e)}catch(t){if(!js.Boot.__instanceof(t,hscript._Interp.Stop))throw t;switch(t[1]){case 0:throw"Invalid break";case 1:throw"Invalid continue";case 2:var n=t[2];return n}}return null},duplicate:function(e){for(var t=new haxe.ds.StringMap,n=e.keys();n.hasNext();){var r=n.next(),i=e.get(r);t.set(r,i)}return t},restore:function(e){for(;this.declared.length>e;){var t=this.declared.pop();this.locals.set(t.n,t.old)}},edef:function(e){return e},error:function(e){throw e},resolve:function(e){var t=this.locals.get(e);if(null!=t)return t.r;var n=this.variables.get(e);return null!=n||this.variables.exists(e)||this.error(hscript.Error.EUnknownVariable(e)),n},expr:function(e){switch(e[1]){case 0:var t=e[2];switch(t[1]){case 0:var n=t[2];return n;case 1:var r=t[2];return r;case 2:var i=t[2];return i}break;case 1:var o=e[2];return this.resolve(o);case 2:var s=e[4],a=e[2];this.declared.push({n:a,old:this.locals.get(a)});var l={r:null==s?null:this.expr(s)};return this.locals.set(a,l),null;case 3:var c=e[2];return this.expr(c);case 4:for(var u=e[2],h=this.declared.length,p=null,f=0;f<u.length;){var d=u[f];++f,p=this.expr(d)}return this.restore(h),p;case 5:var g=e[3],m=e[2];return this.get(this.expr(m),g);case 6:var v=e[4],y=e[3],_=e[2],x=this.binops.get(_);return null==x&&this.error(hscript.Error.EInvalidOp(_)),x(y,v);case 7:var b=e[4],w=e[3],C=e[2];switch(C){case"!":return 1!=this.expr(b);case"-":return-this.expr(b);case"++":return this.increment(b,w,1);case"--":return this.increment(b,w,-1);case"~":return~this.expr(b);default:this.error(hscript.Error.EInvalidOp(C))}break;case 8:for(var k=e[3],S=e[2],T=new Array,E=0;E<k.length;){var F=k[E];++E,T.push(this.expr(F))}switch(S[1]){case 5:var I=S[3],D=S[2],A=this.expr(D);return null==A&&this.error(hscript.Error.EInvalidAccess(I)),this.fcall(A,I,T);default:return this.call(null,this.expr(S),T)}break;case 9:var L=e[4],M=e[3],B=e[2];return 1==this.expr(B)?this.expr(M):null==L?null:this.expr(L);case 10:var O=e[3],N=e[2];return this.whileLoop(N,O),null;case 11:var $=e[4],P=e[3],H=e[2];return this.forLoop(H,P,$),null;case 12:throw hscript._Interp.Stop.SBreak;case 13:throw hscript._Interp.Stop.SContinue;case 15:var j=e[2];throw hscript._Interp.Stop.SReturn(null==j?null:this.expr(j));case 14:for(var R=e[4],W=e[3],V=e[2],U=this.duplicate(this.locals),z=this,G=!1,K=0,Y=0;Y<V.length;){var Q=V[Y];++Y,Q.opt?G=!0:K++}var Z=function(e){if(e.length!=V.length){if(e.length<K){var t="Invalid number of parameters. Got "+e.length+", required "+K;throw null!=R&&(t+=" for function '"+R+"'"),t}for(var n=[],r=e.length-K,i=0,o=0;o<V.length;){var s=V[o];++o,s.opt?r>0?(n.push(e[i++]),r--):n.push(null):n.push(e[i++])}e=n}var a=z.locals,l=z.depth;z.depth++,z.locals=z.duplicate(U);for(var c=0,u=V.length;u>c;){var h=c++;z.locals.set(V[h].name,{r:e[h]})}var p=null;try{p=z.exprReturn(W)}catch(f){throw z.locals=a,z.depth=l,f}return z.locals=a,z.depth=l,p},X=Reflect.makeVarArgs(Z);if(null!=R)if(0==this.depth)this.variables.set(R,X);else{this.declared.push({n:R,old:this.locals.get(R)});var q={r:X};this.locals.set(R,q),U.set(R,q)}return X;case 17:for(var J=e[2],et=new Array,tt=0;tt<J.length;){var nt=J[tt];++tt,et.push(this.expr(nt))}return et;case 16:var rt=e[3],it=e[2];return this.expr(it)[this.expr(rt)];case 18:for(var ot=e[3],st=e[2],at=new Array,lt=0;lt<ot.length;){var ct=ot[lt];++lt,at.push(this.expr(ct))}return this.cnew(st,at);case 19:var ut=e[2];throw this.expr(ut);case 20:var ht=e[5],pt=e[3],ft=e[2],dt=this.declared.length;try{var gt=this.expr(ft);return this.restore(dt),gt}catch(mt){if(js.Boot.__instanceof(mt,hscript._Interp.Stop)){var vt=mt;throw vt}var yt=mt;this.restore(dt),this.declared.push({n:pt,old:this.locals.get(pt)}),this.locals.set(pt,{r:yt});var _t=this.expr(ht);return this.restore(dt),_t}break;case 21:for(var xt=e[2],bt={},wt=0;wt<xt.length;){var Ct=xt[wt];++wt,this.set(bt,Ct.name,this.expr(Ct.e))}return bt;case 22:var kt=e[4],St=e[3],Tt=e[2];return this.expr(1==this.expr(Tt)?St:kt);case 23:for(var Et=e[4],Ft=e[3],It=e[2],Dt=this.expr(It),At=!1,Lt=0;Lt<Ft.length;){var Mt=Ft[Lt];++Lt;for(var Bt=0,Ot=Mt.values;Bt<Ot.length;){var Nt=Ot[Bt];if(++Bt,this.expr(Nt)==Dt){At=!0;break}}if(At){Dt=this.expr(Mt.expr);break}}return At||(Dt=null==Et?null:this.expr(Et)),Dt}return null},whileLoop:function(e,t){var n=this.declared.length;try{for(;1==this.expr(e);)try{this.expr(t)}catch(r){if(!js.Boot.__instanceof(r,hscript._Interp.Stop))throw r;switch(r[1]){case 1:break;case 0:throw"__break__";case 2:throw r}}}catch(t){if("__break__"!=t)throw t}this.restore(n)},makeIterator:function(e){try{e=$iterator(e)()}catch(t){}return(null==e.hasNext||null==e.next)&&this.error(hscript.Error.EInvalidIterator(e)),e},forLoop:function(e,t,n){var r=this.declared.length;this.declared.push({n:e,old:this.locals.get(e)});var i=this.makeIterator(this.expr(t));try{for(;i.hasNext();){var o={r:i.next()};this.locals.set(e,o);try{this.expr(n)}catch(s){if(!js.Boot.__instanceof(s,hscript._Interp.Stop))throw s;switch(s[1]){case 1:break;case 0:throw"__break__";case 2:throw s}}}}catch(n){if("__break__"!=n)throw n}this.restore(r)},get:function(e,t){return null==e&&this.error(hscript.Error.EInvalidAccess(t)),Reflect.field(e,t)},set:function(e,t,n){return null==e&&this.error(hscript.Error.EInvalidAccess(t)),e[t]=n,n},fcall:function(e,t,n){return this.call(e,Reflect.field(e,t),n)},call:function(e,t,n){return t.apply(e,n)},cnew:function(e,t){var n=Type.resolveClass(e);return null==n&&(n=this.resolve(e)),Type.createInstance(n,t)},__class__:hscript.Interp},hscript.Token=$hxClasses["hscript.Token"]={__ename__:["hscript","Token"],__constructs__:["TEof","TConst","TId","TOp","TPOpen","TPClose","TBrOpen","TBrClose","TDot","TComma","TSemicolon","TBkOpen","TBkClose","TQuestion","TDoubleDot"]},hscript.Token.TEof=["TEof",0],hscript.Token.TEof.toString=$estr,hscript.Token.TEof.__enum__=hscript.Token,hscript.Token.TConst=function(e){var t=["TConst",1,e];return t.__enum__=hscript.Token,t.toString=$estr,t},hscript.Token.TId=function(e){var t=["TId",2,e];return t.__enum__=hscript.Token,t.toString=$estr,t},hscript.Token.TOp=function(e){var t=["TOp",3,e];return t.__enum__=hscript.Token,t.toString=$estr,t},hscript.Token.TPOpen=["TPOpen",4],hscript.Token.TPOpen.toString=$estr,hscript.Token.TPOpen.__enum__=hscript.Token,hscript.Token.TPClose=["TPClose",5],hscript.Token.TPClose.toString=$estr,hscript.Token.TPClose.__enum__=hscript.Token,hscript.Token.TBrOpen=["TBrOpen",6],hscript.Token.TBrOpen.toString=$estr,hscript.Token.TBrOpen.__enum__=hscript.Token,hscript.Token.TBrClose=["TBrClose",7],hscript.Token.TBrClose.toString=$estr,hscript.Token.TBrClose.__enum__=hscript.Token,hscript.Token.TDot=["TDot",8],hscript.Token.TDot.toString=$estr,hscript.Token.TDot.__enum__=hscript.Token,hscript.Token.TComma=["TComma",9],hscript.Token.TComma.toString=$estr,hscript.Token.TComma.__enum__=hscript.Token,hscript.Token.TSemicolon=["TSemicolon",10],hscript.Token.TSemicolon.toString=$estr,hscript.Token.TSemicolon.__enum__=hscript.Token,hscript.Token.TBkOpen=["TBkOpen",11],hscript.Token.TBkOpen.toString=$estr,hscript.Token.TBkOpen.__enum__=hscript.Token,hscript.Token.TBkClose=["TBkClose",12],hscript.Token.TBkClose.toString=$estr,hscript.Token.TBkClose.__enum__=hscript.Token,hscript.Token.TQuestion=["TQuestion",13],hscript.Token.TQuestion.toString=$estr,hscript.Token.TQuestion.__enum__=hscript.Token,hscript.Token.TDoubleDot=["TDoubleDot",14],hscript.Token.TDoubleDot.toString=$estr,hscript.Token.TDoubleDot.__enum__=hscript.Token,hscript.Token.__empty_constructs__=[hscript.Token.TEof,hscript.Token.TPOpen,hscript.Token.TPClose,hscript.Token.TBrOpen,hscript.Token.TBrClose,hscript.Token.TDot,hscript.Token.TComma,hscript.Token.TSemicolon,hscript.Token.TBkOpen,hscript.Token.TBkClose,hscript.Token.TQuestion,hscript.Token.TDoubleDot],hscript.Parser=function(){this.uid=0,this.line=1,this.opChars="+*/-=!><&|^%~",this.identChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";var e=[["%"],["*","/"],["+","-"],["<<",">>",">>>"],["|","&","^"],["==","!=",">","<",">=","<="],["..."],["&&"],["||"],["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","&=","^="]];this.opPriority=new haxe.ds.StringMap,this.opRightAssoc=new haxe.ds.StringMap,this.unops=new haxe.ds.StringMap;for(var t=0,n=e.length;n>t;)for(var r=t++,i=0,o=e[r];i<o.length;){var s=o[i];++i,this.opPriority.set(s,r),9==r&&this.opRightAssoc.set(s,!0)}for(var a=0,l=["!","++","--","-","~"];a<l.length;){var c=l[a];++a,this.unops.set(c,"++"==c||"--"==c)}},$hxClasses["hscript.Parser"]=hscript.Parser,hscript.Parser.__name__=["hscript","Parser"],hscript.Parser.prototype={line:null,opChars:null,identChars:null,opPriority:null,opRightAssoc:null,unops:null,allowJSON:null,allowTypes:null,input:null,"char":null,ops:null,idents:null,uid:null,tokens:null,error:function(e){throw e},invalidChar:function(e){this.error(hscript.Error.EInvalidChar(e),0,0)},parseString:function(e){return this.line=1,this.uid=0,this.parse(new haxe.io.StringInput(e))},parse:function(e){this.tokens=new haxe.ds.GenericStack,this["char"]=-1,this.input=e,this.ops=new Array,this.idents=new Array;for(var t=0,n=this.opChars.length;n>t;){var r=t++;this.ops[HxOverrides.cca(this.opChars,r)]=!0}for(var i=0,o=this.identChars.length;o>i;){var s=i++;this.idents[HxOverrides.cca(this.identChars,s)]=!0}for(var a=new Array;;){var l=this.token();if(l==hscript.Token.TEof)break;this.tokens.add(l),a.push(this.parseFullExpr())}return 1==a.length?a[0]:this.mk(hscript.Expr.EBlock(a),0,null)},unexpected:function(e){return this.error(hscript.Error.EUnexpected(this.tokenString(e)),0,0),null},push:function(e){this.tokens.add(e)},ensure:function(e){var t=this.token();t!=e&&this.unexpected(t)},expr:function(e){return e},pmin:function(){return 0},pmax:function(){return 0},mk:function(e){return e},isBlock:function(e){switch(e[1]){case 4:case 21:case 23:return!0;case 14:var t=e[3];return this.isBlock(t);case 2:var n=e[4];return null!=n&&this.isBlock(n);case 9:var r=e[4],i=e[3];return this.isBlock(null!=r?r:i);case 6:var o=e[4];return this.isBlock(o);case 7:var s=e[4],a=e[3];return!a&&this.isBlock(s);case 10:var l=e[3];return this.isBlock(l);case 11:var c=e[4];return this.isBlock(c);case 15:var u=e[2];return null!=u&&this.isBlock(u);default:return!1}},parseFullExpr:function(){var e=this.parseExpr(),t=this.token();return t!=hscript.Token.TSemicolon&&t!=hscript.Token.TEof&&(this.isBlock(e)?this.tokens.add(t):this.unexpected(t)),e},parseObject:function(e){var t=new Array;try{for(;;){var n=this.token(),r=null;switch(n[1]){case 2:var i=n[2];r=i;break;case 1:var o=n[2];switch(this.allowJSON||this.unexpected(n),o[1]){case 2:var s=o[2];r=s;break;default:this.unexpected(n)}break;case 7:throw"__break__";default:this.unexpected(n)}switch(this.ensure(hscript.Token.TDoubleDot),t.push({name:r,e:this.parseExpr()}),n=this.token(),n[1]){case 7:throw"__break__";case 9:break;default:this.unexpected(n)}}}catch(a){if("__break__"!=a)throw a}return this.parseExprNext(this.mk(hscript.Expr.EObject(t),e,null))},parseExpr:function(){var e=this.token();switch(e[1]){case 2:var t=e[2],n=this.parseStructure(t);return null==n&&(n=this.mk(hscript.Expr.EIdent(t),null,null)),this.parseExprNext(n);case 1:var r=e[2];return this.parseExprNext(this.mk(hscript.Expr.EConst(r),null,null));case 4:var i=this.parseExpr();return this.ensure(hscript.Token.TPClose),this.parseExprNext(this.mk(hscript.Expr.EParent(i),0,0));case 6:switch(e=this.token(),e[1]){case 7:return this.parseExprNext(this.mk(hscript.Expr.EObject([]),0,null));case 2:var o=this.token();switch(this.tokens.add(o),this.tokens.add(e),o[1]){case 14:return this.parseExprNext(this.parseObject(0))}break;case 1:var s=e[2];if(this.allowJSON)switch(s[1]){case 2:var a=this.token();switch(this.tokens.add(a),this.tokens.add(e),a[1]){case 14:return this.parseExprNext(this.parseObject(0))}break;default:this.tokens.add(e)}else this.tokens.add(e);break;default:this.tokens.add(e)}for(var l=new Array;;){if(l.push(this.parseFullExpr()),e=this.token(),e==hscript.Token.TBrClose)break;this.tokens.add(e)}return this.mk(hscript.Expr.EBlock(l),0,null);case 3:var c=e[2];return this.unops.exists(c)?this.makeUnop(c,this.parseExpr()):this.unexpected(e);case 11:var u=new Array;for(e=this.token();e!=hscript.Token.TBkClose;)this.tokens.add(e),u.push(this.parseExpr()),e=this.token(),e==hscript.Token.TComma&&(e=this.token());if(1==u.length){var h=u[0];switch(h[1]){case 11:case 10:var p="__a_"+this.uid++,f=this.mk(hscript.Expr.EBlock([this.mk(hscript.Expr.EVar(p,null,this.mk(hscript.Expr.EArrayDecl([]),0,null)),0,null),this.mapCompr(p,u[0]),this.mk(hscript.Expr.EIdent(p),0,null)]),0,null);return this.parseExprNext(f)}}return this.parseExprNext(this.mk(hscript.Expr.EArrayDecl(u),0,null));default:return this.unexpected(e)}},mapCompr:function(e,t){var n;switch(t[1]){case 11:var r=t[4],i=t[3],o=t[2];n=hscript.Expr.EFor(o,i,this.mapCompr(e,r));break;case 10:var s=t[3],a=t[2];n=hscript.Expr.EWhile(a,this.mapCompr(e,s));break;case 9:var l=t[4],c=t[3],u=t[2];n=null==l?hscript.Expr.EIf(u,this.mapCompr(e,c),null):hscript.Expr.ECall(this.mk(hscript.Expr.EField(this.mk(hscript.Expr.EIdent(e),0,0),"push"),0,0),[t]);break;case 4:switch(t[2].length){case 1:var h=t[2][0];n=hscript.Expr.EBlock([this.mapCompr(e,h)]);break;default:n=hscript.Expr.ECall(this.mk(hscript.Expr.EField(this.mk(hscript.Expr.EIdent(e),0,0),"push"),0,0),[t])}break;case 3:var p=t[2];n=hscript.Expr.EParent(this.mapCompr(e,p));break;default:n=hscript.Expr.ECall(this.mk(hscript.Expr.EField(this.mk(hscript.Expr.EIdent(e),0,0),"push"),0,0),[t])}return n},makeUnop:function(e,t){switch(t[1]){case 6:var n=t[4],r=t[3],i=t[2];return this.mk(hscript.Expr.EBinop(i,this.makeUnop(e,r),n),0,0);case 22:var o=t[4],s=t[3],a=t[2];return this.mk(hscript.Expr.ETernary(this.makeUnop(e,a),s,o),0,0);default:return this.mk(hscript.Expr.EUnop(e,!0,t),0,0)}},makeBinop:function(e,t,n){switch(n[1]){case 6:var r=n[4],i=n[3],o=n[2];return this.opPriority.get(e)<=this.opPriority.get(o)&&!this.opRightAssoc.exists(e)?this.mk(hscript.Expr.EBinop(o,this.makeBinop(e,t,i),r),0,0):this.mk(hscript.Expr.EBinop(e,t,n),0,0);case 22:var s=n[4],a=n[3],l=n[2];return this.opRightAssoc.exists(e)?this.mk(hscript.Expr.EBinop(e,t,n),0,0):this.mk(hscript.Expr.ETernary(this.makeBinop(e,t,l),a,s),0,0);default:return this.mk(hscript.Expr.EBinop(e,t,n),0,0)}},parseStructure:function(e){switch(e){case"if":var t=this.parseExpr(),n=this.parseExpr(),r=null,i=!1,o=this.token();return o==hscript.Token.TSemicolon&&(i=!0,o=this.token()),Type.enumEq(o,hscript.Token.TId("else"))?r=this.parseExpr():(this.tokens.add(o),i&&this.tokens.add(hscript.Token.TSemicolon)),this.mk(hscript.Expr.EIf(t,n,r),0,null==r?0:0);case"var":var s=this.token(),a=null;switch(s[1]){case 2:var l=s[2];a=l;break;default:this.unexpected(s)}s=this.token();var c=null;s==hscript.Token.TDoubleDot&&this.allowTypes&&(c=this.parseType(),s=this.token());var u=null;return Type.enumEq(s,hscript.Token.TOp("="))?u=this.parseExpr():this.tokens.add(s),this.mk(hscript.Expr.EVar(a,c,u),0,null==u?0:0);case"while":var h=this.parseExpr(),p=this.parseExpr();return this.mk(hscript.Expr.EWhile(h,p),0,0);case"for":this.ensure(hscript.Token.TPOpen);var f=this.token(),d=null;switch(f[1]){case 2:var g=f[2];d=g;break;default:this.unexpected(f)}f=this.token(),Type.enumEq(f,hscript.Token.TId("in"))||this.unexpected(f);var m=this.parseExpr();this.ensure(hscript.Token.TPClose);var v=this.parseExpr();return this.mk(hscript.Expr.EFor(d,m,v),0,0);case"break":return hscript.Expr.EBreak;case"continue":return hscript.Expr.EContinue;case"else":return this.unexpected(hscript.Token.TId(e));case"function":var y=this.token(),_=null;switch(y[1]){case 2:var x=y[2];_=x;break;default:this.tokens.add(y)}this.ensure(hscript.Token.TPOpen);var b=new Array;if(y=this.token(),y!=hscript.Token.TPClose)for(var w=!1;!w;){var C=null,k=!1;switch(y[1]){case 13:k=!0,y=this.token()}switch(y[1]){case 2:var S=y[2];C=S;break;default:this.unexpected(y)}y=this.token();var T={name:C};switch(b.push(T),k&&(T.opt=!0),y==hscript.Token.TDoubleDot&&this.allowTypes&&(T.t=this.parseType(),y=this.token()),y[1]){case 9:y=this.token();break;case 5:w=!0;break;default:this.unexpected(y)}}var E=null;this.allowTypes&&(y=this.token(),y!=hscript.Token.TDoubleDot?this.tokens.add(y):E=this.parseType());var F=this.parseExpr();return this.mk(hscript.Expr.EFunction(b,F,_,E),0,0);case"return":var I=this.token();this.tokens.add(I);var D;return D=I==hscript.Token.TSemicolon?null:this.parseExpr(),this.mk(hscript.Expr.EReturn(D),0,null==D?0:0);case"new":var A=new Array,L=this.token();switch(L[1]){case 2:var M=L[2];A.push(M);break;default:this.unexpected(L)}for(var B=!0;B;)switch(L=this.token(),L[1]){case 8:switch(L=this.token(),L[1]){case 2:var O=L[2];A.push(O);break;default:this.unexpected(L)}break;case 4:B=!1;break;default:this.unexpected(L)}var N=this.parseExprList(hscript.Token.TPClose);return this.mk(hscript.Expr.ENew(A.join("."),N),0,null);case"throw":var $=this.parseExpr();return this.mk(hscript.Expr.EThrow($),0,0);case"try":var P=this.parseExpr(),H=this.token();Type.enumEq(H,hscript.Token.TId("catch"))||this.unexpected(H),this.ensure(hscript.Token.TPOpen),H=this.token();var j;switch(H[1]){case 2:var R=H[2];j=R;break;default:j=this.unexpected(H)}this.ensure(hscript.Token.TDoubleDot);var W=null;this.allowTypes?W=this.parseType():(H=this.token(),Type.enumEq(H,hscript.Token.TId("Dynamic"))||this.unexpected(H)),this.ensure(hscript.Token.TPClose);var V=this.parseExpr();return this.mk(hscript.Expr.ETry(P,j,W,V),0,0);case"switch":var U=this.parseExpr(),z=null,G=[];this.ensure(hscript.Token.TBrOpen);try{for(;;){var K=this.token();switch(K[1]){case 2:switch(K[2]){case"case":var Y={values:[],expr:null};G.push(Y);try{for(;;){var Q=this.parseExpr();switch(Y.values.push(Q),K=this.token(),K[1]){case 9:break;case 14:throw"__break__";default:this.unexpected(K)}}}catch(u){if("__break__"!=u)throw u}var Z=[];try{for(;;)switch(K=this.token(),this.tokens.add(K),K[1]){case 2:switch(K[2]){case"case":case"default":throw"__break__";default:Z.push(this.parseFullExpr())}break;case 7:throw"__break__";default:Z.push(this.parseFullExpr())}}catch(u){if("__break__"!=u)throw u}Y.expr=1==Z.length?Z[0]:0==Z.length?this.mk(hscript.Expr.EBlock([]),0,0):this.mk(hscript.Expr.EBlock(Z),0,0);break;case"default":null!=z&&this.unexpected(K),this.ensure(hscript.Token.TDoubleDot);var X=[];try{for(;;)switch(K=this.token(),this.tokens.add(K),K[1]){case 2:switch(K[2]){case"case":case"default":throw"__break__";default:X.push(this.parseFullExpr())}break;case 7:throw"__break__";default:X.push(this.parseFullExpr())}}catch(u){if("__break__"!=u)throw u}z=1==X.length?X[0]:0==X.length?this.mk(hscript.Expr.EBlock([]),0,0):this.mk(hscript.Expr.EBlock(X),0,0);break;default:this.unexpected(K)}break;case 7:throw"__break__";default:this.unexpected(K)}}}catch(u){if("__break__"!=u)throw u}return this.mk(hscript.Expr.ESwitch(U,G,z),0,0);default:return null}},parseExprNext:function(e){var t=this.token();switch(t[1]){case 3:var n=t[2];return this.unops.get(n)?this.isBlock(e)||function(){var t;switch(e[1]){case 3:t=!0;break;default:t=!1}return t}(this)?(this.tokens.add(t),e):this.parseExprNext(this.mk(hscript.Expr.EUnop(n,!1,e),0,null)):this.makeBinop(n,e,this.parseExpr());case 8:t=this.token();var r=null;switch(t[1]){case 2:var i=t[2];r=i;break;default:this.unexpected(t)}return this.parseExprNext(this.mk(hscript.Expr.EField(e,r),0,null));case 4:return this.parseExprNext(this.mk(hscript.Expr.ECall(e,this.parseExprList(hscript.Token.TPClose)),0,null));case 11:var o=this.parseExpr();return this.ensure(hscript.Token.TBkClose),this.parseExprNext(this.mk(hscript.Expr.EArray(e,o),0,null));case 13:var s=this.parseExpr();this.ensure(hscript.Token.TDoubleDot);var a=this.parseExpr();return this.mk(hscript.Expr.ETernary(e,s,a),0,0);default:return this.tokens.add(t),e}},parseType:function(){var e=this.token();switch(e[1]){case 2:for(var t=e[2],n=[t];;){if(e=this.token(),e!=hscript.Token.TDot)break;switch(e=this.token(),e[1]){case 2:var r=e[2];n.push(r);break;default:this.unexpected(e)}}var i=null;switch(e[1]){case 3:var o=e[2];if("<"==o){i=[];try{for(;;){switch(i.push(this.parseType()),e=this.token(),e[1]){case 9:continue;case 3:var s=e[2];if(">"==s)throw"__break__"}this.unexpected(e)}}catch(a){if("__break__"!=a)throw a}}else this.tokens.add(e);break;default:this.tokens.add(e)}return this.parseTypeNext(hscript.CType.CTPath(n,i));case 4:var l=this.parseType();return this.ensure(hscript.Token.TPClose),this.parseTypeNext(hscript.CType.CTParent(l));case 6:var c=[];try{for(;;)switch(e=this.token(),e[1]){case 7:throw"__break__";case 2:var u=e[2];switch(this.ensure(hscript.Token.TDoubleDot),c.push({name:u,t:this.parseType()}),e=this.token(),e[1]){case 9:break;case 7:throw"__break__";default:this.unexpected(e)}break;default:this.unexpected(e)}}catch(a){if("__break__"!=a)throw a}return this.parseTypeNext(hscript.CType.CTAnon(c));default:return this.unexpected(e)}},parseTypeNext:function(e){var t=this.token();switch(t[1]){case 3:var n=t[2];if("->"!=n)return this.tokens.add(t),e;break;default:return this.tokens.add(t),e}var r=this.parseType();switch(r[1]){case 1:var i=r[2];return i.unshift(e),r;default:return hscript.CType.CTFun([e],r)}},parseExprList:function(e){var t=new Array,n=this.token();if(n==e)return t;this.tokens.add(n);try{for(;;)switch(t.push(this.parseExpr()),n=this.token(),n[1]){case 9:break;default:if(n==e)throw"__break__";this.unexpected(n)}}catch(r){if("__break__"!=r)throw r}return t},incPos:function(){},readChar:function(){try{return this.input.readByte()}catch(e){return 0}},readString:function(e){for(var t=0,n=new haxe.io.BytesOutput,r=!1,i=this.line,o=this.input;;){try{t=o.readByte()}catch(s){throw this.line=i,hscript.Error.EUnterminatedString}if(r)switch(r=!1,t){case 110:n.writeByte(10);break;case 114:n.writeByte(13);break;case 116:n.writeByte(9);break;case 39:case 34:case 92:n.writeByte(t);break;case 47:this.allowJSON?n.writeByte(t):this.invalidChar(t);break;case 117:if(!this.allowJSON)throw this.invalidChar(t);var a=null;try{a=o.readString(4)}catch(l){throw this.line=i,hscript.Error.EUnterminatedString}for(var c=0,u=0;4>u;){var h=u++;c<<=4;var p=HxOverrides.cca(a,h);switch(p){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:c+=p-48;break;case 65:case 66:case 67:case 68:case 69:case 70:c+=p-55;break;case 97:case 98:case 99:case 100:case 101:case 102:c+=p-87;break;default:this.invalidChar(p)}}127>=c?n.writeByte(c):2047>=c?(n.writeByte(192|c>>6),n.writeByte(128|63&c)):(n.writeByte(224|c>>12),n.writeByte(128|c>>6&63),n.writeByte(128|63&c));break;default:this.invalidChar(t)}else if(92==t)r=!0;else{if(t==e)break;10==t&&this.line++,n.writeByte(t)}}return n.getBytes().toString()},token:function(){if(null!=this.tokens.head)return this.tokens.pop();var e;for(this["char"]<0?e=this.readChar():(e=this["char"],this["char"]=-1);;){switch(e){case 0:return hscript.Token.TEof;case 32:case 9:case 13:break;case 10:this.line++;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var t=1*(e-48),n=0;;)switch(e=this.readChar(),n*=10,e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:t=10*t+(e-48);break;case 46:if(n>0){if(10==n&&46==this.readChar()){this.push(hscript.Token.TOp("..."));var r=0|t;return hscript.Token.TConst(r==t?hscript.Const.CInt(r):hscript.Const.CFloat(t))}this.invalidChar(e)}n=1;break;case 120:(t>0||n>0)&&this.invalidChar(e);for(var i=0;;)switch(e=this.readChar()){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:i=(i<<4)+e-48;break;case 65:case 66:case 67:case 68:case 69:case 70:i=(i<<4)+(e-55);break;case 97:case 98:case 99:case 100:case 101:case 102:i=(i<<4)+(e-87);break;default:return this["char"]=e,hscript.Token.TConst(hscript.Const.CInt(i))}break;default:this["char"]=e;var o=0|t;return hscript.Token.TConst(n>0?hscript.Const.CFloat(10*t/n):o==t?hscript.Const.CInt(o):hscript.Const.CFloat(t))}break;case 59:return hscript.Token.TSemicolon;case 40:return hscript.Token.TPOpen;case 41:return hscript.Token.TPClose;case 44:return hscript.Token.TComma;case 46:switch(e=this.readChar()){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var s=e-48,a=1;;)switch(e=this.readChar(),a*=10,e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s=10*s+(e-48);break;default:return this["char"]=e,hscript.Token.TConst(hscript.Const.CFloat(s/a))}break;case 46:return e=this.readChar(),46!=e&&this.invalidChar(e),hscript.Token.TOp("...");default:return this["char"]=e,hscript.Token.TDot}break;case 123:return hscript.Token.TBrOpen;case 125:return hscript.Token.TBrClose;case 91:return hscript.Token.TBkOpen;case 93:return hscript.Token.TBkClose;case 39:return hscript.Token.TConst(hscript.Const.CString(this.readString(39)));case 34:return hscript.Token.TConst(hscript.Const.CString(this.readString(34)));case 63:return hscript.Token.TQuestion;case 58:return hscript.Token.TDoubleDot;default:if(this.ops[e])for(var l=String.fromCharCode(e);;){if(e=this.readChar(),!this.ops[e])return 47==HxOverrides.cca(l,0)?this.tokenComment(l,e):(this["char"]=e,hscript.Token.TOp(l));l+=String.fromCharCode(e)}if(this.idents[e])for(var c=String.fromCharCode(e);;){if(e=this.readChar(),!this.idents[e])return this["char"]=e,hscript.Token.TId(c);c+=String.fromCharCode(e)}this.invalidChar(e)}e=this.readChar()}return null},tokenComment:function(e,t){var n=HxOverrides.cca(e,1),r=this.input;if(47==n){try{for(;10!=t&&13!=t;)t=r.readByte();this["char"]=t}catch(i){}return this.token()}if(42==n){var o=this.line;try{for(;;){for(;42!=t;)10==t&&this.line++,t=r.readByte();if(t=r.readByte(),47==t)break}}catch(s){throw this.line=o,hscript.Error.EUnterminatedComment}return this.token()}return this["char"]=t,hscript.Token.TOp(e)},constString:function(e){switch(e[1]){case 0:var t=e[2];return null==t?"null":""+t;case 1:var n=e[2];return null==n?"null":""+n;case 2:var r=e[2];return r}},tokenString:function(e){switch(e[1]){case 0:return"<eof>";case 1:var t=e[2];return this.constString(t);case 2:var n=e[2];return n;case 3:var r=e[2];return r;case 4:return"(";case 5:return")";case 6:return"{";case 7:return"}";case 8:return".";case 9:return",";case 10:return";";case 11:return"[";case 12:return"]";case 13:return"?";case 14:return":"}},__class__:hscript.Parser};var js={};js.Boot=function(){},$hxClasses["js.Boot"]=js.Boot,js.Boot.__name__=["js","Boot"],js.Boot.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},js.Boot.__trace=function(e,t){var n;if(n=null!=t?t.fileName+":"+t.lineNumber+": ":"",n+=js.Boot.__string_rec(e,""),null!=t&&null!=t.customParams)for(var r=0,i=t.customParams;r<i.length;){var o=i[r];++r,n+=","+js.Boot.__string_rec(o,"")}var s;"undefined"!=typeof document&&null!=(s=document.getElementById("haxe:trace"))?s.innerHTML+=js.Boot.__unhtml(n)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(n)},js.Boot.__clear_trace=function(){var e=document.getElementById("haxe:trace");null!=e&&(e.innerHTML="")},js.Boot.isClass=function(e){return e.__name__},js.Boot.isEnum=function(e){return e.__ename__},js.Boot.getClass=function(e){return e instanceof Array&&null==e.__enum__?Array:e.__class__},js.Boot.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var n=typeof e;switch("function"==n&&(e.__name__||e.__ename__)&&(n="object"),n){case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var r=e[0]+"(";t+="	";for(var i=2,o=e.length;o>i;){var s=i++;r+=2!=s?","+js.Boot.__string_rec(e[s],t):js.Boot.__string_rec(e[s],t)}return r+")"}var a=e.length,l="[";t+="	";for(var c=0;a>c;){var u=c++;l+=(u>0?",":"")+js.Boot.__string_rec(e[u],t)}return l+="]"}var h;try{h=e.toString}catch(p){return"???"}if(null!=h&&h!=Object.toString){var f=e.toString();if("[object Object]"!=f)return f}var d=null,g="{\n";t+="	";var m=null!=e.hasOwnProperty;for(var d in e)(!m||e.hasOwnProperty(d))&&"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=g.length&&(g+=", \n"),g+=t+d+" : "+js.Boot.__string_rec(e[d],t));return t=t.substring(1),g+="\n"+t+"}";case"function":return"<function>";case"string":return e;default:return String(e)}},js.Boot.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var n=e.__interfaces__;if(null!=n)for(var r=0,i=n.length;i>r;){var o=r++,s=n[o];if(s==t||js.Boot.__interfLoop(s,t))return!0}return js.Boot.__interfLoop(e.__super__,t)},js.Boot.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Int:return(0|e)===e;case Float:return"number"==typeof e;case Bool:return"boolean"==typeof e;case String:return"string"==typeof e;case Array:return e instanceof Array&&null==e.__enum__;case Dynamic:return!0;default:if(null==e)return!1;if("function"==typeof t){if(e instanceof t)return!0;if(js.Boot.__interfLoop(js.Boot.getClass(e),t))return!0}return t==Class&&null!=e.__name__?!0:t==Enum&&null!=e.__ename__?!0:e.__enum__==t}},js.Boot.__cast=function(e,t){if(js.Boot.__instanceof(e,t))return e;throw"Cannot cast "+Std.string(e)+" to "+Std.string(t)},js.Browser=function(){},$hxClasses["js.Browser"]=js.Browser,js.Browser.__name__=["js","Browser"],js.Browser.__properties__={get_supported:"get_supported",get_navigator:"get_navigator",get_location:"get_location",get_document:"get_document",get_window:"get_window"},js.Browser.get_window=function(){return window},js.Browser.get_document=function(){return window.document},js.Browser.get_location=function(){return window.location},js.Browser.get_navigator=function(){return window.navigator},js.Browser.get_supported=function(){return"undefined"!=typeof window},js.Browser.getLocalStorage=function(){try{var e=window.localStorage;
return e.getItem(""),e}catch(t){return null}},js.Browser.getSessionStorage=function(){try{var e=window.sessionStorage;return e.getItem(""),e}catch(t){return null}},js.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw"Unable to create XMLHttpRequest object."},js.Lib=function(){},$hxClasses["js.Lib"]=js.Lib,js.Lib.__name__=["js","Lib"],js.Lib.debug=function(){},js.Lib.alert=function(e){alert(js.Boot.__string_rec(e,""))},js.Lib.eval=function(code){return eval(code)},js.html={},js.html._CanvasElement={},js.html._CanvasElement.CanvasUtil=function(){},$hxClasses["js.html._CanvasElement.CanvasUtil"]=js.html._CanvasElement.CanvasUtil,js.html._CanvasElement.CanvasUtil.__name__=["js","html","_CanvasElement","CanvasUtil"],js.html._CanvasElement.CanvasUtil.getContextWebGL=function(e,t){for(var n=0,r=["webgl","experimental-webgl"];n<r.length;){var i=r[n];++n;var o=e.getContext(i,t);if(null!=o)return o}return null};var pgr={};pgr.dconsole={},pgr.dconsole.DC=$hx_exports.pgr.dconsole.DC=function(){},$hxClasses["pgr.dconsole.DC"]=pgr.dconsole.DC,pgr.dconsole.DC.__name__=["pgr","dconsole","DC"],pgr.dconsole.DC.instance=null,pgr.dconsole.DC.init=function(e,t,n,r,i){null==t&&(t="DOWN"),null==e&&(e=33),null==pgr.dconsole.DC.instance&&(null==r&&(r=new pgr.dconsole.input.DCEmptyInput),null==i&&(i=new pgr.dconsole.ui.DCEmtpyInterface),pgr.dconsole.DC.instance=new pgr.dconsole.DConsole(r,i,n),pgr.dconsole.DC.logInfo("~~~~~~~~~~ DCONSOLE ~~~~~~~~~~ (v4.3.2)"))},pgr.dconsole.DC.setConsoleFont=function(e,t,n,r,i,o){null==o&&(o=!1),null==i&&(i=!1),null==r&&(r=!1),null==n&&(n=14),null==t&&(t=!0),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.interfc.setConsoleFont(e,t,n,r,i,o)},pgr.dconsole.DC.setPromptFont=function(e,t,n,r,i,o){null==o&&(o=!1),null==i&&(i=!1),null==r&&(r=!1),null==n&&(n=16),null==t&&(t=!0),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.interfc.setPromptFont(e,t,n,r,i,o)},pgr.dconsole.DC.setMonitorFont=function(e,t,n,r,i,o){null==o&&(o=!1),null==i&&(i=!1),null==r&&(r=!1),null==n&&(n=14),null==t&&(t=!0),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.interfc.setConsoleFont(e,t,n,r,i,o)},pgr.dconsole.DC.setFont=function(e,t,n,r,i,o){null==o&&(o=!1),null==i&&(i=!1),null==r&&(r=!1),null==n&&(n=16),null==t&&(t=!0),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.interfc.setConsoleFont(e,t,n,r,i,o),pgr.dconsole.DC.instance.interfc.setPromptFont(e,t,n,r,i,o),pgr.dconsole.DC.instance.interfc.setConsoleFont(e,t,n,r,i,o),pgr.dconsole.DC.instance.interfc.setProfilerFont(e,t,n,r,i,o)},pgr.dconsole.DC.showConsole=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.showConsole()},pgr.dconsole.DC.hideConsole=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.hideConsole()},pgr.dconsole.DC.showMonitor=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.showMonitor()},pgr.dconsole.DC.hideMonitor=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.hideMonitor()},pgr.dconsole.DC.showProfiler=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.showProfiler()},pgr.dconsole.DC.hideProfiler=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.hideProfiler()},pgr.dconsole.DC.enable=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.enable()},pgr.dconsole.DC.disable=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.disable()},pgr.dconsole.DC.setConsoleKey=function(e,t,n,r){null==r&&(r=!1),null==n&&(n=!1),null==t&&(t=!1),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.setConsoleKey(e,t,n,r)},pgr.dconsole.DC.setMonitorKey=function(e,t,n,r){null==r&&(r=!1),null==n&&(n=!1),null==t&&(t=!1),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.setMonitorKey(e,t,n,r)},pgr.dconsole.DC.setProfilerKey=function(e,t,n,r){null==r&&(r=!1),null==n&&(n=!1),null==t&&(t=!1),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.setProfilerKey(e,t,n,r)},pgr.dconsole.DC.log=function(e,t){null==t&&(t=-1),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.log(e,t)},pgr.dconsole.DC.logWarning=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.logWarning(e)},pgr.dconsole.DC.logError=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.log(e,pgr.dconsole.DCThemes.current.LOG_ERR)},pgr.dconsole.DC.logConfirmation=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.logConfirmation(e)},pgr.dconsole.DC.logInfo=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.logInfo(e)},pgr.dconsole.DC.monitorField=function(e,t,n){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.monitorField(e,t,n)},pgr.dconsole.DC.setMonitorRefreshRate=function(e){null==e&&(e=100),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.monitor.setRefreshRate(e)},pgr.dconsole.DC.registerCommand=function(e,t,n,r,i){null==i&&(i=""),null==r&&(r=""),null==n&&(n=""),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.commands.registerCommand(e,t,n,r,i)},pgr.dconsole.DC.registerObject=function(e,t){null==t&&(t=""),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.commands.registerObject(e,t)},pgr.dconsole.DC.registerClass=function(e,t){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.commands.registerClass(e,t)},pgr.dconsole.DC.registerFunction=function(e,t,n){null==n&&(n=""),pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.commands.registerFunction(e,t,n)},pgr.dconsole.DC.unregisterFunction=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.commands.unregisterFunction(e)},pgr.dconsole.DC.unregisterObject=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.commands.unregisterObject(e)},pgr.dconsole.DC.clearConsole=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.clearConsole()},pgr.dconsole.DC.clearRegistry=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.commands.clearRegistry()},pgr.dconsole.DC.clearProfiler=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.profiler.clear()},pgr.dconsole.DC.clearMonitor=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.monitor.clear()},pgr.dconsole.DC.toFront=function(){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.interfc.toFront()},pgr.dconsole.DC.beginProfile=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.profiler.begin(e)},pgr.dconsole.DC.endProfile=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.profiler.end(e)},pgr.dconsole.DC.setVerboseErrors=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.commands.printErrorStack=e},pgr.dconsole.DC.eval=function(e){pgr.dconsole.DC.checkInstance(),pgr.dconsole.DC.instance.commands.evaluate(e)},pgr.dconsole.DC.checkInstance=function(){null==pgr.dconsole.DC.instance&&pgr.dconsole.DC.init()},pgr.dconsole.DCCommands=function(e){this.printErrorStack=!1,this.classMap=new haxe.ds.StringMap,this.commandsMap=new haxe.ds.StringMap,this.objectsMap=new haxe.ds.StringMap,this.functionsMap=new haxe.ds.StringMap,this._console=e,this.hScriptParser=new hscript.Parser,this.hScriptParser.allowTypes=!0,this.hScriptParser.allowJSON=!0,this.hScriptInterp=new pgr.dconsole.DCInterp,this.hScriptInterp.variables.set("objectsMap",this.objectsMap),this.registerClass(Math,"Math")},$hxClasses["pgr.dconsole.DCCommands"]=pgr.dconsole.DCCommands,pgr.dconsole.DCCommands.__name__=["pgr","dconsole","DCCommands"],pgr.dconsole.DCCommands.prototype={functionsMap:null,objectsMap:null,commandsMap:null,classMap:null,hScriptParser:null,hScriptInterp:null,printErrorStack:null,_console:null,registerClass:function(e,t){this.hScriptInterp.variables.exists(t)||null==e||(this.hScriptInterp.variables.set(t,e),this.classMap.set(t,e))},evaluate:function(e){var t=e.split(" "),n=t[0].toLowerCase();if(null!=n&&""!=n)for(var r=this.commandsMap.iterator();r.hasNext();){var i=r.next();if(n==i.alias||n==i.shortcut)return t.shift(),void i.callback(t)}try{0==StringTools.endsWith(StringTools.trim(e),";")&&(e=StringTools.trim(e)+";");var o=this.hScriptParser.parseString(e),s=this.hScriptInterp.exprReturn(o);("number"==typeof s||"boolean"==typeof s||null!=s)&&this._console.logConfirmation(s)}catch(a){if(this.printErrorStack)for(var l=haxe.CallStack.exceptionStack(),c=0;c<l.length;){var u=l[c];++c,this._console.log(u)}this._console.logError(Std.string(a))}},registerCommand:function(e,t,n,r,i){if(null==i&&(i=""),null==r&&(r=""),null==n&&(n=""),!Reflect.isFunction(e))return void this._console.logError("Command function "+Std.string(e)+" is not valid.");if(t=pgr.dconsole.DCUtil.formatAlias(this,t,pgr.dconsole.ALIAS_TYPE.COMMAND),null==t)return void this._console.log("Failed to register command, make sure alias or shortcut is correct");""!=n&&(n=pgr.dconsole.DCUtil.formatAlias(this,n,pgr.dconsole.ALIAS_TYPE.COMMAND),null==n&&(n=""));var o={callback:e,alias:t,shortcut:n,description:r,help:i};this.commandsMap.set(t,o)},registerFunction:function(e,t,n){if(!Reflect.isFunction(e))return void this._console.logError("Function "+Std.string(e)+" is not valid.");if(t=pgr.dconsole.DCUtil.formatAlias(this,t,pgr.dconsole.ALIAS_TYPE.FUNCTION),null==t)return void this._console.logError("Function "+Std.string(e)+" alias not valid");this.functionsMap.set(t,{callback:e,description:n});var r=e;this.hScriptInterp.variables.set(t,r)},registerObject:function(e,t){if(!Reflect.isObject(e))return void this._console.logError("dynamic passed is not an object.");if(t=""==t?pgr.dconsole.DCUtil.formatAlias(this,Type.getClassName(Type.getClass(e)).toLowerCase(),pgr.dconsole.ALIAS_TYPE.OBJECT):pgr.dconsole.DCUtil.formatAlias(this,t,pgr.dconsole.ALIAS_TYPE.OBJECT),null==t)return void this._console.logError("failed to register object "+Type.getClassName(Type.getClass(e))+" make sure object alias is correct");var n=e;this.objectsMap.set(t,n);var r=e;this.hScriptInterp.variables.set(t,r)},unregisterFunction:function(e){this.functionsMap.exists(e)&&(this.functionsMap.remove(e),this.hScriptInterp.variables.remove(e),this._console.logInfo(e+" unregistered.")),this._console.logError(e+" not found.")},unregisterObject:function(e){this.objectsMap.exists(e)&&(this.objectsMap.remove(e),this.hScriptInterp.variables.remove(e),this._console.logInfo(e+" unregistered.")),this._console.logError(e+" not found.")},clearRegistry:function(){this.functionsMap=new haxe.ds.StringMap,this.objectsMap=new haxe.ds.StringMap},showHelp:function(e){var t="\n";if(e.length>0){var n=e[0].toLowerCase();if(null==n||""==n)return void this._console.logWarning("Command name not found");for(var r=this.commandsMap.iterator();r.hasNext();){var i=r.next();if(n==i.alias||n==i.shortcut)return t+="command: "+i.alias.toUpperCase()+"\n",""!=i.shortcut&&(t+="shortcut: "+i.shortcut.toUpperCase()+"\n"),t+=i.description+"\n\n",t+=i.help+"\n",void this._console.logInfo(t)}}else t+="Type COMMANDS to view available commands\n",t+="'PAGEUP' or 'PAGEDOWN' keys to scroll text\n",t+="'UP' or 'DOWN' keys to navigate history\n",this._console.logInfo(t)},showCommands:function(){for(var e="",t=this.commandsMap.iterator();t.hasNext();){var n=t.next(),r=n.alias.toUpperCase();""!=n.shortcut&&(r+=" ("+n.shortcut.toUpperCase()+")"),r=StringTools.rpad(r," ",20),r+=n.description+"\n",e+=r}this._console.logInfo(e)},listFunctions:function(){for(var e="",t=this.functionsMap.keys();t.hasNext();){var n=t.next(),r="";r+=n,r=StringTools.rpad(r," ",20),r+=this.functionsMap.get(n).description+"\n",e+=r}return""==e.toString()?void this._console.logInfo("no functions registered."):void this._console.logConfirmation(e)},listObjects:function(){for(var e="",t=this.objectsMap.keys();t.hasNext();){var n=t.next();e+=n+"\n"}return""==e.toString()?void this._console.logInfo("no objects registered."):void this._console.logConfirmation(e)},listClasses:function(){for(var e="",t=this.classMap.keys();t.hasNext();){var n=t.next();e+=n+"\n"}return""==e.toString()?void this._console.logInfo("no classes registered."):void this._console.logConfirmation(e)},getFunction:function(e){return this.functionsMap.exists(e)?this.functionsMap.get(e).callback:null},getObject:function(e){return this.objectsMap.get(e)},getCommand:function(e){e=e.toLowerCase();for(var t=this.commandsMap.iterator();t.hasNext();){var n=t.next();if(n.alias==e||n.shortcut==e)return n}return null},getClass:function(e){return this.classMap.get(e)},__class__:pgr.dconsole.DCCommands},pgr.dconsole.DCInterp=function(){hscript.Interp.call(this),this.declared=new Array,this.depth=0},$hxClasses["pgr.dconsole.DCInterp"]=pgr.dconsole.DCInterp,pgr.dconsole.DCInterp.__name__=["pgr","dconsole","DCInterp"],pgr.dconsole.DCInterp.__super__=hscript.Interp,pgr.dconsole.DCInterp.prototype=$extend(hscript.Interp.prototype,{get:function(e,t){if(null==e)throw hscript.Error.EInvalidAccess(t);return Reflect.getProperty(e,t)},set:function(e,t,n){if(null==e)throw hscript.Error.EInvalidAccess(t);return Reflect.setProperty(e,t,n),n},__class__:pgr.dconsole.DCInterp}),pgr.dconsole.DCMonitor=function(e){this.console=e,this.fields=new Array,this.setRefreshRate()},$hxClasses["pgr.dconsole.DCMonitor"]=pgr.dconsole.DCMonitor,pgr.dconsole.DCMonitor.__name__=["pgr","dconsole","DCMonitor"],pgr.dconsole.DCMonitor.prototype={startTime:null,visible:null,refreshRate:null,fields:null,refreshTimer:null,hidden:null,console:null,show:function(){this.visible=!0,this.stopTimer(),this.startTimer(),this.writeOutput()},hide:function(){this.visible=!1,this.stopTimer()},addField:function(e,t,n){var r={object:e,field:t,alias:n};this.fields.push(r)},clear:function(){this.fields=new Array},setRefreshRate:function(e){null==e&&(e=100),this.refreshRate=e,this.startTimer()},writeOutput:function(){for(var e=new Array,t=0,n=this.fields;t<n.length;){var r=n[t];++t,e.push(r.alias+":"+Std.string(Reflect.getProperty(r.object,r.field))+"\n")}this.console.interfc.writeMonitorOutput(e)},stopTimer:function(){null!=this.refreshTimer&&(this.refreshTimer.stop(),this.refreshTimer=null)},startTimer:function(){null!=this.refreshTimer&&this.stopTimer(),this.refreshTimer=new haxe.Timer(this.refreshRate),this.refreshTimer.run=$bind(this,this.writeOutput)},__class__:pgr.dconsole.DCMonitor},pgr.dconsole.DCProfiler=function(e){this.console=e,this.history=new Array,this.samples=new Array,this.setRefreshRate()},$hxClasses["pgr.dconsole.DCProfiler"]=pgr.dconsole.DCProfiler,pgr.dconsole.DCProfiler.__name__=["pgr","dconsole","DCProfiler"],pgr.dconsole.DCProfiler.prototype={refreshRate:null,visible:null,samples:null,history:null,console:null,refreshTimer:null,clear:function(){for(var e=0,t=this.samples;e<t.length;){var n=t[e];++e,n.openInstances>0&&pgr.dconsole.DC.logWarning("cannot clear profiler while samples are open")}this.history=new Array,this.samples=new Array},show:function(){this.visible=!0,this.startTimer(),this.writeOutput()},hide:function(){this.visible=!1,this.stopTimer()},begin:function(e){var t=this.getSample(e);if(null!=t){if(t.openInstances++,t.instances++,t.startTime=this.getTimeMS(),t.parentName="",t.openInstances>1)throw e+" already started."}else t={name:e,startTime:this.getTimeMS(),elapsed:0,instances:1,openInstances:1,numParents:0,parentName:"",childrenElapsed:0},this.samples.push(t);this.setSampleParent(t)},end:function(e){var t=this.getSample(e);if(null==t)throw e+"not found";var n=this.getTimeMS(),r=n-t.startTime;if(t.openInstances<1)throw e+" is not started";t.openInstances--,t.elapsed+=r,""!=t.parentName&&(this.getSample(t.parentName).childrenElapsed+=r),0==t.numParents&&this.createHistory(t)},createHistory:function(e){var t=this.getHistory(e.name);null!=t?(t.clearBranchSamples(),t.update(e)):(t=new pgr.dconsole.SampleHistory(e),this.history.push(t));for(var n=0,r=this.samples;n<r.length;){var i=r[n];if(++n,i.numParents>0&&i.name!=e.name&&t.addChildEntry(i),i.openInstances>0)throw"cross sampling detected: "+i.name+" is still open inside "+e.name;i.numParents=0,i.parentName="",i.elapsed=0,i.openInstances=0,i.instances=0,i.childrenElapsed=0}},setRefreshRate:function(e){null==e&&(e=100),this.refreshRate=e},getFormatedDisplay:function(e,t){null==t&&(t=!0);var n="";return n+=StringTools.lpad(e," ",8),n+=" ",t&&(n+="|"),n},writeOutput:function(){var e="";e+=this.getFormatedDisplay("EL"),e+=this.getFormatedDisplay("AVG"),e+=this.getFormatedDisplay("EL(%)"),e+=this.getFormatedDisplay("AVG(%)"),e+=this.getFormatedDisplay("#"),e+=this.getFormatedDisplay("NAME",!1),e+="\n",e+=StringTools.rpad("-","-",63),e+="\n";for(var t=0,n=this.history;t<n.length;){var r=n[t];++t,e+=this.getFormatedDisplay(r.getRelElapsed()),e+=this.getFormatedDisplay(r.getRelAverage()),e+=this.getFormatedDisplay(r.getPercentElapsed(r.elapsed)),e+=this.getFormatedDisplay(r.getPercentAverage(r.totalElapsed)),e+=this.getFormatedDisplay(null==r.branchInstances?"null":""+r.branchInstances),e+=" "+r.getFormattedName(),e+="\n";for(var i=0,o=r.childHistory;i<o.length;){var s=o[i];++i,e+=this.getFormatedDisplay(s.getRelElapsed()),e+=this.getFormatedDisplay(s.getRelAverage()),e+=this.getFormatedDisplay(s.getPercentElapsed(r.elapsed)),e+=this.getFormatedDisplay(s.getPercentAverage(r.totalElapsed)),e+=this.getFormatedDisplay(null==s.branchInstances?"null":""+s.branchInstances),e+=" "+s.getFormattedName(),e+="\n"}}this.console.interfc.writeProfilerOutput(e)},setSampleParent:function(e){e.numParents=0;for(var t=0,n=this.samples;t<n.length;){var r=n[t];++t,r.openInstances>0&&r.name!=e.name&&(e.numParents++,""==e.parentName?e.parentName=r.name:r.numParents>this.getSample(e.parentName).numParents&&(e.parentName=r.name))}},getSample:function(e){for(var t=0,n=this.samples;t<n.length;){var r=n[t];if(++t,r.name==e)return r}return null},getHistory:function(e){for(var t=0,n=this.history;t<n.length;){var r=n[t];if(++t,r.name==e)return r}return null},stopTimer:function(){null!=this.refreshTimer&&(this.refreshTimer.stop(),this.refreshTimer=null)},startTimer:function(){null!=this.refreshTimer&&this.stopTimer(),this.refreshTimer=new haxe.Timer(this.refreshRate),this.refreshTimer.run=$bind(this,this.writeOutput)},getTimeMS:function(){return Std["int"](1e3*haxe.Timer.stamp())},__class__:pgr.dconsole.DCProfiler},pgr.dconsole.SampleHistory=function(e){this.nLogs=0,this.numParents=0,this.instances=0,this.branchInstances=0,this.totalChildrenElapsed=0,this.childrenElapsed=0,this.avgElapsed=0,this.maxElapsed=0,this.minElapsed=0,this.totalElapsed=0,this.elapsed=0,this.name="",this.childHistory=new Array,this.name=e.name,this.elapsed=e.elapsed,this.minElapsed=this.elapsed,this.maxElapsed=this.elapsed,this.update(e)},$hxClasses["pgr.dconsole.SampleHistory"]=pgr.dconsole.SampleHistory,pgr.dconsole.SampleHistory.__name__=["pgr","dconsole","SampleHistory"],pgr.dconsole.SampleHistory.prototype={name:null,elapsed:null,totalElapsed:null,minElapsed:null,maxElapsed:null,avgElapsed:null,childrenElapsed:null,totalChildrenElapsed:null,branchInstances:null,instances:null,numParents:null,startTime:null,nLogs:null,childHistory:null,clearBranchSamples:function(){this.branchInstances=0;for(var e=0,t=this.childHistory;e<t.length;){var n=t[e];++e,n.branchInstances=0}},update:function(e){if(e.name!=this.name)throw"updating history from different sample.";this.childrenElapsed=e.childrenElapsed,this.elapsed=e.elapsed,this.elapsed>this.maxElapsed&&(this.maxElapsed=this.elapsed),this.elapsed<this.minElapsed&&(this.minElapsed=this.elapsed),this.startTime=e.startTime,this.instances+=e.instances,this.branchInstances+=e.instances,this.numParents=e.numParents,this.totalElapsed+=this.elapsed,this.totalChildrenElapsed+=this.childrenElapsed,this.nLogs++},addChildEntry:function(e){if(e.name==this.name)throw"adding "+e.name+" to "+this.name+" as child sample.";var t=this.getChild(e.name);null==t?(t=new pgr.dconsole.SampleHistory(e),this.childHistory.push(t)):t.update(e)},getElapsed:function(){return Std.string(this.elapsed)},getAverage:function(){return Std.string(this.totalElapsed/this.nLogs)},getMinElapsed:function(){return Std.string(this.minElapsed)},getMaxElapsed:function(){return Std.string(this.maxElapsed)},getRelElapsed:function(){return Std.string(this.elapsed-this.childrenElapsed)},getRelAverage:function(){return Std.string((this.totalElapsed-this.totalChildrenElapsed)/this.nLogs|0)},getPercentElapsed:function(e){return Std.string((100*(this.elapsed-this.childrenElapsed)/e*10|0)/10)},getPercentAverage:function(e){return Std.string((100*(this.totalElapsed-this.totalChildrenElapsed)/e*10|0)/10)},getFormattedName:function(){for(var e="",t=0,n=this.numParents;n>t;){{t++}e+="    "}return e+=this.name},getChild:function(e){for(var t=0,n=this.childHistory;t<n.length;){var r=n[t];if(++t,r.name==e)return r}return null},__class__:pgr.dconsole.SampleHistory},pgr.dconsole.DCThemes=function(){},$hxClasses["pgr.dconsole.DCThemes"]=pgr.dconsole.DCThemes,pgr.dconsole.DCThemes.__name__=["pgr","dconsole","DCThemes"],pgr.dconsole.DCThemes.current=null,pgr.dconsole.DCThemes.prototype={__class__:pgr.dconsole.DCThemes},pgr.dconsole.ALIAS_TYPE=$hxClasses["pgr.dconsole.ALIAS_TYPE"]={__ename__:["pgr","dconsole","ALIAS_TYPE"],__constructs__:["COMMAND","OBJECT","FUNCTION"]},pgr.dconsole.ALIAS_TYPE.COMMAND=["COMMAND",0],pgr.dconsole.ALIAS_TYPE.COMMAND.toString=$estr,pgr.dconsole.ALIAS_TYPE.COMMAND.__enum__=pgr.dconsole.ALIAS_TYPE,pgr.dconsole.ALIAS_TYPE.OBJECT=["OBJECT",1],pgr.dconsole.ALIAS_TYPE.OBJECT.toString=$estr,pgr.dconsole.ALIAS_TYPE.OBJECT.__enum__=pgr.dconsole.ALIAS_TYPE,pgr.dconsole.ALIAS_TYPE.FUNCTION=["FUNCTION",2],pgr.dconsole.ALIAS_TYPE.FUNCTION.toString=$estr,pgr.dconsole.ALIAS_TYPE.FUNCTION.__enum__=pgr.dconsole.ALIAS_TYPE,pgr.dconsole.ALIAS_TYPE.__empty_constructs__=[pgr.dconsole.ALIAS_TYPE.COMMAND,pgr.dconsole.ALIAS_TYPE.OBJECT,pgr.dconsole.ALIAS_TYPE.FUNCTION],pgr.dconsole.DCUtil=function(){},$hxClasses["pgr.dconsole.DCUtil"]=pgr.dconsole.DCUtil,pgr.dconsole.DCUtil.__name__=["pgr","dconsole","DCUtil"],pgr.dconsole.DCUtil.formatAlias=function(e,t,n){var r=1;if(null==t||""==t)return null;var i=new EReg("^[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*","");if(!i.match(t))return null;n==pgr.dconsole.ALIAS_TYPE.COMMAND&&(t=t.toLowerCase());for(var o=t;null!=e.getCommand(t)||null!=e.getObject(t)||null!=e.getFunction(t)||null!=e.getClass(t);)switch(n[1]){case 0:t="c"+t;break;case 2:t="f"+t;break;case 1:t=o+(null==r?"null":""+r),r++}return t},pgr.dconsole.DConsole=function(e,t,n){null==e&&(e=new pgr.dconsole.input.DCEmptyInput),null==t&&(t=new pgr.dconsole.ui.DCEmtpyInterface),pgr.dconsole.DCThemes.current=null==n?pgr.dconsole.DCThemes.DARK:n,this.setConsoleKey(9),this.setMonitorKey(9,!0),this.setProfilerKey(9,!1,!0),this.monitor=new pgr.dconsole.DCMonitor(this),this.profiler=new pgr.dconsole.DCProfiler(this),this.input=e,e.console=this,e.init(),this.interfc=t,t.init(),this.commands=new pgr.dconsole.DCCommands(this),this.clearHistory(),this.enable(),this.hideConsole(),this.hideMonitor(),this.hideProfiler(),this.commands.registerCommand(($_=this.commands,$bind($_,$_.showHelp)),"help","","Type HELP [command-name] for more info"),this.commands.registerCommand(($_=this.commands,$bind($_,$_.showCommands)),"commands","","Shows available commands","Type HELP [command-name] for more info"),this.commands.registerCommand(($_=this.commands,$bind($_,$_.listFunctions)),"functions","funcs","Lists registered functions","To call a function type functionName( args ), make sure the args type and number are correct"),this.commands.registerCommand(($_=this.commands,$bind($_,$_.listObjects)),"objects","objs","Lists registered objects","To print an object field type object.field\nTo set and object field type object.field = value"),this.commands.registerCommand(($_=this.commands,$bind($_,$_.listClasses)),"classes","","Lists registered classes","Registered classes can access their static fields and methods, eg: Math.abs(value), or Math.PI"),this.commands.registerCommand($bind(this,this.clearConsole),"clear","","Clears console view"),this.commands.registerCommand($bind(this,this.toggleMonitor),"monitor","","Toggles monitor on and off","Monitor is used to track variable values in runtime\nCONTROL + CONSOLE_KEY (default TAB) also toggles monitor"),this.commands.registerCommand($bind(this,this.toggleProfiler),"profiler","","Toggles profiler on and off","Profiler is used to profile app and view statistics like time elapsed and percentage in runtime\nSHIFT + CONSOLE_KEY (default TAB) also toggles profiler")},$hxClasses["pgr.dconsole.DConsole"]=pgr.dconsole.DConsole,pgr.dconsole.DConsole.__name__=["pgr","dconsole","DConsole"],pgr.dconsole.DConsole.prototype={_historyArray:null,_historyIndex:null,input:null,interfc:null,monitor:null,profiler:null,commands:null,consoleKey:null,monitorKey:null,profilerKey:null,enabled:null,visible:null,showConsole:function(){this.visible=!0,this.enabled&&this.interfc.showConsole()},hideConsole:function(){this.visible=!1,this.enabled&&this.interfc.hideConsole()},enable:function(){this.enabled=!0,this.visible&&this.interfc.showConsole(),this.monitor.visible&&this.interfc.showMonitor(),this.profiler.visible&&this.interfc.showProfiler(),this.input.enable()},disable:function(){this.enabled=!1,this.interfc.hideConsole(),this.interfc.hideMonitor(),this.interfc.hideProfiler(),this.input.disable()},setConsoleKey:function(e,t,n,r){null==r&&(r=!1),null==n&&(n=!1),null==t&&(t=!1),this.consoleKey=this.makeShorcutKey(e,t,n,r)},setMonitorKey:function(e,t,n,r){null==r&&(r=!1),null==n&&(n=!1),null==t&&(t=!1),this.monitorKey=this.makeShorcutKey(e,t,n,r)},setProfilerKey:function(e,t,n,r){null==r&&(r=!1),null==n&&(n=!1),null==t&&(t=!1),this.profilerKey=this.makeShorcutKey(e,t,n,r)},makeShorcutKey:function(e,t,n,r){return null==r&&(r=!1),null==n&&(n=!1),null==t&&(t=!1),{altKey:r,ctrlKey:t,shiftKey:n,keycode:e}},log:function(data,color){if(null==color&&(color=-1),"number"==typeof data||"boolean"==typeof data||""!=data){this.interfc.log(data,color);var scolor=StringTools.hex(color,6),s=Std.string(data);s=StringTools.replace(s,"\n","\\n"),eval('var event = new CustomEvent("console_log", { detail: { data:"'+s+'", color:"'+scolor+'" }}); document.dispatchEvent(event);')}},logConfirmation:function(e){this.log(e,pgr.dconsole.DCThemes.current.LOG_CON)},logInfo:function(e){this.log(e,pgr.dconsole.DCThemes.current.LOG_INF)},logError:function(e){this.log(e,pgr.dconsole.DCThemes.current.LOG_ERR)},logWarning:function(e){this.log(e,pgr.dconsole.DCThemes.current.LOG_WAR)},clearConsole:function(){this.interfc.clearConsole()},clearHistory:function(){this._historyArray=new Array,this._historyIndex=-1},monitorField:function(e,t,n){if(null==t||""==t)return void this.logError("invalid fieldName");if(null==n||""==n)return void this.logError("invalid alias");if(null==e||!Reflect.isObject(e))return void this.logError("invalid object.");try{Reflect.getProperty(e,t)}catch(r){return void this.logError("could not find field: "+t)}this.monitor.addField(e,t,n)},toggleMonitor:function(){this.monitor.visible?this.hideMonitor():this.showMonitor()},showMonitor:function(){this.hideProfiler(),this.monitor.show(),this.interfc.showMonitor()},hideMonitor:function(){this.monitor.hide(),this.interfc.hideMonitor()},toggleProfiler:function(){this.profiler.visible?this.hideProfiler():this.showProfiler()},showProfiler:function(){this.hideMonitor(),this.profiler.show(),this.interfc.showProfiler()},hideProfiler:function(){this.profiler.hide(),this.interfc.hideProfiler()},prevHistory:function(){this._historyIndex--,this._historyIndex<0&&(this._historyIndex=0),this._historyIndex>this._historyArray.length-1||(this.interfc.setInputTxt(this._historyArray[this._historyIndex]),this.interfc.moveCarretToEnd())},nextHistory:function(){this._historyIndex+1>this._historyArray.length-1||(this._historyIndex++,this.interfc.setInputTxt(this._historyArray[this._historyIndex]),this.interfc.moveCarretToEnd())},processInputLine:function(){var e=this.interfc.getInputTxt();""!=e&&null!=e&&(this._historyArray.splice(0,0,e),this.resetHistoryIndex(),this.log("> "+e),this.interfc.clearInput(),this.commands.evaluate(e))},resetHistoryIndex:function(){this._historyIndex=-1},scrollDown:function(){this.interfc.scrollConsoleDown()},scrollUp:function(){this.interfc.scrollConsoleUp()},__class__:pgr.dconsole.DConsole},pgr.dconsole.input={},pgr.dconsole.input.DCInput=function(){},$hxClasses["pgr.dconsole.input.DCInput"]=pgr.dconsole.input.DCInput,pgr.dconsole.input.DCInput.__name__=["pgr","dconsole","input","DCInput"],pgr.dconsole.input.DCInput.prototype={console:null,init:null,enable:null,disable:null,__class__:pgr.dconsole.input.DCInput},pgr.dconsole.input.DCEmptyInput=function(){},$hxClasses["pgr.dconsole.input.DCEmptyInput"]=pgr.dconsole.input.DCEmptyInput,pgr.dconsole.input.DCEmptyInput.__name__=["pgr","dconsole","input","DCEmptyInput"],pgr.dconsole.input.DCEmptyInput.__interfaces__=[pgr.dconsole.input.DCInput],pgr.dconsole.input.DCEmptyInput.prototype={console:null,init:function(){},enable:function(){},disable:function(){},__class__:pgr.dconsole.input.DCEmptyInput},pgr.dconsole.ui={},pgr.dconsole.ui.DCInterface=function(){},$hxClasses["pgr.dconsole.ui.DCInterface"]=pgr.dconsole.ui.DCInterface,pgr.dconsole.ui.DCInterface.__name__=["pgr","dconsole","ui","DCInterface"],pgr.dconsole.ui.DCInterface.prototype={init:null,showConsole:null,hideConsole:null,writeMonitorOutput:null,showMonitor:null,hideMonitor:null,writeProfilerOutput:null,showProfiler:null,hideProfiler:null,log:null,moveCarretToEnd:null,scrollConsoleUp:null,scrollConsoleDown:null,toFront:null,setConsoleFont:null,setPromptFont:null,setProfilerFont:null,setMonitorFont:null,inputRemoveLastChar:null,getInputTxt:null,setInputTxt:null,getConsoleText:null,clearInput:null,clearConsole:null,__class__:pgr.dconsole.ui.DCInterface},pgr.dconsole.ui.DCEmtpyInterface=function(){},$hxClasses["pgr.dconsole.ui.DCEmtpyInterface"]=pgr.dconsole.ui.DCEmtpyInterface,pgr.dconsole.ui.DCEmtpyInterface.__name__=["pgr","dconsole","ui","DCEmtpyInterface"],pgr.dconsole.ui.DCEmtpyInterface.__interfaces__=[pgr.dconsole.ui.DCInterface],pgr.dconsole.ui.DCEmtpyInterface.prototype={init:function(){},showConsole:function(){},hideConsole:function(){},writeMonitorOutput:function(){},showMonitor:function(){},hideMonitor:function(){},writeProfilerOutput:function(){},showProfiler:function(){},hideProfiler:function(){},log:function(){},moveCarretToEnd:function(){},scrollConsoleUp:function(){},scrollConsoleDown:function(){},toFront:function(){},setConsoleFont:function(e,t,n,r,i,o){null==o&&(o=!1),null==i&&(i=!1),null==r&&(r=!1),null==n&&(n=14),null==t&&(t=!1)},setPromptFont:function(e,t,n,r,i,o){null==o&&(o=!1),null==i&&(i=!1),null==r&&(r=!1),null==n&&(n=16),null==t&&(t=!1)},setProfilerFont:function(e,t,n,r,i,o){null==o&&(o=!1),null==i&&(i=!1),null==r&&(r=!1),null==n&&(n=14),null==t&&(t=!1)},setMonitorFont:function(e,t,n,r,i,o){null==o&&(o=!1),null==i&&(i=!1),null==r&&(r=!1),null==n&&(n=14),null==t&&(t=!1)},inputRemoveLastChar:function(){},getInputTxt:function(){return""},setInputTxt:function(){},getConsoleText:function(){return""},clearInput:function(){},clearConsole:function(){},__class__:pgr.dconsole.ui.DCEmtpyInterface};var $_,$fid=0;Array.prototype.indexOf&&(HxOverrides.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}),Array.prototype.lastIndexOf&&(HxOverrides.lastIndexOf=function(e,t,n){return Array.prototype.lastIndexOf.call(e,t,n)}),Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,$hxClasses.Math=Math,Math.isFinite=function(e){return isFinite(e)},Math.isNaN=function(e){return isNaN(e)},String.prototype.__class__=$hxClasses.String=String,String.__name__=["String"],$hxClasses.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=$hxClasses.Date=Date,Date.__name__=["Date"];var Int=$hxClasses.Int={__name__:["Int"]},Dynamic=$hxClasses.Dynamic={__name__:["Dynamic"]},Float=$hxClasses.Float=Number;
Float.__name__=["Float"];var Bool=$hxClasses.Bool=Boolean;Bool.__ename__=["Bool"];var Class=$hxClasses.Class={__name__:["Class"]},Enum={},Void=$hxClasses.Void={__ename__:["Void"]};null==Array.prototype.map&&(Array.prototype.map=function(e){for(var t=[],n=0,r=this.length;r>n;){var i=n++;t[i]=e(this[i])}return t}),null==Array.prototype.filter&&(Array.prototype.filter=function(e){for(var t=[],n=0,r=this.length;r>n;){var i=n++,o=this[i];e(o)&&t.push(o)}return t}),haxe.Resource.content=[{name:"01_Hello_World",data:"Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gU2ltcGxlIGhlbGxvIHdvcmxkIGV4YW1wbGUuDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpmb3IoaSBpbiAwLi4uMykgew0KICAgIHRyYWNlKDMgLSBpICsgIi4uLiIpOw0KfQ0KDQp0cmFjZSgiSGVsbG8gV29ybGQhISFcbiIpOw"},{name:"03_Page_Hack",data:"Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vIFBhZ2UgaGFja2luZyB1c2luZyBIYXhlIEpRdWVyeQ0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCnZhciBsb2dvID0gbmV3IEpRdWVyeSgnI3RpdGxlLWxvZ28nKTsNCnZhciBjb250YWluZXIgPSBuZXcgSlF1ZXJ5KCcuY29udGFpbmVyLWZsdWlkJyk7DQoNCi8vIGZhZGUgb3V0IGFuZCBpbiB0aGUgbWFpbiBjb250YWluZXINCmNvbnRhaW5lci5mYWRlT3V0KDUwMCwgZnVuY3Rpb24gKCkgew0KCWNvbnRhaW5lci5mYWRlSW4oNTAwKTsNCn0pOw0KDQovLyByZW1vdmUgcHJldmlvdXMgZXZlbnQgbGlzdGVuZXJzDQpsb2dvLnVuYmluZCgpOw0KDQovLyBhZGQgbW91c2UgY2xpY2sgZXZlbnQgbGlzdGVuZXINCmxvZ28uY2xpY2soZnVuY3Rpb24gKGUpIHsNCglMaWIuYWxlcnQoIlBhZ2UgSGFja2VkISIpOw0KfSk7DQoNCm51bGw7IC8vIHByZXZlbnRzIHN0cmluZyBvdXRwdXQgZnJvbSBnb2luZyB0byB0aGUgY29uc29sZQ0K"},{name:"02_Ascii_Maze",data:"Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gQVNDSUkgbWF6ZSBleGFtcGxlLiAoYnkgc3lsdmlvIHNlbGwpDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQp2YXIgY3JlYXRlTWF6ZTsNCmNyZWF0ZU1hemUgPSBmdW5jdGlvbihtLCB4LCB5LCB3LCBoKSB7DQogICAgbVt5XVt4XSA9ICcgJzsNCiAgICB2YXIgZCA9IFsgLTIsIDAsIDAsIDIsIDIsIDAsIDAsIC0yXTsNCgkNCiAgICB3aGlsZShkLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdmFyIGkgPSBkLnNwbGljZSgyICogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZC5sZW5ndGggLyAyKSwgMik7DQogICAgICAgIHZhciBhID0geCArIGlbMF07DQogICAgICAgIHZhciBiID0geSArIGlbMV07DQogICAgICAgIGlmKGEgPiAwICYmIGIgPiAwICYmIGEgPCB3ICYmIGIgPCBoICYmIG1bYl1bYV0gIT0gJyAnKQ0KICAgICAgICB7DQogICAgICAgICAgICBtW2IgLSBNYXRoLmZsb29yKGlbMV0gLyAyKV1bYSAtIE1hdGguZmxvb3IoaVswXSAvIDIpXSA9ICcgJzsNCiAgICAgICAgICAgIGNyZWF0ZU1hemUobSwgYSwgYiwgdywgaCk7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCnZhciB3aWR0aCA9IDIzOw0KdmFyIGhlaWdodCA9IDExOw0KdmFyIG1hemUgPSBbXTsNCg0KZm9yICh5IGluIDAuLi5oZWlnaHQpIHsNCgltYXplW3ldID0gW107DQoJZm9yICh4IGluIDAuLi53aWR0aCkgew0KCQltYXplW3ldLnB1c2goJyMnKTsNCgl9DQp9DQoNCmNyZWF0ZU1hemUobWF6ZSwgMSwgMSwgd2lkdGgsIGhlaWdodCk7DQoNCnRyYWNlKCdcbicgKyB3aWR0aCArICd4JyArIGhlaWdodCArICcgTWF6ZScpOw0KZm9yICh5IGluIDAuLi5oZWlnaHQpIHsNCgl0cmFjZSggbWF6ZVt5XS5qb2luKCcnKSApOw0KfQ0K"}];var q=window.jQuery;js.JQuery=q,q.fn.iterator=function(){return{pos:0,j:this,hasNext:function(){return this.pos<this.j.length},next:function(){return $(this.j[this.pos++])}}},haxe.crypto.Base64.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",haxe.crypto.Base64.BYTES=haxe.io.Bytes.ofString(haxe.crypto.Base64.CHARS),haxe.ds.ObjectMap.count=0,haxe.io.Output.LN2=Math.log(2),hscript.Parser.p1=0,hscript.Parser.readPos=0,hscript.Parser.tokenMin=0,hscript.Parser.tokenMax=0,pgr.dconsole.DC.VERSION="4.3.2",pgr.dconsole.DC.ALIGN_DOWN="DOWN",pgr.dconsole.DC.ALIGN_UP="UP",pgr.dconsole.DCProfiler.NUM_SPACES=8,pgr.dconsole.DCThemes.LIGHT={CON_C:12961221,CON_TXT_C:0,CON_A:.7,CON_TXT_A:1,PRM_C:12961221,PRM_TXT_C:0,MON_C:0,MON_TXT_C:16777215,MON_A:.7,MON_TXT_A:.7,LOG_WAR:6710784,LOG_ERR:7798784,LOG_INF:26214,LOG_CON:30464},pgr.dconsole.DCThemes.DARK={CON_C:3487029,CON_TXT_C:16777215,CON_A:.7,CON_TXT_A:1,PRM_C:1118481,PRM_TXT_C:16777215,MON_C:0,MON_TXT_C:16777215,MON_A:.7,MON_TXT_A:.7,LOG_WAR:16776960,LOG_ERR:16711680,LOG_INF:65535,LOG_CON:65280},pgr.dconsole.DConsole.ALIGN_DOWN="DOWN",pgr.dconsole.DConsole.ALIGN_UP="UP",Main.main()}("undefined"!=typeof window?window:exports);